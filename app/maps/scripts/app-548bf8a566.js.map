{"version":3,"sources":["scripts/app-548bf8a566.js"],"names":["routeConfig","$urlRouterProvider","baSidebarServiceProvider","otherwise","angular","module","config","$provide","decorator","taRegisterTool","taOptions","keyMappings","toolbar","$stateProvider","baConfigProvider","colorHelper","uiViewScrollDecorator","$delegate","$anchorScroll","baUtil","uiViewElement","hasAttr","configProvider","conf","theme","blur","colors","default","basic","defaultText","border","borderDark","primary","colorScheme","info","success","warning","danger","primaryLight","tint","infoLight","successLight","warningLight","dangerLight","primaryDark","shade","infoDark","successDark","warningDark","dangerDark","dashboard","blueStone","dashboardColors","surfieGreen","silverTree","gossip","white","changeTheme","merge","changeColors","$get","provider","mix","color1","color2","weight","d2h","d","toString","h2d","h","parseInt","result","i","color1Part","substr","color2Part","resultPart","Math","floor","slice","IMAGES_ROOT","constant","resWidthCollapseSidebar","resWidthHideSidebar","images","root","profile","amMap","amChart","color","themeRun","$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings","whatToWait","loadAmCharts","mobile","unshift","loadImg","all","then","$pageFinishedLoading","$apply","$baSidebarService","run","baConfig","isMobile","test","navigator","userAgent","toLowerCase","mobileClass","blurClass","element","document","body","addClass","service","DashboardController","$scope","$location","$state","NotificationsService","TestService","activate","controller","miLoader","restrict","transclude","templateUrl","directive","toastr","toastrConfig","openedToasts","types","copy","SUCCESS","ERROR","INFO","WARNING","insert_toast","options","extend","push","type","msg","title","default_options","autoDismiss","positionClass","timeOut","extendedTimeOut","allowHtml","closeButton","tapToDismiss","progressBar","newestOnTop","maxOpened","preventDuplicates","preventOpenDuplicates","default_toast","custom_toast","factory","$locationProvider","$urlRouterProviderRef","html5Mode","$stateProviderRef","state","url","sidebarMeta","icon","order","permissions","ADMIN","MEDICINA","PSICOLOGIA","SECRETARIA","access","runConfig","$http","AuthService","$window","$on","event","selectedState","token","localStorage","getItem","me","data","esPsicologo","esMedico","esSecretaria","esAdmin","hasPermission","user","permitted","_","forEach","permission","indexOf","roles","preventDefault","go","PLURAL_CATEGORY","ZERO","ONE","TWO","FEW","MANY","OTHER","value","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","STANDALONEMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","id","localeID","pluralCat","n","opt_precision","autofocus","link","$element","focus","UtilsService","_roles","name","_departamentos","_religiones","_years","_months","_days","_blood_types","_grados","_estados_caja","_hours","_minutes","getEstadosCaja","getMinutes","range","x","getHours","getGrados","getBloodTypes","getYears","actualYear","Date","getFullYear","reverse","getMonths","getDays","getReligiones","getRoles","getDepartamentos","toastrLibConfig","closeHtml","containerId","target","animatedChange","scope","changeValue","val","html","newValue","attr","oldvalue","j","next","find","autoExpand","elem","bind","$event","$","height","scrollHeight","setTimeout","autoFocus","$parse","attrs","model","$watch","select","assign","includeWithScope","ele","ionSlider","template","replace","min","max","prefix","maxPostfix","prettify","prettifySeparator","grid","gridMargin","postfix","step","hideMinMax","hideFromTo","from","to","disable","onChange","onFinish","values","timeout","ionRangeSlider","prettify_enabled","prettify_separator","update","ngFileSelect","el","e","file","srcElement","files","getFile","scrollPosition","maxHeight","window","on","scrollTop","prevScrollTop","trackWidth","minWidth","width","prevTrackWidth","resize","zoomIn","delay","removeClass","baProgressModal","$uibModal","methods","progress","opened","setProgress","Error","getProgress","open","animation","size","keyboard","backdrop","close","this","isDescendant","parent","child","node","parentNode","hexToRGB","hex","alpha","r","g","b","attrName","fileReader","onLoad","reader","deferred","resolve","onError","reject","onProgress","$broadcast","total","loaded","getReader","FileReader","onload","onerror","onprogress","readAsDataURL","defer","promise","readAsDataUrl","src","img","Image","AmCharts","ready","stopableInterval","start","interval","calback","time","startInterval","cancel","LoginController","vm","account","loading","utils_template","current","utils_app","removeItem","deactivate","error","logout","login_validate","username","password","login","setItem","response","eliminado","catch","MeController","swal","text","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","closeOnConfirm","onkeydown","onfocus","authConfig","$httpProvider","interceptors","$inject","authInterceptor","request","headers","Authorization","when","responseError","status","path","get","credentials","post","rol","CerrarCajaController","AperturaCierreService","item","ingresos_egresos","apertura_cierre_caja","ESTADOS_CAJA","total_cierre_form","_validate","undefined","total_actual","notas","_onError","detail","_onSave","caja_activa","id_apertura_caja","confirm","err","save","showLoaderOnConfirm","json","estado","total_cierre","fecha_cierre","$resource","list","method","params","query","create","stripTrailingSlashes","CajaController","ngDialog","CajaService","array","pagination","max_size","total_items","current_page","search","caja","page","results","page_changed","count","aperturarCaja","total_ultimo_cierre","length","cierre_anterior","total_apertura_form","openConfirm","closeByDocument","closeByEscape","toFixed","total_apertura","response_caja","controllerAs","reporteMovimientos","reporte","formats","format","dateOptions","formatYear","startingDay","desde","hasta","clear","openFechaDesde","stopPropagation","openedFechaDesde","openFechaHasta","openedFechaHasta","today","generate","fecha_inicial","getMonth","getDate","fecha_final","closeThisDialog","detallesCierreCaja","loadingIngEng","ingresos_egresos_info","apertura_cierre_caja_info","MovimientosCajaController","MovimientosCajaService","tipo","tipo_nombre","registrarMovimiento","className","cerrarCaja","detallesMovimiento","movimiento_caja","MovimientosCajaCreateAbonoPacienteController","CobrosPacienteService","paciente","cantidad","tipo_documento","num_documento","concepto","persona","activar_cantidad","activar_egreso","colaborador","monto","pagado","motivo","changeType","MovimientosCajaCreateCobroPacienteController","MovimientosCajaCreateController","CasoNotasCerrarController","CasoService","CasoNotasService","caso","sesiones","fecha_nacimiento","edad","moment","diff","fecha","getSesiones","cerrado","diagnostico","plan_terapeutico","instrumentos","resultados","pronostico","observaciones","abrirCaso","CasoController","_onDelete","viewImg","actual_user_foto","goToUrl","delete","CasoCreateController","UsersService","PacienteService","WizardHandler","CitaService","Upload","departamentos","religiones","foto","genograma","panelPacienteOculto","panelMotivoOculto","panelHistoriaActualOculto","panelHistoriaClinicaOculto","panelHistoriaFamiliarOculto","panelExamenMentalOculto","panelFuentesSecundariasOculto","panelDiscernimientoDiagnosticoOculto","panelObjetivoTerapeuticoOculto","panelEvaluacionPronosticaOculto","panelPlanTerapeuticoOculto","panelGenogramaOculto","historia_actual","fecha_inicio_duracion_evento","factores_precipitantes","impacto_enfermedad","examen_mental","apariencia","actitud","conducta","lenguaje","curso_contenido_pensamiento","percepcion","humor","afecto","inteligencia","orientacion","memoria","control_impulsos","capacidad_juicio_critico","capacidad_insight","confiabilidad","fuentes_secundarias","informes_medicos","test_psicometricos_informe_resultados","test_proyectivos_interpretacion_resultados","discernimiento_diag","criterios_diagnostico","diagnostico_semiologico","diagnostico_psicodinamico","objetivo_terapeutico","corto_plazo","mediano_plazo","largo_plazo","apellido_casada","cui","telefono","celular","nacionalidad","departamento","direccion","correo","genero","tipos","contacto_referencia","telefono_referencia","religion","tipo_de_sangre","num_hermanos","nivel_academico","ocupacion","lugar_nacimiento","nombres_padres","ocupacion_padres","info_padres","notas_medicas","antecedentes","medicos","quirurgicos","traumaticos","alergicos","vicios","pediatricos","familiares","ginecologicos","fur","gestas","partos","abortos","pf","notas_psicologicas","historia_clinica","historia_prenatal","desarrollo_psicomotriz","desenvolvimiento_escolar","adolescencia","historia_psico_sexual","vida_social","historia_medica","trastornos_familiares","otros","historia_familiar","grados","tiposDeSangre","anios","meses","dias","nacimiento","getPaciente","setMinutes","getTimezoneOffset","JSON","parse","cleanString","string","str","normalize","_guardarCaso","stringify","upload","response_img","error_img","listenUploaders","querySelector","handleFileSelect","handleFileSelectGenogram","showPanel","panel","filter","field","evt","currentTarget","clone","CasoEditController","disabled","CasoNotasController","loading_item","gotoCaso","edit","details","createCita","CasoNotasCreateController","nota","num_sesion","avance_terapeutico","comentario_paciente","eventos_relevantes","evolucion_fisica","evolucion_psicologica","tarea_anterior","tarea_proxima","vario","getPrevio","previo","CasoNotasDetailsController","CasoNotasEditController","fecha_creacion","CitasController","anulada","consultar","CitasDialogController","colaboradores","loadingPac","pacientes","resetPaciente","paginationPac","horas","minutos","fechaCita","descripcion","now","setDate","hora","minuto","validate","guardarPaciente","guardarCita","cita","fecha_cita","listColaboradores","seleccionarColaborador","page_changed_pac","listPacientes","searchPac","seleccionarPaciente","CitaDetailsDialogController","ArchivosConsultaController","ConsultaService","ArchivosConsultaService","consulta","archivo","split","split_name","ext","uploadFile","downloadFile","createElement","href","download","click","viewFile","ConsultaController","ConsultaCreateController","panelAntecedentesOculto","panelExamenFisicoOculto","panelPlanDiagnosticoOculto","panelImpresionClinicaOculto","panelTratamientoOculto","historia","examen_fisico","plan_diagnostico","impresion_clinica","tratamiento","_guardarConsulta","ConsultaEditController","ReconsultaController","ReconsultaService","ReconsultaCreateController","reconsulta","_guardarReconsulta","ReconsultaEditController","CobrosPacienteCreateController","cobro","CobrosPacienteController","pendientes","pagados","anulados","todas","filterby","query_json","anulado","registrarCobro","anularCobro","realizarCobro","registrarAbono","PacientesController","PacientesCreateController","form","$valid","$dirty","PacienteDialogController","PacientesEditController","ProfesionController","ProfesionService","profesion","ProfesionCreateController","ProfesionEditController","UserController","UserCreateController","perfil","colegiado","password_confirm","email","getProfesiones","validate_password","UserEditController","_get","_validate_password","form_password","fileExt","pop","match","isImage","restore_password","restore","baPanel","res","baPanelClass","baPanelTitle","titleTpl","baPanelBlur","baPanelBlurHelper","bodyBgSize","bodyBgLoad","getBodyBgImageSizes","addEventListener","recalculatePanelStyle","css","backgroundSize","round","backgroundPosition","positionX","positionY","$isMobile","removeEventListener","computedStyle","getComputedStyle","image","backgroundImage","elemW","documentElement","clientWidth","elemH","clientHeight","finalHeight","finalWidth","imgRatio","containerRatio","baPanelSelf","BaSidebarCtrl","getMe","user_img","Items","getMenuItems","menuItems","founded","defaultSidebarState","stateRef","hoverItem","showHoverElem","hoverElemHeight","menuTopValue","hoverElemTop","getBoundingClientRect","top","canSidebarBeHidden","setMenuCollapsed","baSidebar","layoutSizes","jqWindow","_onWindowClick","$evt","originalEvent","$sidebarEventProcessed","isMenuCollapsed","_onWindowResize","newMenuCollapsed","shouldMenuBeCollapsed","newMenuHeight","_calculateMenuHeight","menuHeight","childNodes","off","staticMenuItems","addStaticItem","apply","arguments","_factory","defineMenuItemStates","s","map","meta","level","sort","a","innerWidth","states","children","subMenu","concat","isCollapsed","toggleMenuCollapsed","getAllStateRefsRecursive","_iterateSubItems","currentItem","subItem","baSidebarToggleMenu","baSidebarCollapseMenu","baSidebarTogglingItem","BaSidebarTogglingItemCtrl","$attrs","_isState","subItemsStateRefs","some","subItemState","menuItem","$$menuItem","$eval","$$expandSubmenu","console","warn","$$collapseSubmenu","$expand","$collapse","$toggle","hasClass","toState","baUiSrefTogglingSubmenu","require","slideDown","slideUp","baUiSrefToggler","baWizard","baWizardCtrl","calcProgress","tabNum","tabs","addTab","tab","setPrev","selectTab","submit","isAvailiable","t","tIndex","isFirstTab","isLastTab","nextTab","previousTab","baWizardStep","wizard","isSelected","selected","$setSubmitted","isComplete","prevTab","pTab","backTop","position","speed","contentTop","activePageTitle","MsgCenterCtrl","$sce","users","0","1","2","3","notifications","userId","messages","getMessage","trustAsHtml","msgCenter","pageTop","progressBarRound","animateBar","circle","setAttribute","PI","baProgressDialog","widgets","ngModel","appImage","input","kameleonImg","profilePicture","plainText","String","baSwitcher","switcherStyle","switcherValue","o","fn","c","right","bottom","scroll","fadeIn","fadeOut","animate","duration","jQuery","$templateCache","put"],"mappings":"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","file":"scripts/app-548bf8a566.js","sourcesContent":["/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages', [\n    'ui.router',\n\n    'BlurAdmin.pages.routes',\n    'BlurAdmin.pages.auth',\n    'BlurAdmin.pages.dashboard',\n    'BlurAdmin.pages.notifications',\n    'BlurAdmin.pages.utils',\n    'BlurAdmin.pages.loader',\n\n    'BlurAdmin.pages.users',\n    'BlurAdmin.pages.profesiones',\n    'BlurAdmin.pages.pacientes',\n    'BlurAdmin.pages.citas',\n    'BlurAdmin.pages.casos',\n    'BlurAdmin.pages.consultas',\n    'BlurAdmin.pages.caja',\n  ])\n      .config(routeConfig)\n      .config(function($provide){\n\n        //  CONFIGURACION DEL TEXT EDITOR DE TRATAMIENTOS PARA MOSTRAR SOLO ALGUNOS ITEMS DEL MISMO\n        $provide.decorator('taOptions', ['taRegisterTool', '$delegate', function(taRegisterTool, taOptions){\n\n            taOptions.keyMappings = []\n            taOptions.toolbar = [\n                // ['undo', 'redo'],\n                ['bold', 'italics', 'underline'],\n                ['ul', 'ol'],\n                ['justifyLeft', 'justifyCenter', 'justifyRight'],\n                ['indent', 'outdent'],\n            ];\n\n            return taOptions;\n        }]);\n      });\n\n  /** @ngInject */\n  function routeConfig($urlRouterProvider, baSidebarServiceProvider) {\n    $urlRouterProvider.otherwise('/citas');\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme', [\n      'toastr',\n      'chart.js',\n      'angular-chartist',\n      'angular.morris-chart',\n      'textAngular',\n      'BlurAdmin.theme.components',\n      'BlurAdmin.theme.inputs'\n  ]);\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.auth', [])\n\n})();\n\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.dashboard', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n\n    /*\n    $stateProvider\n        .state('dashboard', {\n          url: '/dashboard',\n          templateUrl: 'app/pages/dashboard/dashboard.html',\n          title: 'Dashboard',\n          sidebarMeta: {\n            icon: 'fa fa-dashboard fa-lg',\n            order: 0,\n          },\n        });\n    */\n\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.loader', [])\n\n})();\n\nangular.module('BlurAdmin.pages.notifications', []);\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.routes', [])\n\n  })();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.utils', [])\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components', []);\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 10.12.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.inputs', []);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.auth', [])\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja', ['ui.select', 'ngSanitize', 'ui.bootstrap', 'ngAnimate'])\n\n  })();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos', ['ui.select', 'ngSanitize', 'ui.bootstrap', 'ngAnimate'])\n\n  })();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.citas', ['ui.select', 'ngSanitize', 'ui.bootstrap', 'ngAnimate'])\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas', ['ui.select', 'ngSanitize', 'ui.bootstrap', 'ngAnimate'])\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.pacientes', ['ui.select', 'ngSanitize'])\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.profesiones', ['ui.select', 'ngSanitize'])\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.users', ['ui.select', 'ngSanitize', 'ui.bootstrap', 'ngAnimate'])\n\n})();\n\n'use strict';\n\nangular.module('BlurAdmin', [\n    'ngAnimate',\n    'ngDialog',\n    'ui.bootstrap',\n    'ui.sortable',\n    'ui.router',\n    'ngTouch',\n    'toastr',\n    'smart-table',\n    \"xeditable\",\n    'ui.slimscroll',\n    'ngJsTree',\n    'angular-progress-button-styles',\n    'ngResource',\n    'ngFileUpload',\n    'ui.mask',\n    'mgo-angular-wizard',\n    'textAngular',\n    // 'angularTrix',\n\n    'BlurAdmin.theme',\n    'BlurAdmin.pages'\n\n]);\n\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .config(config);\n\n  /** @ngInject */\n  function config(baConfigProvider, colorHelper, $provide) {\n    $provide.decorator('$uiViewScroll', uiViewScrollDecorator);\n    //baConfigProvider.changeTheme({blur: true});\n    //\n    //baConfigProvider.changeColors({\n    //  default: 'rgba(#000000, 0.2)',\n    //  defaultText: '#ffffff',\n    //  dashboard: {\n    //    white: '#ffffff',\n    //  },\n    //});\n  }\n\n  /** @ngInject */\n  function uiViewScrollDecorator($delegate, $anchorScroll, baUtil) {\n    return function (uiViewElement) {\n      if (baUtil.hasAttr(uiViewElement, \"autoscroll-body-top\")) {\n        $anchorScroll();\n      } else {\n        $delegate(uiViewElement);\n      }\n    };\n  }\n})();\n\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  var basic = {\n    default: '#ffffff',\n    defaultText: '#666666',\n    border: '#dddddd',\n    borderDark: '#aaaaaa',\n  };\n\n  // main functional color scheme\n  var colorScheme = {\n    primary: '#209e91',\n    info: '#2dacd1',\n    success: '#90b900',\n    warning: '#dfb81c',\n    danger: '#e85656',\n  };\n\n  // dashboard colors for charts\n  var dashboardColors = {\n    blueStone: '#005562',\n    surfieGreen: '#0e8174',\n    silverTree: '#6eba8c',\n    gossip: '#b9f2a1',\n    white: '#10c4b5',\n  };\n\n  angular.module('BlurAdmin.theme')\n    .provider('baConfig', configProvider);\n\n  /** @ngInject */\n  function configProvider(colorHelper) {\n    var conf = {\n      theme: {\n        blur: false,\n      },\n      colors: {\n        default: basic.default,\n        defaultText: basic.defaultText,\n        border: basic.border,\n        borderDark: basic.borderDark,\n\n        primary: colorScheme.primary,\n        info: colorScheme.info,\n        success: colorScheme.success,\n        warning: colorScheme.warning,\n        danger: colorScheme.danger,\n\n        primaryLight: colorHelper.tint(colorScheme.primary, 30),\n        infoLight: colorHelper.tint(colorScheme.info, 30),\n        successLight: colorHelper.tint(colorScheme.success, 30),\n        warningLight: colorHelper.tint(colorScheme.warning, 30),\n        dangerLight: colorHelper.tint(colorScheme.danger, 30),\n\n        primaryDark: colorHelper.shade(colorScheme.primary, 15),\n        infoDark: colorHelper.shade(colorScheme.info, 15),\n        successDark: colorHelper.shade(colorScheme.success, 15),\n        warningDark: colorHelper.shade(colorScheme.warning, 15),\n        dangerDark: colorHelper.shade(colorScheme.danger, 15),\n\n        dashboard: {\n          blueStone: dashboardColors.blueStone,\n          surfieGreen: dashboardColors.surfieGreen,\n          silverTree: dashboardColors.silverTree,\n          gossip: dashboardColors.gossip,\n          white: dashboardColors.white,\n        },\n      }\n    };\n\n    conf.changeTheme = function(theme) {\n      angular.merge(conf.theme, theme)\n    };\n\n    conf.changeColors = function(colors) {\n      angular.merge(conf.colors, colors)\n    };\n\n    conf.$get = function () {\n      delete conf.$get;\n      return conf;\n    };\n    return conf;\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  var IMAGES_ROOT = 'assets/img/';\n\n  angular.module('BlurAdmin.theme')\n    .constant('layoutSizes', {\n      resWidthCollapseSidebar: 1200,\n      resWidthHideSidebar: 500\n    })\n    .constant('layoutPaths', {\n      images: {\n        root: IMAGES_ROOT,\n        profile: IMAGES_ROOT + 'app/profile/',\n        amMap: 'assets/img/theme/vendor/ammap//dist/ammap/images/',\n        amChart: 'assets/img/theme/vendor/amcharts/dist/amcharts/images/'\n      }\n    })\n    .constant('colorHelper', {\n      tint: function(color, weight) {\n        return mix('#ffffff', color, weight);\n      },\n      shade: function(color, weight) {\n        return mix('#000000', color, weight);\n      },\n    });\n\n  function shade(color, weight) {\n    return mix('#000000', color, weight);\n  }\n\n  function tint(color, weight) {\n    return mix('#ffffff', color, weight);\n  }\n\n  //SASS mix function\n  function mix(color1, color2, weight) {\n    // convert a decimal value to hex\n    function d2h(d) {\n      return d.toString(16);\n    }\n    // convert a hex value to decimal\n    function h2d(h) {\n      return parseInt(h, 16);\n    }\n\n    var result = \"#\";\n    for(var i = 1; i < 7; i += 2) {\n      var color1Part = h2d(color1.substr(i, 2));\n      var color2Part = h2d(color2.substr(i, 2));\n      var resultPart = d2h(Math.floor(color2Part + (color1Part - color2Part) * (weight / 100.0)));\n      result += ('0' + resultPart).slice(-2);\n    }\n    return result;\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .run(themeRun);\n\n  /** @ngInject */\n  function themeRun($timeout, $rootScope, layoutPaths, preloader, $q, baSidebarService, themeLayoutSettings) {\n    var whatToWait = [\n      preloader.loadAmCharts(),\n      $timeout(3000)\n    ];\n\n    var theme = themeLayoutSettings;\n    if (theme.blur) {\n      if (theme.mobile) {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-mobile.jpg'));\n      } else {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg.jpg'));\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-blurred.jpg'));\n      }\n    }\n\n    $q.all(whatToWait).then(function () {\n      $rootScope.$pageFinishedLoading = true;\n    });\n\n    $timeout(function () {\n      if (!$rootScope.$pageFinishedLoading) {\n        $rootScope.$pageFinishedLoading = true;\n        $rootScope.$apply();\n      }\n    }, 7000);\n\n    $rootScope.$baSidebarService = baSidebarService;\n  }\n\n})();\n\n/**\n * Created by k.danovsky on 12.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('themeLayoutSettings', themeLayoutSettings);\n\n  /** @ngInject */\n  function themeLayoutSettings(baConfig) {\n    var isMobile = (/android|webos|iphone|ipad|ipod|blackberry|windows phone/).test(navigator.userAgent.toLowerCase());\n    var mobileClass = isMobile ? 'mobile' : '';\n    var blurClass = baConfig.theme.blur ? 'blur-theme' : '';\n    angular.element(document.body).addClass(mobileClass).addClass(blurClass);\n\n    return {\n      blur: baConfig.theme.blur,\n      mobile: isMobile,\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.dashboard')\n        .controller('DashboardController', DashboardController);\n\n    /** @ngInject */\n    function DashboardController($scope, $rootScope, $location, $state, NotificationsService, TestService) {\n        var vm = this;\n\n        activate();\n        function activate() {\n\n        }\n\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.loader')\n    .directive('miLoader', miLoader)\n\n    //miLoader.$inject = ['$rootScope'];\n    function miLoader ($rootScope) {\n        return {\n            restrict: \"EA\",\n            transclude: true,\n            templateUrl: 'app/pages/loader/loader.html'\n        };\n    };\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.notifications')\n        .factory('NotificationsService', NotificationsService);\n\n    /** @ngInject */\n    function NotificationsService(toastr, toastrConfig) {\n        var openedToasts = [];\n        var defaultConfig = angular.copy(toastrConfig);\n        var types = ['success', 'error', 'info', 'warning'];\n        var SUCCESS = 'success'\n        var ERROR = 'error'\n        var INFO = \"info\"\n        var WARNING = \"warning\"\n\n        /*\n        $scope.$on('$destroy', function iVeBeenDismissed() {\n            angular.extend(toastrConfig, defaultConfig);\n        })\n        */\n\n        var insert_toast = function (options) {\n            angular.extend(toastrConfig, options);\n            openedToasts.push(toastr[options.type](options.msg, options.title));\n        }\n\n        var default_options = {\n            autoDismiss: false,\n            positionClass: 'toast-top-right',\n            type: 'info',\n            timeOut: '5000',\n            extendedTimeOut: '2000',\n            allowHtml: true,\n            closeButton: true,\n            tapToDismiss: true,\n            progressBar: true,\n            newestOnTop: false,\n            maxOpened: 0,\n            preventDuplicates: false,\n            preventOpenDuplicates: false,\n            title: \"\",\n            msg: \"\"\n        };\n\n        //\n        var default_toast = function (title, msg, type) {\n            if (!title || !type)\n                return false\n            //  DEFINE DE TYPE MESSAGE, TITLE AND MESSAGE\n            default_options.title = \"<strong>\" + title + \"</strong>\"\n            default_options.msg = msg\n            default_options.type = type\n            return insert_toast(default_options)\n        };\n\n        var custom_toast = function (options) {\n            if (!options)\n                return false\n            return insert_toast(options)\n        };\n\n        return {\n            SUCCESS: SUCCESS,\n            ERROR: ERROR,\n            INFO: INFO,\n            WARNING: WARNING,\n            types: types,\n            default_toast: default_toast,\n            custom_toast: custom_toast\n        }\n\n        /*\n        //  EXAMPLE OF QUOTES\n        $scope.quotes = [\n          {\n            title: 'Come to Freenode',\n            message: 'We rock at <em>#angularjs</em>',\n            options: {\n              allowHtml: true\n            }\n          },\n          {\n            title: 'Looking for bootstrap?',\n            message: 'Try ui-bootstrap out!'\n          },\n          {\n            title: 'Wants a better router?',\n            message: 'We have you covered with ui-router'\n          },\n          {\n            title: 'Angular 2',\n            message: 'Is gonna rock the world'\n          },\n          {\n            title: null,\n            message: 'Titles are not always needed'\n          },\n          {\n            title: null,\n            message: 'Toastr rock!'\n          },\n          {\n            title: 'What about nice html?',\n            message: '<strong>Sure you <em>can!</em></strong>',\n            options: {\n              allowHtml: true\n            }\n          },\n          {\n            title: 'Ionic is <em>cool</em>',\n            message: 'Best mobile framework ever',\n            options: {\n              allowHtml: true\n            }\n          }\n        ];\n        //  EXAMPLE OF OPTIONS\n        $scope.options = {\n            autoDismiss: false,\n            positionClass: 'toast-top-right',\n            type: 'info',\n            timeOut: '5000',\n            extendedTimeOut: '2000',\n            allowHtml: false,\n            closeButton: false,\n            tapToDismiss: true,\n            progressBar: false,\n            newestOnTop: true,\n            maxOpened: 0,\n            preventDuplicates: false,\n            preventOpenDuplicates: false,\n            title: \"Some title here\",\n            msg: \"Type your message here\"\n        };\n        */\n\n    }\n})();\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n    'use strict';\n\n    var $urlRouterProviderRef = null;\n    var $stateProviderRef = null;\n\n    var ADMIN = \"100\"\n    var MEDICINA = \"40\"\n    var PSICOLOGIA = \"30\"\n    var SECRETARIA = \"20\"\n\n    angular\n        .module('BlurAdmin.pages.routes', [])\n        .config(routeConfig)\n        .run(runConfig);\n\n    /** @ngInject */\n    function routeConfig($locationProvider, $urlRouterProvider, $stateProvider) {\n        $urlRouterProviderRef = $urlRouterProvider;\n        $locationProvider.html5Mode(false);\n        $stateProviderRef = $stateProvider;\n\n        $stateProvider\n            ///////////////////////////////////////////\n            //  AUTH\n            ///////////////////////////////////////////\n            .state('login', {\n                url: '/login',\n                templateUrl: 'app/pages/auth/login/login.html',\n            })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  DASHBOARD\n            ///////////////////////////////////////////\n            // .state('dashboard', {\n            //     url: '/dashboard',\n            //     templateUrl: 'app/pages/dashboard/templates/dashboard.html',\n            //     title: 'Dashboard',\n            //     sidebarMeta: {\n            //         icon: 'fa fa-dashboard fa-lg',\n            //         order: 0,\n            //     },\n            //     permissions: [ ADMIN, MEDICINA, PSICOLOGIA, SECRETARIA ]\n            // })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  CITAS\n            ///////////////////////////////////////////\n            .state('citas', {\n                url: '/citas',\n                templateUrl: 'app/pages/citas/templates/citas.html',\n                title: 'Citas',\n                sidebarMeta: {\n                    icon: 'fa fa-clock-o fa-lg',\n                    order: 0,\n                },\n                permissions: [ ADMIN, MEDICINA, PSICOLOGIA, SECRETARIA ]\n            })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  PACIENTES\n            ///////////////////////////////////////////\n            .state('pacientes', {\n                url: '/pacientes',\n                templateUrl: 'app/pages/pacientes/templates/pacientes.html',\n                title: 'Pacientes',\n                sidebarMeta: {\n                    icon: 'ion-android-contacts f24',\n                    order: 0,\n                },\n                permissions: [ ADMIN, MEDICINA, PSICOLOGIA, SECRETARIA ]\n            })\n            .state('pacientes_create', {\n                url: '/pacientes/nuevo',\n                templateUrl: 'app/pages/pacientes/templates/pacientes.create.html',\n                title: 'Agregar paciente'\n            })\n            .state('pacientes_edit', {\n                url: '/pacientes/editar/:id',\n                templateUrl: 'app/pages/pacientes/templates/pacientes.edit.html',\n                title: 'Editar paciente'\n            })\n            .state('cobros_paciente', {\n                url: '/pacientes/cobros/:id',\n                templateUrl: 'app/pages/pacientes/templates/cobros.html',\n                title: 'Abonos y cobros del paciente',\n                permissions: [ ADMIN, SECRETARIA, MEDICINA, PSICOLOGIA ]\n            })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  CASOS -> SOLO PSICOLOGÍA\n            ///////////////////////////////////////////\n            .state('casos', {\n                url: '/casos',\n                templateUrl: 'app/pages/casos/templates/casos.html',\n                title: 'Casos',\n                sidebarMeta: {\n                    icon: 'fa fa-lg fa-file-text',\n                    order: 0,\n                },\n                permissions: [ PSICOLOGIA ]\n            })\n            .state('casos_notas', {\n                url: '/casos/notas/:id',\n                templateUrl: 'app/pages/casos/templates/casos.notas.html',\n                title: 'Notas evolutivas',\n                permissions: [ PSICOLOGIA ]\n            })\n            .state('casos_create', {\n                url: '/casos/nuevo/:id',\n                templateUrl: 'app/pages/casos/templates/casos.create.html',\n                title: 'Nuevo caso',\n                permissions: [ PSICOLOGIA ]\n            })\n            .state('casos_edit', {\n                url: '/casos/editar/:id',\n                templateUrl: 'app/pages/casos/templates/casos.edit.html',\n                title: 'Información del caso',\n                permissions: [ PSICOLOGIA ]\n            })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  CONSULTAS -> SOLO MEDICINA\n            ///////////////////////////////////////////\n            .state('consultas', {\n                url: '/consultas',\n                templateUrl: 'app/pages/consultas/templates/consultas.html',\n                title: 'Consultas',\n                sidebarMeta: {\n                    icon: 'fa fa-lg fa-user-md',\n                    order: 0,\n                },\n                permissions: [ MEDICINA ]\n            })\n            .state('consultas_create', {\n                url: '/consultas/nuevo/:id',\n                templateUrl: 'app/pages/consultas/templates/consultas.create.html',\n                title: 'Nueva consulta',\n                permissions: [ MEDICINA ]\n            })\n            .state('consultas_edit', {\n                url: '/consultas/editar/:id',\n                templateUrl: 'app/pages/consultas/templates/consultas.edit.html',\n                title: 'Información de la consulta',\n                permissions: [ MEDICINA ]\n            })\n            //  RECONSULTAS\n            .state('reconsultas', {\n                url: '/reconsultas/:id',\n                templateUrl: 'app/pages/consultas/templates/reconsultas.html',\n                title: 'Reconsultas',\n                permissions: [ MEDICINA ]\n            })\n            .state('reconsultas_create', {\n                url: '/reconsultas/nuevo/:id',\n                templateUrl: 'app/pages/consultas/templates/reconsultas.create.html',\n                title: 'Nueva reconsulta',\n                permissions: [ MEDICINA ]\n            })\n            .state('reconsultas_edit', {\n                url: '/reconsultas/editar/:id',\n                templateUrl: 'app/pages/consultas/templates/reconsultas.edit.html',\n                title: 'Información de la reconsulta',\n                permissions: [ MEDICINA ]\n            })\n            //  VISTA DE ARCHIVOS\n            .state('archivos_consulta', {\n                url: '/consultas/archivos/:id',\n                templateUrl: 'app/pages/consultas/templates/archivos.consulta.html',\n                title: 'Archivos adjuntos',\n                permissions: [ MEDICINA ]\n            })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  CAJA\n            ///////////////////////////////////////////\n            .state('caja', {\n                url: '/caja',\n                templateUrl: 'app/pages/caja/templates/caja.html',\n                title: 'Caja',\n                sidebarMeta: {\n                    icon: 'fa fa-archive fa-lg',\n                    order: 0,\n                },\n                permissions: [ ADMIN, SECRETARIA ]\n            })\n            .state('movimientos_caja', {\n                url: '/caja/movimientos_caja/:id',\n                templateUrl: 'app/pages/caja/templates/movimientos_caja.html',\n                title: 'Movimientos de caja',\n                permissions: [ ADMIN, SECRETARIA ]\n            })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  COLABORADORES\n            ///////////////////////////////////////////\n            .state('users', {\n                url: '/users',\n                templateUrl: 'app/pages/users/templates/users.html',\n                title: 'Colaboradores',\n                sidebarMeta: {\n                    icon: 'fa fa-group fa-lg',\n                    order: 0,\n                },\n                permissions: [ ADMIN ]\n            })\n            .state('users_create', {\n                url: '/users/new',\n                templateUrl: 'app/pages/users/templates/users.create.html',\n                title: 'Agregar colaborador',\n                permissions: [ ADMIN ]\n            })\n            .state('users_edit', {\n                url: '/users/edit/:id',\n                templateUrl: 'app/pages/users/templates/users.edit.html',\n                title: 'Editar colaborador',\n                permissions: [ ADMIN ]\n            })\n            .state('users_profile', {\n                url: '/users/profile/:id',\n                templateUrl: 'app/pages/users/templates/users.profile.html',\n                title: 'Editar perfil',\n                permissions: [ ADMIN, MEDICINA, PSICOLOGIA, SECRETARIA ]\n            })\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  PROFESIONES\n            ///////////////////////////////////////////\n            .state('profesiones', {\n                url: '/profesiones',\n                templateUrl: 'app/pages/profesiones/templates/profesiones.html',\n                title: 'Profesiones',\n                access: 'admin',\n                sidebarMeta: {\n                    icon: 'fa fa-university fa-lg',\n                    order: 0,\n                },\n                permissions: [ ADMIN ]\n            })\n            ///////////////////////////////////////////\n\n\n    }\n\n    function runConfig($q, $rootScope, $state, $http, AuthService, $window) {\n        $rootScope.$on('$stateChangeStart', function(event, selectedState) {\n            var token = $window.localStorage.getItem('token')\n            if (token != null){\n                AuthService\n                    .me()\n                    .then(function (data) {\n\n                        $rootScope.esPsicologo = false\n                        $rootScope.esMedico = false\n                        $rootScope.esSecretaria = false\n                        $rootScope.esAdmin = false\n\n                        //  SETEAR PERMISOS GLOBALES PARA SABER EL NIVEL DE AUTORIZACIÓN QUE TIENE EL USUARIO LOGUEADO\n                        if (AuthService.hasPermission(data, AuthService.PSICOLOGIA))\n                            $rootScope.esPsicologo = true\n                        if (AuthService.hasPermission(data, AuthService.MEDICINA))\n                            $rootScope.esMedico = true\n                        if (AuthService.hasPermission(data, AuthService.SECRETARIA))\n                            $rootScope.esSecretaria = true\n                        if (AuthService.hasPermission(data, AuthService.ADMIN))\n                            $rootScope.esAdmin = true\n\n                        var user = data\n                        var permitted = false\n                        if(selectedState.permissions){\n                            _.forEach(selectedState.permissions, function (permission) {\n                                if (_.indexOf(user.roles, permission) !== -1) {\n                                    permitted = true\n                                    return false\n                                }\n                            })\n                        } else {\n                            permitted = true\n                        }\n\n                        if (!permitted) {\n                            event.preventDefault()\n                            $state.go('login')\n                        }\n                    })\n            }\n        });\n    }\n\n  })();\n\n'use strict';\nangular.module(\"ngLocale\", [], [\"$provide\", function($provide) {\nvar PLURAL_CATEGORY = {ZERO: \"zero\", ONE: \"one\", TWO: \"two\", FEW: \"few\", MANY: \"many\", OTHER: \"other\"};\n$provide.value(\"$locale\", {\n    \"DATETIME_FORMATS\": {\n        \"AMPMS\": [\n            \"a. m.\",\n            \"p. m.\"\n        ],\n        \"DAY\": [\n            \"domingo\",\n            \"lunes\",\n            \"martes\",\n            \"mi\\u00e9rcoles\",\n            \"jueves\",\n            \"viernes\",\n            \"s\\u00e1bado\"\n        ],\n        \"ERANAMES\": [\n            \"antes de Cristo\",\n            \"despu\\u00e9s de Cristo\"\n        ],\n        \"ERAS\": [\n            \"a. C.\",\n            \"d. C.\"\n        ],\n        \"FIRSTDAYOFWEEK\": 6,\n        \"MONTH\": [\n            \"enero\",\n            \"febrero\",\n            \"marzo\",\n            \"abril\",\n            \"mayo\",\n            \"junio\",\n            \"julio\",\n            \"agosto\",\n            \"septiembre\",\n            \"octubre\",\n            \"noviembre\",\n            \"diciembre\"\n        ],\n        \"SHORTDAY\": [\n            \"dom.\",\n            \"lun.\",\n            \"mar.\",\n            \"mi\\u00e9.\",\n            \"jue.\",\n            \"vie.\",\n            \"s\\u00e1b.\"\n        ],\n        \"SHORTMONTH\": [\n            \"ene.\",\n            \"feb.\",\n            \"mar.\",\n            \"abr.\",\n            \"may.\",\n            \"jun.\",\n            \"jul.\",\n            \"ago.\",\n            \"sep.\",\n            \"oct.\",\n            \"nov.\",\n            \"dic.\"\n        ],\n        \"STANDALONEMONTH\": [\n            \"enero\",\n            \"febrero\",\n            \"marzo\",\n            \"abril\",\n            \"mayo\",\n            \"junio\",\n            \"julio\",\n            \"agosto\",\n            \"septiembre\",\n            \"octubre\",\n            \"noviembre\",\n            \"diciembre\"\n        ],\n        \"WEEKENDRANGE\": [\n            5,\n            6\n        ],\n        \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\n        \"longDate\": \"d 'de' MMMM 'de' y\",\n        \"medium\": \"d/MM/y HH:mm:ss\",\n        \"mediumDate\": \"d/MM/y\",\n        \"mediumTime\": \"HH:mm:ss\",\n        \"short\": \"d/MM/yy HH:mm\",\n        \"shortDate\": \"d/MM/yy\",\n        \"shortTime\": \"HH:mm\"\n    },\n    \"NUMBER_FORMATS\": {\n        \"CURRENCY_SYM\": \"Q\",\n        \"DECIMAL_SEP\": \".\",\n        \"GROUP_SEP\": \",\",\n        \"PATTERNS\": [\n            {\n                \"gSize\": 3,\n                \"lgSize\": 3,\n                \"maxFrac\": 3,\n                \"minFrac\": 0,\n                \"minInt\": 1,\n                \"negPre\": \"-\",\n                \"negSuf\": \"\",\n                \"posPre\": \"\",\n                \"posSuf\": \"\"\n            },\n            {\n                \"gSize\": 3,\n                \"lgSize\": 3,\n                \"maxFrac\": 2,\n                \"minFrac\": 2,\n                \"minInt\": 1,\n                //\"negPre\": \"-\\u00a4\",\n                \"negPre\": \"(\\u00a4\",\n                \"negSuf\": \")\",\n                \"posPre\": \"\\u00a4\",\n                \"posSuf\": \"\"\n            }\n        ]\n    },\n    \"id\": \"es-gt\",\n    \"localeID\": \"es_GT\",\n    \"pluralCat\": function(n, opt_precision) {  if (n == 1) {    return PLURAL_CATEGORY.ONE;  }  return PLURAL_CATEGORY.OTHER;}\n});\n}]);\n\n(function() {\n    'use strict'\n\n    angular\n        .module('BlurAdmin.pages.utils')\n        .directive('autofocus', autofocus);\n\n    //autofocus.$inject = ['$timeout'];\n    function autofocus ($timeout) {\n        return {\n            restrict: 'A',\n            link : function($scope, $element) {\n                $timeout(function() {\n                    $element[0].focus();\n                });\n            }\n        }\n    };\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.utils')\n        .factory('UtilsService', UtilsService);\n\n    /** @ngInject */\n    function UtilsService() {\n        var service = {}\n\n        var _roles = [\n            { value: \"100\", name: \"Administración\" },\n            { value: \"40\", name: \"Medicina\" },\n            { value: \"30\", name: \"Psicología\" },\n            { value: \"20\", name: \"Secretaría\" },\n            //{ value: 100, name: \"Invitado\" },\n        ]\n\n        var _departamentos = [\n            { id: 1, name: \"Alta Verapaz\" },\n            { id: 2, name: \"Baja Verapaz\" },\n            { id: 3, name: \"Chimaltenango\" },\n            { id: 4, name: \"Chiquimula\" },\n            { id: 5, name: \"Petén\" },\n            { id: 6, name: \"El Progreso\" },\n            { id: 7, name: \"Quiché\" },\n            { id: 8, name: \"Escuintla\" },\n            { id: 9, name: \"Guatemala\" },\n            { id: 10, name: \"Huehuetenango\" },\n            { id: 11, name: \"Izabal\" },\n            { id: 12, name: \"Jalapa\" },\n            { id: 13, name: \"Jutiapa\" },\n            { id: 14, name: \"Quetzaltenango\" },\n            { id: 15, name: \"Retalhuleu\" },\n            { id: 16, name: \"Sacatepéquez\" },\n            { id: 17, name: \"San Marcos\" },\n            { id: 18, name: \"Santa Rosa\" },\n            { id: 19, name: \"Sololá\" },\n            { id: 20, name: \"Suchitepéquez\" },\n            { id: 21, name: \"Totonicapán\" },\n            { id: 22, name: \"Zacapa\" },\n        ]\n\n        var _religiones = [\n            'Católico',\n            'Evangélico',\n            'Testigo de Jehová',\n            'Mormón',\n            'Adventista'\n        ]\n\n        var _years = []\n        var _months = [\n            { id: 0, value: \"Enero\" },\n            { id: 1, value: \"Febrero\" },\n            { id: 2, value: \"Marzo\" },\n            { id: 3, value: \"Abril\" },\n            { id: 4, value: \"Mayo\" },\n            { id: 5, value: \"Junio\" },\n            { id: 6, value: \"Julio\" },\n            { id: 7, value: \"Agosto\" },\n            { id: 8, value: \"Septiembre\" },\n            { id: 9, value: \"Octubre\" },\n            { id: 10, value: \"Noviembre\" },\n            { id: 11, value: \"Diciembre\" },\n        ]\n        var _days = []\n\n        var _blood_types = [\n            { id: 0, value: \"---\" },\n            { id: 1, value: \"AB+\" },\n            { id: 2, value: \"AB-\" },\n            { id: 3, value: \"A+\" },\n            { id: 4, value: \"A-\" },\n            { id: 5, value: \"B+\" },\n            { id: 6, value: \"B-\" },\n            { id: 7, value: \"O+\" },\n            { id: 8, value: \"O-\" },\n        ]\n\n        var _grados = [\n            { id: 0, value: 'Sin Educación' },\n            { id: 1, value: 'Educación Primaria' },\n            { id: 2, value: 'Educación  Secundaria' },\n            { id: 3, value: 'Educación Media Superior' },\n            { id: 4, value: 'Educación Universitaria' },\n            { id: 5, value: 'Maestría' },\n            { id: 6, value: 'Doctorado' }\n        ]\n\n        var _estados_caja = [\n            { id: 10, value: \"APERTURADA\" },\n            { id: 20, value: \"CERRADA\" },\n        ]\n\n        var _hours = []\n        var _minutes = []\n\n        service.getEstadosCaja = function() {\n            return _estados_caja\n        }\n\n        service.getMinutes = function(range) {\n            _minutes = []\n            if (!range)\n                range = 15\n\n            for(var x = 0; x < 60; )  {\n                _minutes.push({ id: x, value: (x < 10 ? \"0\" : \"\") + x.toString() })\n                x += range\n            }\n            return _minutes\n        }\n\n        service.getHours = function() {\n            _hours = []\n            for(var x = 0; x < 24; x++)\n                _hours.push({ id: x, value: (x < 10 ? \"0\" : \"\") + x.toString() })\n            return _hours\n        }\n\n        service.getGrados = function() {\n            return _grados\n        }\n\n        service.getBloodTypes = function() {\n            return _blood_types\n        }\n\n        service.getYears = function() {\n            var actualYear = (new Date()).getFullYear()\n            _years = []\n            for(var x = (actualYear - 99); x <= actualYear; x++) {\n                _years.push({ id: x, value: x })\n            }\n            return _years.reverse()\n        }\n        service.getMonths = function() {\n            return _months\n        }\n        service.getDays = function() {\n            _days = []\n            for(var x = 1; x <= 31; x++) {\n                _days.push({ id: x, value: x })\n            }\n            return _days\n        }\n\n        service.getReligiones = function() {\n            return _religiones\n        }\n\n        service.getRoles = function() {\n            return _roles\n        }\n        service.getDepartamentos = function() {\n            return _departamentos\n        }\n\n        return service\n    }\n\n}());\n\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .config(toastrLibConfig);\n\n  /** @ngInject */\n  function toastrLibConfig(toastrConfig) {\n    angular.extend(toastrConfig, {\n      closeButton: true,\n      closeHtml: '<button>&times;</button>',\n      timeOut: 5000,\n      autoDismiss: false,\n      containerId: 'toast-container',\n      maxOpened: 0,\n      newestOnTop: true,\n      positionClass: 'toast-top-right',\n      preventDuplicates: false,\n      preventOpenDuplicates: false,\n      target: 'body'\n    });\n  }\n})();\n/**\n * Change top \"Daily Downloads\", \"Active Users\" values with animation effect\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('animatedChange', animatedChange);\n\n  /** @ngInject */\n  function animatedChange($timeout) {\n    return {\n      link: function (scope, element) {\n        $timeout(function () {\n          var newValue = element.attr('new-value');\n          var oldvalue = parseInt(element.html());\n\n          function changeValue(val) {\n            $timeout(function () {\n              element.html(val);\n            }, 30);\n          }\n\n          if (newValue > oldvalue) {\n            for (var i = oldvalue; i <= newValue; i++) {\n              changeValue(i);\n            }\n          } else {\n            for (var j = oldvalue; j >= newValue; j--) {\n              changeValue(j);\n            }\n          }\n          $timeout(function () {\n            element.next().find('i').addClass('show-arr');\n          }, 500);\n        }, 3500);\n      }\n    };\n  }\n\n})();\n/**\n * Auto expand textarea field\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoExpand', autoExpand);\n\n  /** @ngInject */\n  function autoExpand() {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        elem.bind('keydown', function ($event) {\n          var element = $event.target;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        });\n\n        // Expand the textarea as soon as it is added to the DOM\n        setTimeout(function () {\n          var element = elem;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        }, 0)\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoFocus', autoFocus);\n\n  /** @ngInject */\n  function autoFocus($timeout, $parse) {\n    return {\n      link: function (scope, element, attrs) {\n        var model = $parse(attrs.autoFocus);\n        scope.$watch(model, function (value) {\n          if (value === true) {\n            $timeout(function () {\n              element[0].focus();\n              element[0].select();\n            });\n          }\n        });\n        element.bind('blur', function () {\n          scope.$apply(model.assign(scope, false));\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('includeWithScope', includeWithScope);\n\n  /** @ngInject */\n  function includeWithScope() {\n    return {\n      restrict: 'AE',\n      templateUrl: function(ele, attrs) {\n        return attrs.includeWithScope;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 22.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .directive('ionSlider', ionSlider);\n\n  /** @ngInject */\n  function ionSlider($timeout) {\n    return {\n      restrict: 'EA',\n      template: '<div></div>',\n      replace: true,\n      scope: {\n        min: '=',\n        max: '=',\n        type: '@',\n        prefix: '@',\n        maxPostfix: '@',\n        prettify: '=',\n        prettifySeparator: '@',\n        grid: '=',\n        gridMargin: '@',\n        postfix: '@',\n        step: '@',\n        hideMinMax: '@',\n        hideFromTo: '@',\n        from: '=',\n        to: '=',\n        disable: '=',\n        onChange: '=',\n        onFinish: '=',\n        values: '=',\n        timeout: '@'\n      },\n      link: function ($scope, $element) {\n            $element.ionRangeSlider({\n              min: $scope.min,\n              max: $scope.max,\n              type: $scope.type,\n              prefix: $scope.prefix,\n              maxPostfix: $scope.maxPostfix,\n              prettify_enabled: $scope.prettify,\n              prettify_separator: $scope.prettifySeparator,\n              grid: $scope.grid,\n              gridMargin: $scope.gridMargin,\n              postfix: $scope.postfix,\n              step: $scope.step,\n              hideMinMax: $scope.hideMinMax,\n              hideFromTo: $scope.hideFromTo,\n              from: $scope.from,\n              to: $scope.to,\n              disable: $scope.disable,\n              onChange: $scope.onChange,\n              onFinish: $scope.onFinish,\n              values: $scope.values\n            });\n\n            $scope.$watch('min', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({min: value});\n              });\n            }, true);\n            $scope.$watch('max', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({max: value});\n              });\n            });\n            $scope.$watch('from', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({from: value});\n              });\n            });\n            $scope.$watch('to', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({to: value});\n              });\n            });\n            $scope.$watch('disable', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({disable: value});\n              });\n            });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('ngFileSelect', ngFileSelect);\n\n  /** @ngInject */\n  function ngFileSelect() {\n    return {\n      link: function ($scope, el) {\n        el.bind('change', function (e) {\n          $scope.file = (e.srcElement || e.target).files[0];\n          $scope.getFile();\n        })\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('scrollPosition', scrollPosition);\n\n  /** @ngInject */\n  function scrollPosition() {\n    return {\n      scope: {\n        scrollPosition: '=',\n        maxHeight: '='\n      },\n      link: function (scope) {\n        $(window).on('scroll', function() {\n          var scrollTop = $(window).scrollTop() > scope.maxHeight;\n          if (scrollTop !== scope.prevScrollTop) {\n            scope.$apply(function() {\n              scope.scrollPosition = scrollTop;\n            });\n          }\n          scope.prevScrollTop = scrollTop;\n        });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('trackWidth', trackWidth);\n\n  /** @ngInject */\n  function trackWidth() {\n    return {\n      scope: {\n        trackWidth: '=',\n        minWidth: '=',\n      },\n      link: function (scope, element) {\n        scope.trackWidth = $(element).width() < scope.minWidth;\n        scope.prevTrackWidth = scope.trackWidth;\n\n        $(window).resize(function() {\n          var trackWidth = $(element).width() < scope.minWidth;\n          if (trackWidth !== scope.prevTrackWidth) {\n            scope.$apply(function() {\n              scope.trackWidth = trackWidth;\n            });\n          }\n          scope.prevTrackWidth = trackWidth;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * Animated load block\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('zoomIn', zoomIn);\n\n  /** @ngInject */\n  function zoomIn($timeout, $rootScope) {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        var delay = 1000;\n\n        if ($rootScope.$pageFinishedLoading) {\n          delay = 100;\n        }\n\n        $timeout(function () {\n          elem.removeClass('full-invisible');\n          elem.addClass('animated zoomIn');\n        }, delay);\n      }\n    };\n  }\n\n})();\n/**\n * @author n.poltoratsky\n * created on 27.06.2016\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.theme')\n        .factory('baProgressModal', baProgressModal);\n\n    /** @ngInject */\n    function baProgressModal($uibModal) {\n        var methods = {};\n        var progress = 0;\n        var max = 100;\n        var opened = false;\n\n        return {\n            setProgress: function (value) {\n                if (value > max) {\n                    throw Error('Progress can\\'t be greater than max');\n                }\n                progress = value;\n            },\n            getProgress: function () {\n                return progress;\n            },\n            open: function() {\n                if (!opened) {\n                    methods = $uibModal.open({\n                        animation: true,\n                        templateUrl: 'app/pages/ui/modals/progressModal/progressModal.html',\n                        size: 'sm',\n                        keyboard: false,\n                        backdrop: 'static'\n                    });\n                    opened = true;\n                } else {\n                    throw Error('Progress modal opened now');\n                }\n\n            },\n            close: function() {\n                if (opened) {\n                    methods.close();\n                    opened = false;\n                } else {\n                    throw Error('Progress modal is not active');\n                }\n\n            }\n        };\n    }\n\n})();\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baUtil', baUtil);\n\n  /** @ngInject */\n  function baUtil() {\n\n    this.isDescendant = function(parent, child) {\n      var node = child.parentNode;\n      while (node != null) {\n        if (node == parent) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n\n    this.hexToRGB = function(hex, alpha) {\n      var r = parseInt( hex.slice(1,3), 16 );\n      var g = parseInt( hex.slice(3,5), 16 );\n      var b = parseInt( hex.slice(5,7), 16 );\n      return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\n    };\n\n    this.hasAttr = function (elem, attrName) {\n      var attr = $(elem).attr(attrName);\n      return (typeof attr !== typeof undefined && attr !== false);\n    }\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('fileReader', fileReader);\n\n  /** @ngInject */\n  function fileReader($q) {\n    var onLoad = function(reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.resolve(reader.result);\n        });\n      };\n    };\n\n    var onError = function (reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.reject(reader.result);\n        });\n      };\n    };\n\n    var onProgress = function(reader, scope) {\n      return function (event) {\n        scope.$broadcast('fileProgress',\n            {\n              total: event.total,\n              loaded: event.loaded\n            });\n      };\n    };\n\n    var getReader = function(deferred, scope) {\n      var reader = new FileReader();\n      reader.onload = onLoad(reader, deferred, scope);\n      reader.onerror = onError(reader, deferred, scope);\n      reader.onprogress = onProgress(reader, scope);\n      return reader;\n    };\n\n    var readAsDataURL = function (file, scope) {\n      var deferred = $q.defer();\n\n      var reader = getReader(deferred, scope);\n      reader.readAsDataURL(file);\n\n      return deferred.promise;\n    };\n\n    return {\n      readAsDataUrl: readAsDataURL\n    };\n  }\n})();\n/**\n * @author a.demeshko\n * created on 3/1/16\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('preloader', preloader);\n\n  /** @ngInject */\n  function preloader($q) {\n    return {\n      loadImg: function (src) {\n        var d = $q.defer();\n        var img = new Image();\n        img.src = src;\n        img.onload = function(){\n          d.resolve();\n        };\n        return d.promise;\n      },\n      loadAmCharts : function(){\n        var d = $q.defer();\n        AmCharts.ready(function(){\n          d.resolve();\n        });\n        return d.promise;\n      }\n    }\n  }\n\n})();\n/**\n * @author a.demeshko\n * created on 12/21/15\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('stopableInterval', stopableInterval);\n\n  /** @ngInject */\n  function stopableInterval($window) {\n    return {\n      start: function (interval, calback, time) {\n        function startInterval() {\n          return interval(calback, time);\n        }\n\n        var i = startInterval();\n\n        angular.element($window).bind('focus', function () {\n          if (i) interval.cancel(i);\n          i = startInterval();\n        });\n\n        angular.element($window).bind('blur', function () {\n          if (i) interval.cancel(i);\n        });\n      }\n    }\n  }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.auth')\n        .controller('LoginController', LoginController);\n\n    /** @ngInject */\n    function LoginController($scope, $rootScope, $window, $state, AuthService, NotificationsService) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.account = {}\n            vm.loading = false\n            $rootScope.user = null\n            $rootScope.utils_template = $state.current.templateUrl\n            $rootScope.utils_app = true\n            $window.localStorage.removeItem('token')\n        }\n        function deactivate() {\n            $rootScope.utils_template = null\n            $rootScope.utils_app = null\n        }\n\n        vm.logout = function() {\n            $window.localStorage.removeItem('token');\n            $state.go('login')\n        }\n\n        var login_validate = function() {\n            if (!vm.account.username || !vm.account.password) {\n                var title = \"Campos vacíos o incorrectos\"\n                var msg = \"Por favor, llena los campos correctamente.\"\n                NotificationsService.default_toast(title, msg, NotificationsService.ERROR)\n                return false\n            }\n            return true\n        }\n        function onError(error) {\n            var title = \"Error en la autenticación\"\n            var msg = \"Usuario y/o contraseña inválidos\"\n            NotificationsService.default_toast(title, msg, NotificationsService.ERROR)\n            vm.loading = false\n            vm.logout()\n            return false\n        }\n        vm.login = function() {\n            //  DESACTIVA EL BOTÓN MIENTRAS ESTÁ CARGANDO LA AUTENTICACIÓN\n            //  PARA EVITAR QUE EL USUARIO MANDE MÁS DE UNA PETICIÓN\n            //  MIENTRAS SE ESTÁ PROCESANDO UNA PETICIÓN EN BACKEND\n            vm.loading = true\n\n            if (login_validate()) {\n                return AuthService\n                    .login({ username: (vm.account.username || \"\"), password: (vm.account.password || \"\") })\n                    .then(function(data) {\n                        //  IR A DASHBOARD Y GUARDAR EL TOKEN EN LA SESSION STORAGE\n                        deactivate()\n                        $window.localStorage.setItem('token', data.token);\n                        //return $state.go('dashboard')\n                        var title = \"Bienvenido/a\"\n                        //var msg = \"Usuario y/o contraseña inválidos\"\n                        NotificationsService.default_toast(title, '', NotificationsService.SUCCESS)\n\n                        return AuthService\n                            .me()\n                            .then(function(response) {\n                                if (!response.eliminado)\n                                    return $state.go('citas')\n                                else\n                                    return onError(null)\n                            })\n                            .catch(onError)\n\n                    })\n                    .catch(onError)\n            } else {\n                vm.loading = false\n                vm.logout()\n                return false\n            }\n        }\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.auth')\n        .controller('MeController', MeController);\n\n    /** @ngInject */\n    function MeController($scope, $rootScope, $window, $state, AuthService, NotificationsService) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            // getMe()\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.auth')\n        .controller('LogoutController', LoginController);\n\n    /** @ngInject */\n    function LoginController($scope, $rootScope, $window, $state) {\n        var vm = this;\n\n        activate();\n        function activate() {\n\n        }\n        vm.logout = function() {\n            swal({\n                title: \"¿Cerrar sesión?\",\n                text: \"Estás a punto de cerrar sesión\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, cerrar sesión!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: true,\n                //showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n                $window.localStorage.removeItem('token');\n                $rootScope.user = null\n                $state.go('login')\n            })\n        }\n\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('BlurAdmin.pages.auth')\n        .config(authConfig);\n\n    authConfig.$inject = ['$httpProvider'];\n    function authConfig($httpProvider){\n        $httpProvider.interceptors.push('authInterceptor');\n    }\n\n})();\n\n\n// To run this code, edit file index.html or index.jade and change\n// html data-ng-app attribute from angle to myAppName\n// ----------------------------------------------------------------------\n\n(function() {\n    'use strict';\n\n    angular\n        .module('BlurAdmin.pages.auth')\n        .factory('authInterceptor', authInterceptor);\n\n    authInterceptor.$inject = ['$q', '$location', '$window'];\n    function authInterceptor($q, $location, $window) {\n      return {\n          request: function (config) {\n              config.headers = config.headers || {};\n              if ($window.localStorage.getItem('token')) {\n                  config.headers.Authorization = 'Token ' + $window.localStorage.getItem('token');\n              }\n              return config || $q.when(config);\n          },\n          responseError: function (response) {\n              if (response.status === 401 || response.status === 403) {\n                  $window.localStorage.removeItem('token');\n                  $location.path('/login');\n              }\n              return $q.reject(response);\n          }\n      };\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.auth')\n        .factory('AuthService', AuthService);\n\n    /** @ngInject */\n    function AuthService($http) {\n        var me = function() {\n            return $http.get('/api/perfiles/me/').then(function(response) { return response.data; });\n        };\n        //  LOGIN RECIBE COMO PARAMETRO LAS CREDENCIALES, CORREO Y SU PASSWORD\n        var login = function(credentials) {\n            return $http.post('/api/login/', credentials).then(function(response) { return response.data; });\n        };\n\n        var ADMIN = \"100\"\n        var MEDICINA = \"40\"\n        var PSICOLOGIA = \"30\"\n        var SECRETARIA = \"20\"\n\n        var hasPermission = function(user, rol) {\n            var value = _.indexOf(user.roles, rol)\n            if (value !== -1)\n                return true\n            return false\n        }\n\n        return {\n            ADMIN: ADMIN,\n            MEDICINA: MEDICINA,\n            PSICOLOGIA: PSICOLOGIA,\n            SECRETARIA: SECRETARIA,\n            hasPermission: hasPermission,\n\n            me: me,\n            login: login,\n        };\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .controller('CerrarCajaController', CerrarCajaController);\n\n    /** @ngInject */\n    function CerrarCajaController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        UtilsService,\n        AperturaCierreService,\n        item,\n        ingresos_egresos\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.apertura_cierre_caja = item\n            vm.ingresos_egresos = ingresos_egresos\n\n            vm.ESTADOS_CAJA = UtilsService.getEstadosCaja()\n\n            vm.total_cierre_form = \"\"\n        }\n\n        function _validate() {\n            var title = \"Error\"\n            var msg = \"Campos incompletos. Por favor verifica.\"\n            var error = false\n\n            if (vm.total_cierre_form == null || vm.total_cierre_form == undefined) {\n                title = \"Sin total de cierre\"\n                msg = \"Por favor, escribe el total del cierre de caja\"\n                error = true\n            }\n            else if (vm.total_cierre_form != vm.apertura_cierre_caja.total_actual && !vm.apertura_cierre_caja.notas) {\n                title = \"Incoherencia encontrada\"\n                msg = \"Escriba una observación en el apartado de notas para especificar porqué no coincide\"\n                        + \" el efectivo en sistema y el efectivo real en caja.\"\n                error = true\n            }\n\n            if (error)\n                swal(title, msg, \"error\")\n            return !error\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            AuthService\n                .me()\n                .then(function(response) {\n                    $rootScope.user.caja_activa = response.caja_activa\n                    $rootScope.user.id_apertura_caja = response.id_apertura_caja\n\n                    swal(\"¡Éxito!\", \"La caja se cerró exitosamente.\", \"success\")\n                    $scope.confirm(response)\n                    return $state.go('caja')\n                })\n                .catch(function(err){ })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Cerrar caja?\",\n                    text: \"Se cerrará la caja actual.\",\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, cerrar caja!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var json = {\n                        id: vm.apertura_cierre_caja.id,\n                        estado: vm.ESTADOS_CAJA[1].id,\n                        total_cierre: vm.total_cierre_form,\n                        fecha_cierre: new Date(),\n                        notas: vm.apertura_cierre_caja.notas\n                    }\n\n                    return AperturaCierreService.update(json, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .factory('AperturaCierreService', AperturaCierreService);\n\n    /** @ngInject */\n    function AperturaCierreService($resource) {\n        var url = '/api/aperturas_cierres_caja/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            ingresos_egresos: { url: url + \"ingresos_egresos/\", method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            // delete: { method: 'DELETE', params: { id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .controller('CajaController', CajaController);\n\n    /** @ngInject */\n    function CajaController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        AuthService,\n        CajaService,\n        UtilsService,\n        AperturaCierreService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.caja = {}\n\n            vm.ESTADOS_CAJA = UtilsService.getEstadosCaja()\n\n            vm.query = {\n                estado: null\n            }\n\n            //  OBTENER EL ITEM DE CAJA\n            getItem()\n\n        }\n\n        function getItem() {\n            vm.loading = true\n            CajaService\n                .list({\n                    page: 1\n                }, function(data) {\n                    vm.caja = data.results[0]\n                    vm.loading = false\n                    vm.list()\n                }, function(error) { })\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return AperturaCierreService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search,\n                    estado: vm.query.estado\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n\n                    // if (vm.array.length) {\n                    //     if (vm.array[0].colaborador.id == $rootScope.user.id)\n                    //         console.log(\"APERTURA PERTENECIENTE A ESTE USUARIO\")\n                    // }\n\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        // vm.list()\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n\n        vm.aperturarCaja = function() {\n            var total_ultimo_cierre = 0\n            if (vm.array.length)\n                total_ultimo_cierre = vm.array[0].total_cierre\n\n            $rootScope.cierre_anterior = total_ultimo_cierre\n            $rootScope.total_apertura_form = 0\n\n            return ngDialog\n                .openConfirm({\n                    template: \"app/pages/caja/templates/aperturar_caja.html\",\n                    width: '50%',\n                    closeByDocument: false,\n                    closeByEscape: false,\n                    controller: ['$scope', '$rootScope', 'AperturaCierreService', 'AuthService', 'ngDialog',\n                        function($scope, $rootScope, AperturaCierreService, AuthService, ngDialog) {\n\n                        var vm = this;\n                        activate()\n                        function activate() {\n                            vm.total_apertura_form = 0\n                        }\n\n                        function _validate() {\n                            var title = \"Error\"\n                            var msg = \"Campos incompletos. Por favor verifica.\"\n                            var error = false\n\n                            if (vm.total_apertura_form == null || vm.total_apertura_form == undefined) {\n                                title = \"Sin total de apertura\"\n                                msg = \"Por favor, escribe el total de la apertura de caja\"\n                                error = true\n                            }\n                            else if (vm.total_apertura_form < 0) {\n                                title = \"Total de apertura negativo\"\n                                msg = \"No es posible aperturar la caja con una cantidad negativa.\"\n                                error = true\n                            }\n\n                            if (error)\n                                swal(title, msg, \"error\")\n                            return !error\n                        }\n\n                        vm.save = function() {\n                            if (_validate()) {\n\n                                // $rootScope.total_apertura = vm.total_apertura_form\n                                swal({\n                                    title: \"¿Aperturar caja?\",\n                                    text: \"Será aperturada la caja con la cantidad monetaria de: Q\" + vm.total_apertura_form.toFixed(2),\n                                    type: \"warning\",\n                                    showCancelButton: true,\n                                    confirmButtonColor: \"#e74c3c\",\n                                    confirmButtonText: \"¡Sí, aperturar caja!\",\n                                    cancelButtonText: \"No, aún no\",\n                                    closeOnConfirm: false,\n                                    showLoaderOnConfirm: true\n                                }, function() {\n                                    /////////////////////////////////////////////////\n                                    //  FIX DE TECLA TABULADOR\n                                    /////////////////////////////////////////////////\n                                    window.onkeydown = null\n                                    window.onfocus = null\n                                    /////////////////////////////////////////////////\n\n                                    var json = {\n                                        total_apertura: vm.total_apertura_form,\n                                        total_actual: vm.total_apertura_form\n                                    }\n\n                                    return AperturaCierreService\n                                        .create(json, function(response_caja) {\n\n                                            AuthService\n                                                .me()\n                                                .then(function(response) {\n                                                    $rootScope.user.caja_activa = response.caja_activa\n                                                    $rootScope.user.id_apertura_caja = response.id_apertura_caja\n\n                                                    swal(\"¡Caja aperturada!\", \"La caja fue aperturada exitosamente.\", \"success\")\n                                                    $scope.confirm()\n                                                    $state.go('movimientos_caja', { id: response_caja.id })\n                                                })\n                                                .catch(function(err){ })\n\n\n                                        }, function(error) {\n                                            var msg = \"Ocurrió un error al aperturar la caja. Por favor intenta más tarde.\"\n                                            if (error.data.detail)\n                                                msg = error.data.detail\n\n                                            swal(\"Error\", msg, \"error\")\n                                            $scope.confirm()\n\n                                        })\n\n                                })\n\n                            }\n                        }\n\n                    }],\n                    controllerAs: 'ctrl'\n                })\n                .then(function() {\n\n                })\n\n        }\n\n        vm.reporteMovimientos = function() {\n            return ngDialog\n            .open({\n                template: \"app/pages/caja/templates/reporte.mov.dialog.html\",\n                width: '50%',\n                closeByDocument: false,\n                closeByEscape: false,\n                controller: ['$scope', '$rootScope', 'AperturaCierreService', 'AuthService',\n                    function($scope, $rootScope, AperturaCierreService, AuthService) {\n                        var vm = this;\n\n                        function activate() {\n                            vm.reporte = {}\n                            vm.formats = ['dd-MMMM-yyyy', 'yyyy/MM/dd', 'dd/MM/yyyy', 'shortDate']; //  FORMATOS DE FECHA\n                            vm.format = vm.formats[2];  //  SETEANDO FORMATO DE FECHA DEFAULT\n                            vm.dateOptions = {  //  OPCIONES DEL DATE PICKER\n                                formatYear: 'yy',\n                                startingDay: 0\n                            };\n                        }\n                        activate()\n\n                        /////////////////////////////////////////////////////////////////////////////////////////////////////\n                        //  DATEPICKER OPTIONS\n                        /////////////////////////////////////////////////////////////////////////////////////////////////////\n                        vm.clear = function () {\n                            vm.reporte.desde = null;    //  LIMPIANDO FECHAS\n                            vm.reporte.hasta = null;\n                        };\n                        vm.openFechaDesde = function($event) {    //  ABRIR DATE PICKER FECHA DESDE\n                            $event.preventDefault();\n                            $event.stopPropagation();\n                            vm.openedFechaDesde = true;\n                        };\n                        vm.openFechaHasta = function($event) {   //  ABRIR DATE PICKER FECHA HASTA\n                            $event.preventDefault();\n                            $event.stopPropagation();\n                            vm.openedFechaHasta = true;\n                        };\n                        vm.today = function() { //  SETEANDO FECHA DEL DIA ACTUAL\n                            vm.reporte.desde = new Date();\n                            vm.reporte.hasta = new Date();\n                        };\n                        vm.today(); //  LLAMADO A TODAY FUNCTION\n\n                        function _validate() {\n                            var title = \"Error\"\n                            var msg = \"Campos incompletos. Por favor verifica.\"\n                            var error = false\n\n                            if (!vm.reporte.desde || !vm.reporte.hasta) {\n                                error = true\n                                title = \"Fechas incorrectas\"\n                                msg = \"Verifica que has seleccionado correctamente las fechas\"\n                            }\n                            else if (vm.reporte.desde > vm.reporte.hasta) {\n                                error = true\n                                title = \"Fecha inicial incorrecta\"\n                                msg = \"La fecha inicial no debe ser mayor a la fecha final\"\n                            }\n\n                            if (error)\n                                swal(title, msg, \"error\")\n                            return !error\n                        }\n                        vm.generate = function() {\n                            if (_validate()) {\n                                //window.location()\n                                var fecha_inicial = vm.reporte.desde\n                                fecha_inicial = fecha_inicial.getFullYear() + \"-\" +\n                                    (fecha_inicial.getMonth() + 1) + \"-\" +\n                                    fecha_inicial.getDate()\n\n                                var fecha_final = vm.reporte.hasta\n                                fecha_final = fecha_final.getFullYear() + \"-\" +\n                                    (fecha_final.getMonth() + 1) + \"-\" +\n                                    fecha_final.getDate()\n\n                                window.open(\n                                    \"/api/aperturas_cierres_caja/reporte_movimientos/?\" +\n                                    \"fecha_inicial=\" + fecha_inicial + \"&\" +\n                                    \"fecha_final=\" + fecha_final + \"&\" +\n                                    \"usuario=\" + $rootScope.user.id\n                                    ,\n                                    \"_blank\"\n                                );\n                                $scope.closeThisDialog(0)\n                            }\n                        }\n\n                    }],\n                    controllerAs: 'ctrl'\n                })\n        }\n\n        vm.detallesCierreCaja = function(item) {\n            item.loadingIngEng = true\n\n            return AperturaCierreService\n                .ingresos_egresos({ id: item.id }, function(response) {\n                    item.loadingIngEng = false\n\n                    $rootScope.ingresos_egresos_info = response\n                    $rootScope.apertura_cierre_caja_info = item\n\n                    return ngDialog.open({\n                        template: 'app/pages/caja/templates/cerrar_caja.dialog.html',\n                        width: '50%',\n                        closeByDocument: true,\n                        closeByEscape: true\n                    })\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"Ocurrió un error. Por favor intenta más tarde.\", \"error\")\n                })\n\n\n        }\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .factory('CajaService', CajaService);\n\n    /** @ngInject */\n    function CajaService($resource) {\n        var url = '/api/caja/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            // delete: { method: 'DELETE', params: { id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .controller('MovimientosCajaController', MovimientosCajaController);\n\n    /** @ngInject */\n    function MovimientosCajaController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        AuthService,\n        CajaService,\n        UtilsService,\n        AperturaCierreService,\n        MovimientosCajaService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.loadingIngEng = false\n            vm.array = []\n\n            //  OBTENDRA LOS INGRESOS Y EGRESOS DE LA APERTURA CIERRE ACTUAL\n            vm.ingresos_egresos = {}\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.apertura_cierre_caja = {}\n\n            vm.ESTADOS_CAJA = UtilsService.getEstadosCaja()\n\n            //  OBTENER EL ITEM DE CAJA\n            getItem()\n\n        }\n\n        function getItem() {\n            if (!$state.params.id)\n                return $state.go(\"caja\")\n            else {\n                vm.loading = true\n                AperturaCierreService\n                    .get({ id: $state.params.id }, function(data) {\n                        vm.apertura_cierre_caja = data\n                        vm.loading = false\n                        vm.list()\n                    }, function(error) { })\n            }\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return MovimientosCajaService\n                .list({\n                    apertura_cierre_caja: $state.params.id,\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n\n                    _.forEach(data.results, function(item) {\n                        if (item.tipo == 10)\n                            item.tipo_nombre = \"INGRESO\"\n                        else if (item.tipo == 20)\n                            item.tipo_nombre = \"EGRESO\"\n                    })\n\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        // vm.list()\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n\n        vm.registrarMovimiento = function() {\n            return ngDialog.openConfirm({\n                template: 'app/pages/caja/templates/movimientos_caja.create.html',\n                className: 'ngdialog-theme-default ngdialog-theme-custom',\n                controller: 'MovimientosCajaCreateController',\n                controllerAs: 'ctrl',\n                resolve: {\n                    item: function getItem() {\n                        return vm.apertura_cierre_caja\n                    }\n                },\n                closeByDocument: false,\n                closeByEscape: false\n            })\n            .then(function(data) {\n                // return vm.list()\n                getItem()\n            })\n            .catch(function(error) {\n                //console.log(\"error\", error)\n            })\n        }\n\n        function getIngresosEgresos() {\n            vm.loadingIngEng = true\n            AperturaCierreService\n                .ingresos_egresos({ id: vm.apertura_cierre_caja.id }, function(response) {\n                    vm.ingresos_egresos = response\n                    vm.loadingIngEng = false\n                }, function(error) { })\n        }\n        vm.cerrarCaja = function() {\n            // getIngresosEgresos()\n            vm.loadingIngEng = true\n\n            return AperturaCierreService\n                .ingresos_egresos({ id: vm.apertura_cierre_caja.id }, function(response) {\n                    vm.ingresos_egresos = response\n\n                    return ngDialog.openConfirm({\n                        template: 'app/pages/caja/templates/cerrar_caja.html',\n                        // className: 'ngdialog-theme-default ngdialog-theme-custom',\n                        width: '50%',\n                        controller: 'CerrarCajaController',\n                        controllerAs: 'ctrl',\n                        resolve: {\n                            item: function getItem() {\n                                return vm.apertura_cierre_caja\n                            },\n                            ingresos_egresos: function getIngresosEgresosCtrl() {\n                                return vm.ingresos_egresos\n                            }\n                        },\n                        closeByDocument: false,\n                        closeByEscape: false\n                    })\n                    .then(function(data) {\n                        // return vm.list()\n                        vm.loadingIngEng = false\n                        // getItem()\n                    })\n                    .catch(function(error) {\n                        vm.loadingIngEng = false\n                        //console.log(\"error\", error)\n                    })\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"Ocurrió un error. Por favor intenta más tarde.\", \"error\")\n                })\n\n        }\n\n        vm.detallesMovimiento = function(item) {\n            $rootScope.movimiento_caja = item\n            return ngDialog.open({\n                template: 'app/pages/caja/templates/movimientos_caja.dialog.html',\n                className: 'ngdialog-theme-default ngdialog-theme-custom',\n                closeByDocument: true,\n                closeByEscape: true\n            })\n        }\n\n        vm.detallesCierreCaja = function() {\n            vm.loadingIngEng = true\n\n            return AperturaCierreService\n                .ingresos_egresos({ id: vm.apertura_cierre_caja.id }, function(response) {\n                    vm.loadingIngEng = false\n\n                    $rootScope.ingresos_egresos_info = response\n                    $rootScope.apertura_cierre_caja_info = vm.apertura_cierre_caja\n                    return ngDialog.open({\n                        template: 'app/pages/caja/templates/cerrar_caja.dialog.html',\n                        width: '50%',\n                        closeByDocument: true,\n                        closeByEscape: true\n                    })\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"Ocurrió un error. Por favor intenta más tarde.\", \"error\")\n                })\n\n\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .controller('MovimientosCajaCreateAbonoPacienteController', MovimientosCajaCreateAbonoPacienteController);\n\n    /** @ngInject */\n    function MovimientosCajaCreateAbonoPacienteController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        MovimientosCajaService,\n        CobrosPacienteService,\n        paciente\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.movimiento_caja = {\n                apertura_cierre_caja: null,\n                cantidad: 0,\n                tipo: 10,\n                tipo_documento: null,\n                num_documento: null,\n                concepto: (\"Abono de Paciente: \" + paciente.persona.persona || \"\")\n            }\n\n            vm.activar_cantidad = true\n            vm.activar_egreso = false\n        }\n\n        vm.changeType = function() {\n            vm.movimiento_caja.tipo_documento = null\n            vm.movimiento_caja.num_documento = null\n        }\n\n        function _validate() {\n            var title = \"Error\"\n            var msg = \"Campos incompletos. Por favor verifica.\"\n            var error = false\n\n            if (!vm.movimiento_caja.cantidad) {\n                title = \"Sin cantidad\"\n                msg = \"Por favor, escribe la cantidad del movimiento\"\n                error = true\n            }\n            else if (!vm.movimiento_caja.tipo) {\n                title = \"Sin tipo\"\n                msg = \"Por favor, selecciona el tipo de movimiento\"\n                error = true\n            }\n            else if (!vm.movimiento_caja.concepto) {\n                title = \"Sin concepto\"\n                msg = \"Por favor, escribe el concepto del movimiento\"\n                error = true\n            }\n\n            if (error)\n                swal(title, msg, \"error\")\n            return !error\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n\n            var json = {\n                colaborador: $rootScope.user.id,\n                paciente: paciente.id,\n                monto: vm.movimiento_caja.cantidad,\n                tipo: 20,   //  TIPO 20 ES ABONO\n                pagado: true,\n                motivo: vm.movimiento_caja.concepto\n            }\n\n            CobrosPacienteService\n                .create(json, function(response) {\n                    swal(\"¡Éxito!\", \"El movimiento fue registrado exitosamente. Puede revisar la caja para corroborar el registro del mismo.\", \"success\")\n                    $scope.confirm(response)\n\n                }, _onError)\n\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Registrar movimiento?\",\n                    text: \"Será registrado un movimiento de caja.\",\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, registrar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    vm.movimiento_caja.apertura_cierre_caja = $rootScope.user.id_apertura_caja || null\n\n                    return MovimientosCajaService.create(vm.movimiento_caja, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .controller('MovimientosCajaCreateCobroPacienteController', MovimientosCajaCreateCobroPacienteController);\n\n    /** @ngInject */\n    function MovimientosCajaCreateCobroPacienteController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        MovimientosCajaService,\n        CobrosPacienteService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.movimiento_caja = {\n                apertura_cierre_caja: null,\n                cantidad: item.monto,\n                tipo: 10,\n                tipo_documento: null,\n                num_documento: null,\n                concepto: (item.motivo + \" -- Paciente: \" + item.paciente.persona.persona || \"\")\n            }\n\n            vm.activar_cantidad = false\n            vm.activar_egreso = false\n        }\n\n        vm.changeType = function() {\n            vm.movimiento_caja.tipo_documento = null\n            vm.movimiento_caja.num_documento = null\n        }\n\n        function _validate() {\n            var title = \"Error\"\n            var msg = \"Campos incompletos. Por favor verifica.\"\n            var error = false\n\n            if (!vm.movimiento_caja.cantidad) {\n                title = \"Sin cantidad\"\n                msg = \"Por favor, escribe la cantidad del movimiento\"\n                error = true\n            }\n            else if (!vm.movimiento_caja.tipo) {\n                title = \"Sin tipo\"\n                msg = \"Por favor, selecciona el tipo de movimiento\"\n                error = true\n            }\n            else if (!vm.movimiento_caja.concepto) {\n                title = \"Sin concepto\"\n                msg = \"Por favor, escribe el concepto del movimiento\"\n                error = true\n            }\n\n            if (error)\n                swal(title, msg, \"error\")\n            return !error\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n\n            var json = {\n                id: item.id,\n                colaborador: $rootScope.user.id,\n                paciente: item.paciente.id,\n                monto: item.monto,\n                // tipo: item.tipo,   //  TIPO 10 ES COBRO\n                pagado: true\n            }\n\n            CobrosPacienteService\n                .update(json, function(response) {\n                    swal(\"¡Éxito!\", \"El movimiento fue registrado exitosamente. Puede revisar la caja para corroborar el registro del mismo.\", \"success\")\n                    $scope.confirm(response)\n\n                }, _onError)\n\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Registrar movimiento?\",\n                    text: \"Será registrado un movimiento de caja.\",\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, registrar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    vm.movimiento_caja.apertura_cierre_caja = $rootScope.user.id_apertura_caja || null\n\n                    return MovimientosCajaService.create(vm.movimiento_caja, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .controller('MovimientosCajaCreateController', MovimientosCajaCreateController);\n\n    /** @ngInject */\n    function MovimientosCajaCreateController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        MovimientosCajaService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.movimiento_caja = {\n                apertura_cierre_caja: item.id,\n                cantidad: null,\n                tipo: null,\n                tipo_documento: null,\n                num_documento: null,\n                concepto: \"\"\n            }\n\n            vm.activar_cantidad = true\n            vm.activar_egreso = true\n        }\n\n        vm.changeType = function() {\n            vm.movimiento_caja.tipo_documento = null\n            vm.movimiento_caja.num_documento = null\n        }\n\n        function _validate() {\n            var title = \"Error\"\n            var msg = \"Campos incompletos. Por favor verifica.\"\n            var error = false\n\n            if (!vm.movimiento_caja.cantidad) {\n                title = \"Sin cantidad\"\n                msg = \"Por favor, escribe la cantidad del movimiento\"\n                error = true\n            }\n            else if (!vm.movimiento_caja.tipo) {\n                title = \"Sin tipo\"\n                msg = \"Por favor, selecciona el tipo de movimiento\"\n                error = true\n            }\n            else if (!vm.movimiento_caja.concepto) {\n                title = \"Sin concepto\"\n                msg = \"Por favor, escribe el concepto del movimiento\"\n                error = true\n            }\n\n            if (error)\n                swal(title, msg, \"error\")\n            return !error\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            swal(\"¡Éxito!\", \"El movimiento fue registrado exitosamente.\", \"success\")\n            $scope.confirm(response)\n            //return $state.go('users')\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Registrar movimiento?\",\n                    text: \"Será registrado un movimiento de caja.\",\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, registrar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    return MovimientosCajaService.create(vm.movimiento_caja, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .factory('MovimientosCajaService', MovimientosCajaService);\n\n    /** @ngInject */\n    function MovimientosCajaService($resource) {\n        var url = '/api/movimientos_caja/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            // delete: { method: 'DELETE', params: { id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoNotasCerrarController', CasoNotasCerrarController);\n\n    /** @ngInject */\n    function CasoNotasCerrarController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        CasoService,\n        AuthService,\n        CasoNotasService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.caso = item\n            vm.sesiones = 0\n\n            if (vm.caso.paciente.fecha_nacimiento)\n                vm.edad = moment().diff(moment(vm.caso.paciente.fecha_nacimiento), 'years')\n\n            vm.fecha = new Date()\n\n            getSesiones()\n\n        }\n\n        function getSesiones() {\n            CasoNotasService\n                .list({ caso: vm.caso.id }, function(response) {\n                    vm.sesiones = response.count\n                }, function(error) {})\n        }\n\n        vm.save = function() {\n            swal({\n                title: \"¿Cerrar el caso?\",\n                text: \"Se cerrará el caso\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, cerrar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                var caso = {\n                    id: vm.caso.id,\n                    paciente: vm.caso.paciente.id,\n                    colaborador: vm.caso.colaborador.id,\n                    cerrado: true,\n                    diagnostico: vm.caso.diagnostico || \"---\",\n                    plan_terapeutico: vm.caso.plan_terapeutico || \"---\",\n                    instrumentos: vm.caso.instrumentos || \"---\",\n                    resultados: vm.caso.resultados || \"---\",\n                    pronostico: vm.caso.pronostico || \"---\",\n                    observaciones: vm.caso.observaciones || \"---\",\n                    fecha_cierre: new Date(),\n                }\n\n                CasoService\n                    .update(caso, function(response) {\n                        vm.caso.cerrado = response.cerrado\n                        vm.caso.fecha_cierre = response.fecha_cierre\n                        swal(\"¡Éxito!\", \"El caso ha sido cerrado exitosamente.\", \"success\")\n                    }, function(error) {\n                        swal(\"¡Error!\", \"Ocurrió un error al guardar. Por favor intenta más tarde.\", \"error\")\n                    })\n            });\n        }\n\n        vm.abrirCaso = function() {\n            swal({\n                title: \"¿Abrir el caso?\",\n                text: \"Se volverá a aperturar el caso\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, abrir!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                var caso = {\n                    id: vm.caso.id,\n                    paciente: vm.caso.paciente.id,\n                    colaborador: vm.caso.colaborador.id,\n                    cerrado: false\n                }\n\n                CasoService\n                    .update(caso, function(response) {\n                        vm.caso.cerrado = response.cerrado\n                        vm.fecha = new Date()\n                        swal(\"¡Éxito!\", \"El caso ha sido abierto exitosamente.\", \"success\")\n                    }, function(error) {\n                        swal(\"¡Error!\", \"Ocurrió un error al guardar. Por favor intenta más tarde.\", \"error\")\n                    })\n            });\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoController', CasoController);\n\n    /** @ngInject */\n    function CasoController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        CasoService,\n        AuthService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.query = {\n                cerrado: null\n            }\n\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return CasoService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search,\n                    cerrado: vm.query.cerrado\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        vm.list()\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        vm.goToUrl = function(url) {\n            window.open(url.toString(), \"_blank\")\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Caso eliminado exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar el caso?\",\n                text: \"Se eliminará el caso\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return CasoService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n        vm.status = function(item, value) {\n\n            return ngDialog.openConfirm\n                ({\n                    template: 'app/pages/casos/templates/casos.cerrar.html',\n                    width: '80%',\n                    controller: 'CasoNotasCerrarController',\n                    controllerAs: 'ctrl',\n                    closeByDocument: true,\n                    closeByEscape: true,\n                    resolve: {\n                        item: function() {\n                            return item\n                        },\n                    }\n                })\n                .then(function(data) {\n                    return vm.list()\n                })\n                .catch(function(error) {\n                    return vm.list()\n                })\n\n            // var title = \"\"\n            // var msg = \"\"\n\n            // if (value) {\n            //     title = \"¿Cerrar caso?\"\n            //     msg = \"Se cerrará el caso.\"\n            // }\n            // else {\n            //     title = \"¿Abrir caso?\"\n            //     msg = \"Se abrirá el caso.\"\n            // }\n\n            // swal({\n            //     title: title,\n            //     text: msg,\n            //     type: \"warning\",\n            //     showCancelButton: true,\n            //     confirmButtonColor: \"#e74c3c\",\n            //     confirmButtonText: \"¡Sí!\",\n            //     cancelButtonText: \"No, aún no\",\n            //     closeOnConfirm: false,\n            //     showLoaderOnConfirm: true\n            // }, function() {\n            //     /////////////////////////////////////////////////\n            //     //  FIX DE TECLA TABULADOR\n            //     /////////////////////////////////////////////////\n            //     window.onkeydown = null\n            //     window.onfocus = null\n            //     /////////////////////////////////////////////////\n\n            //     return CasoService\n            //         .status({ id: item.id }, function(response) {\n            //             if (value) {\n            //                 title = \"Cerrado\"\n            //                 msg = \"El caso fue cerrado.\"\n            //             } else {\n            //                 title = \"Abierto\"\n            //                 msg = \"El caso fue nuevamente abierto.\"\n            //             }\n\n            //             swal(title, msg, \"success\")\n            //             return vm.list()\n\n            //         }, function(error) {\n            //             swal(\"¡Error!\", \"Ocurrió un error. Por favor intente más tarde\", \"error\")\n            //             return vm.list()\n\n            //         });\n            // })\n\n        }\n\n        // vm.details = function(item) {\n        //     return ngDialog.open({\n        //         template: 'app/pages/citas/templates/citas.dialog.details.html',\n        //         width: '80%',\n        //         controller: 'CitaDetailsDialogController',\n        //         controllerAs: 'ctrl',\n        //         closeByDocument: true,\n        //         closeByEscape: true,\n        //         resolve: {\n        //             item: function() {\n        //                 return item\n        //             },\n        //         }\n        //     })\n        // }\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoCreateController', CasoCreateController);\n\n    /** @ngInject */\n    function CasoCreateController(\n        $scope,\n        $rootScope,\n        UsersService,\n        PacienteService,\n        WizardHandler,\n        UtilsService,\n        CitaService,\n        AuthService,\n        $state,\n        Upload,\n        CasoService,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n            vm.genograma = null\n\n            vm.panelPacienteOculto = true\n            vm.panelMotivoOculto = false\n            vm.panelHistoriaActualOculto = true\n            vm.panelHistoriaClinicaOculto = true\n            vm.panelHistoriaFamiliarOculto = true\n            vm.panelExamenMentalOculto = true\n            vm.panelFuentesSecundariasOculto = true\n            vm.panelDiscernimientoDiagnosticoOculto = true\n            vm.panelObjetivoTerapeuticoOculto = true\n            vm.panelEvaluacionPronosticaOculto = true\n            vm.panelPlanTerapeuticoOculto = true\n            vm.panelGenogramaOculto = true\n\n            //  CASO\n            vm.caso = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {\n                    historia_actual: {\n                        fecha_inicio_duracion_evento: \"\",\n                        factores_precipitantes: \"\",\n                        impacto_enfermedad: \"\",\n                    },\n                    examen_mental: {\n                        apariencia: \"\",\n                        actitud: \"\",\n                        conducta: \"\",\n                        lenguaje: \"\",\n                        curso_contenido_pensamiento: \"\",\n                        percepcion: \"\",\n                        humor: \"\",\n                        afecto: \"\",\n                        inteligencia: \"\",\n                        orientacion: \"\",\n                        memoria: \"\",\n                        control_impulsos: \"\",\n                        capacidad_juicio_critico: \"\",\n                        capacidad_insight: \"\",\n                        confiabilidad: \"\",\n                    },\n                    fuentes_secundarias: {\n                        informes_medicos: \"\",\n                        test_psicometricos_informe_resultados: \"\",\n                        test_proyectivos_interpretacion_resultados: \"\",\n                    },\n                    discernimiento_diag: {\n                        criterios_diagnostico: \"\",\n                        diagnostico_semiologico: \"\",\n                        diagnostico_psicodinamico: \"\",\n                    },\n                    objetivo_terapeutico: {\n                        corto_plazo: \"\",\n                        mediano_plazo: \"\",\n                        largo_plazo: \"\",\n                    }\n                }\n            }\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                genero: \"Femenino\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n\n                notas_medicas: {\n                    notas: {\n                        antecedentes: {\n                            medicos: \"\",\n                            quirurgicos: \"\",\n                            traumaticos: \"\",\n                            alergicos: \"\",\n                            vicios: \"\",\n                            pediatricos: \"\",\n                            familiares: \"\",\n                            ginecologicos: {\n                                fur: \"\",\n                                gestas: \"\",\n                                partos: \"\",\n                                abortos: \"\",\n                                pf: \"\"\n                            }\n                        }\n                    }\n                },\n                notas_psicologicas: {\n                    historia_clinica: {\n                        historia_prenatal: \"\",\n                        desarrollo_psicomotriz: \"\",\n                        desenvolvimiento_escolar: \"\",\n                        adolescencia: \"\",\n                        historia_psico_sexual: \"\",\n                        vida_social: \"\",\n                        historia_medica: \"\",\n                        trastornos_familiares: \"\",\n                        otros: \"\"\n                    },\n                    historia_familiar: \"\"\n                }\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n            getPaciente()\n        }\n\n        vm.listenUploaders = function() {\n            setTimeout(function() {\n                angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n                angular.element(document.querySelector('#genogramInput')).on('change', handleFileSelectGenogram);\n            }, 1000)\n        }\n        vm.listenUploaders()\n        vm.showPanel = function(panel) {\n            vm.listenUploaders()\n\n            return !panel\n        }\n\n        function getPaciente() {\n            if (!$state.params.id) {\n                vm.panelPacienteOculto = false\n                vm.panelMotivoOculto = true\n                setTimeout(function() {\n                    $('#persona').focus()\n                    $(document).ready(function(){\n                        $(this).scrollTop(0);\n                    });\n                }, 50)\n\n            } else {\n                vm.loading = true\n                PacienteService.get({ id: $state.params.id }, function(response) {\n\n                    setTimeout(function() {\n                        $('#motivo').focus()\n                    }, 50)\n\n                    response.nivel_academico = _.find(vm.grados, { value: response.nivel_academico })\n                    response.tipo_de_sangre = _.find(vm.tiposDeSangre, { value: response.tipo_de_sangre })\n\n                    var nacimiento = new Date(response.fecha_nacimiento)\n                    nacimiento.setMinutes(nacimiento.getMinutes() + nacimiento.getTimezoneOffset())\n                    vm.nacimiento.anios = _.find(vm.anios, { id: nacimiento.getFullYear() })\n                    vm.nacimiento.meses = _.find(vm.meses, { id: nacimiento.getMonth() })\n                    vm.nacimiento.dias = _.find(vm.dias, { id: nacimiento.getDate() })\n\n                    response.tipos = []\n\n                    response.notas_psicologicas = JSON.parse(response.notas_psicologicas)\n                    response.notas_medicas = JSON.parse(response.notas_medicas)\n\n                    vm.paciente = response\n                    vm.loading = false\n                }, function(error) {\n                    return $state.go('pacientes')\n                })\n            }\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            if (!img)\n                $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n        var handleFileSelectGenogram = function(evt) {\n            vm.genograma = evt.currentTarget.files[0];\n            // vm.caso.genograma = evt.currentTarget.files[0];\n            $scope.$apply()\n        };\n\n        // setTimeout(function() {\n        //     angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        // }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            var title = \"¡Campos incompletos!\"\n            var msg = \"Verifica que todos los campos obligatorios estén completados.\"\n            var error = false\n\n            if (!vm.paciente.persona.persona) {\n                title = \"Persona sin nombre\"\n                msg = \"La persona no tiene asignado un nombre. Por favor completa ese campo.\"\n                error = true\n            }\n            else if (!vm.caso.motivo) {\n                title = \"Motivo de la consulta\"\n                msg = \"No fue asignado un motivo a la consulta. Por favor completa ese campo.\"\n                error = true\n            }\n\n            if (error) {\n                swal(title, msg, 'error')\n            }\n            return !error\n            // if (vm.form.$valid) {\n            //     return true\n\n            // } else {\n            //     //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n            //     vm.form.persona.$dirty = true;\n\n            //     return false\n            // }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _guardarCaso(response) {\n            vm.caso.paciente = vm.paciente.id\n            vm.caso.colaborador = $rootScope.user.id\n            vm.caso.notas = JSON.stringify(vm.caso.notas)\n\n            CasoService\n                .create(vm.caso, function(response) {\n\n                    Upload\n                        .upload({\n                            url: '/api/casos/genograma/',\n                            method: 'POST',\n                            data: {\n                                id: response.id,\n                                genograma: vm.genograma\n                            }\n                        })\n                        .then(function(response_img) {\n                            swal(\"¡Éxito!\", \"El caso fue registrado exitosamente.\", \"success\")\n                            // return $state.go('casos')\n                            return $state.go('casos_notas', { id: response.id })\n                        })\n                        .catch(function(error_img) {\n                            swal(\"¡Éxito!\", \"El caso fue registrado exitosamente.\", \"success\")\n                            // return $state.go('casos')\n                            return $state.go('casos_notas', { id: response.id })\n                        })\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"El caso no pudo ser registrado. Por favor, intenta más tarde.\", \"error\")\n                    return $state.go('pacientes')\n                })\n        }\n        function _onSave(response) {\n            vm.paciente.id = response.id\n            var data = {\n                id: vm.paciente.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    return _guardarCaso(response)\n                    // swal(\"¡Éxito!\", \"El paciente fue editado exitosamente.\", \"success\")\n                    // return $state.go('casos')\n                })\n                .catch(function(response) {\n                    return _guardarCaso(response)\n                    // swal(\"¡Éxito!\", \"El paciente fue editado exitosamente.\", \"success\")\n                    // return $state.go('casos')\n                })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Registrar caso?\",\n                    text: \"Será registrado un nuevo caso para el paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, registrar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    paciente.notas_psicologicas = JSON.stringify(paciente.notas_psicologicas)\n                    paciente.notas_medicas = JSON.stringify(paciente.notas_medicas)\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    if (paciente.id)\n                        return PacienteService.update(paciente, _onSave, _onError)\n                    else\n                        return PacienteService.create(paciente, _onSave, _onError)\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoEditController', CasoEditController);\n\n    /** @ngInject */\n    function CasoEditController(\n        $scope,\n        $rootScope,\n        UsersService,\n        PacienteService,\n        WizardHandler,\n        UtilsService,\n        CitaService,\n        AuthService,\n        $state,\n        Upload,\n        CasoService,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.disabled = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n            vm.genograma = null\n\n            vm.panelPacienteOculto = true\n            vm.panelMotivoOculto = false\n            vm.panelHistoriaActualOculto = true\n            vm.panelHistoriaClinicaOculto = true\n            vm.panelHistoriaFamiliarOculto = true\n            vm.panelExamenMentalOculto = true\n            vm.panelFuentesSecundariasOculto = true\n            vm.panelDiscernimientoDiagnosticoOculto = true\n            vm.panelObjetivoTerapeuticoOculto = true\n            vm.panelEvaluacionPronosticaOculto = true\n            vm.panelPlanTerapeuticoOculto = true\n            vm.panelGenogramaOculto = true\n\n            setTimeout(function() {\n                $('#motivo').focus()\n            }, 250)\n\n\n            //  CASO\n            vm.caso = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {}\n            }\n            vm.colaborador = {}\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                genero: \"Femenino\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n\n                notas_psicologicas: {},\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n            getItem()\n        }\n\n        vm.listenUploaders = function() {\n            setTimeout(function() {\n                angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n                angular.element(document.querySelector('#genogramInput')).on('change', handleFileSelectGenogram);\n            }, 1000)\n        }\n        vm.listenUploaders()\n        vm.showPanel = function(panel) {\n            vm.listenUploaders()\n\n            return !panel\n        }\n\n        function getItem() {\n            vm.loading = true\n            if (!$state.params.id)\n                return $state.go('casos')\n            else {\n                CasoService\n                    .get({ id: $state.params.id }, function(response) {\n                        if (response.cerrado)\n                            vm.disabled = true\n\n                        vm.genograma = response.genograma\n\n                        response.paciente.nivel_academico = _.find(vm.grados, { value: response.nivel_academico })\n                        response.paciente.tipo_de_sangre = _.find(vm.tiposDeSangre, { value: response.tipo_de_sangre })\n\n                        if (!response.paciente.nivel_academico)\n                            response.paciente.nivel_academico = vm.grados[0]\n                        if (!response.paciente.tipo_de_sangre)\n                            response.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n                        var nacimiento = new Date(response.paciente.fecha_nacimiento)\n                        nacimiento.setMinutes(nacimiento.getMinutes() + nacimiento.getTimezoneOffset())\n                        vm.nacimiento.anios = _.find(vm.anios, { id: nacimiento.getFullYear() })\n                        vm.nacimiento.meses = _.find(vm.meses, { id: nacimiento.getMonth() })\n                        vm.nacimiento.dias = _.find(vm.dias, { id: nacimiento.getDate() })\n\n                        response.paciente.tipos = []\n\n                        response.paciente.notas_psicologicas = JSON.parse(response.paciente.notas_psicologicas || \"{}\")\n\n                        vm.paciente = response.paciente\n                        vm.colaborador = response.colaborador\n\n                        response.notas = JSON.parse(response.notas)\n                        vm.caso = response\n\n                        vm.loading = false\n                    }, function(error) {\n                        return $state.go('casos')\n                    })\n            }\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            if (!img)\n                $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n        var handleFileSelectGenogram = function(evt) {\n            vm.genograma = evt.currentTarget.files[0];\n            // vm.caso.genograma = evt.currentTarget.files[0];\n            $scope.$apply()\n        };\n\n        setTimeout(function() {\n            angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            var title = \"¡Campos incompletos!\"\n            var msg = \"Verifica que todos los campos obligatorios estén completados.\"\n            var error = false\n\n            if (!vm.paciente.persona.persona) {\n                title = \"Persona sin nombre\"\n                msg = \"La persona no tiene asignado un nombre. Por favor completa ese campo.\"\n                error = true\n            }\n            else if (!vm.caso.motivo) {\n                title = \"Motivo de la consulta\"\n                msg = \"No fue asignado un motivo a la consulta. Por favor completa ese campo.\"\n                error = true\n            }\n\n            if (error) {\n                swal(title, msg, 'error')\n            }\n            return !error\n            // if (vm.form.$valid) {\n            //     return true\n\n            // } else {\n            //     //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n            //     vm.form.persona.$dirty = true;\n\n            //     return false\n            // }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _guardarCaso(response) {\n            vm.caso.paciente = vm.paciente.id\n            // vm.caso.colaborador = $rootScope.user.id\n            vm.caso.colaborador = vm.colaborador.id\n            vm.caso.notas = JSON.stringify(vm.caso.notas)\n\n            if (vm.caso.genograma)\n                delete vm.caso.genograma\n            else\n                vm.caso.genograma = null\n\n            CasoService\n                .update(vm.caso, function(response) {\n                    // swal(\"¡Éxito!\", \"El caso fue editado exitosamente.\", \"success\")\n                    // return $state.go('casos')\n\n                    Upload\n                        .upload({\n                            url: '/api/casos/genograma/',\n                            method: 'POST',\n                            data: {\n                                id: response.id,\n                                genograma: vm.genograma\n                            }\n                        })\n                        .then(function(response_img) {\n                            swal(\"¡Éxito!\", \"El caso fue editado exitosamente.\", \"success\")\n                            // return $state.go('casos')\n                            return $state.go('casos_notas', { id: response.id })\n                        })\n                        .catch(function(error_img) {\n                            swal(\"¡Éxito!\", \"El caso fue editado exitosamente.\", \"success\")\n                            // return $state.go('casos')\n                            return $state.go('casos_notas', { id: response.id })\n                        })\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"El caso no pudo ser editado. Por favor, intenta más tarde.\", \"error\")\n                    return $state.go('casos')\n                })\n        }\n        function _onSave(response) {\n            var data = {\n                id: vm.paciente.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    return _guardarCaso(response)\n                    // swal(\"¡Éxito!\", \"El paciente fue editado exitosamente.\", \"success\")\n                    // return $state.go('casos')\n                })\n                .catch(function(response) {\n                    return _guardarCaso(response)\n                    // swal(\"¡Éxito!\", \"El paciente fue editado exitosamente.\", \"success\")\n                    // return $state.go('casos')\n                })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Editar caso?\",\n                    text: \"Será editado el caso del paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, editar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    paciente.notas_psicologicas = JSON.stringify(paciente.notas_psicologicas)\n\n                    return PacienteService.update(paciente, _onSave, _onError)\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoNotasController', CasoNotasController);\n\n    /** @ngInject */\n    function CasoNotasController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        CasoService,\n        AuthService,\n        CasoNotasService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.loading_item = false\n\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.query = {\n                cerrado: false\n            }\n\n            if (!$state.params.id)\n                $state.go('casos')\n\n            getItem()\n        }\n\n        function getItem() {\n            vm.loading_item = true\n            CasoService\n                .get({ id: $state.params.id }, function(response) {\n                    vm.caso = response\n\n                    vm.loading_item = false\n                }, function(error) {\n                    vm.loading_item = false\n\n                    return $state.go('casos')\n                })\n        }\n\n        vm.gotoCaso = function() {\n            $state.go('casos_edit', { id: $state.params.id })\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return CasoNotasService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search,\n                    caso: $state.params.id\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        vm.list()\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Nota eliminada exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar la nota?\",\n                text: \"Se eliminará la nota\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return CasoNotasService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n        vm.edit = function (item) {\n            return ngDialog\n                .openConfirm({\n                    template: 'app/pages/casos/templates/casos.notas.dialog.edit.html',\n                    width: '80%',\n                    controller: 'CasoNotasEditController',\n                    controllerAs: 'ctrl',\n                    closeByDocument: true,\n                    closeByEscape: true,\n                    resolve: {\n                        item: function() {\n                            return item\n                        },\n                    }\n                })\n                .then(function(data) {\n                    return vm.list()\n                })\n                .catch(function(error) {})\n        }\n\n        vm.create = function() {\n            return ngDialog\n                .openConfirm({\n                    template: 'app/pages/casos/templates/casos.notas.dialog.html',\n                    width: '80%',\n                    controller: 'CasoNotasCreateController',\n                    controllerAs: 'ctrl',\n                    closeByDocument: true,\n                    closeByEscape: true,\n                    resolve: {\n                        item: function() {\n                            return vm.caso\n                        },\n                    }\n                })\n                .then(function(data) {\n                    return vm.list()\n                })\n                .catch(function(error) {})\n        }\n\n        vm.details = function(item) {\n            return ngDialog\n                .open({\n                    template: 'app/pages/casos/templates/casos.notas.dialog.dt.html',\n                    width: '80%',\n                    controller: 'CasoNotasDetailsController',\n                    controllerAs: 'ctrl',\n                    closeByDocument: true,\n                    closeByEscape: true,\n                    resolve: {\n                        item: function() {\n                            return item\n                        },\n                    }\n                })\n        }\n\n        //////////////////////////////////////////////////////////////////////////////\n        //  CITA\n        //////////////////////////////////////////////////////////////////////////////\n        vm.createCita = function() {\n            if ($rootScope.user) {\n                return ngDialog.openConfirm({\n                    template: 'app/pages/citas/templates/citas.dialog.grid.pacientes.users.html',\n                    width: '80%',\n                    controller: 'CitasDialogController',\n                    controllerAs: 'ctrl',\n                    closeByDocument: false,\n                    closeByEscape: false,\n                    resolve: {\n                        colaborador: function() {\n                            return $rootScope.user\n                        },\n                        paciente: function() {\n                            return vm.caso.paciente\n                        }\n                    }\n                })\n                .then(function(data) {})\n                .catch(function(error) {})\n            }\n        }\n        //////////////////////////////////////////////////////////////////////////////\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoNotasCreateController', CasoNotasCreateController);\n\n    /** @ngInject */\n    function CasoNotasCreateController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        CasoService,\n        AuthService,\n        CasoNotasService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.caso = item\n            vm.nota = {\n                num_sesion: 1,\n                caso: vm.caso.id,\n                avance_terapeutico: \"\",\n                comentario_paciente: \"\",\n                eventos_relevantes: \"\",\n                evolucion_fisica: \"\",\n                evolucion_psicologica: \"\",\n                notas: \"\",\n                observaciones: \"\",\n                tarea_anterior: \"\",\n                tarea_proxima: \"\",\n                vario: \"\",\n            }\n            vm.fecha = new Date()\n\n            getPrevio()\n        }\n\n        function getPrevio() {\n            vm.loading = true\n            CasoNotasService\n                .previo({ caso: vm.caso.id }, function(response) {\n                    if (response.num_sesion)\n                        vm.nota.num_sesion = +response.num_sesion + 1\n                    vm.nota.tarea_anterior = response.tarea_proxima || \"\"\n\n                    vm.loading = false\n                }, function(error) {\n                    vm.loading = false\n                })\n        }\n\n        vm.save = function() {\n            swal({\n                title: \"¿Nueva nota evolutiva?\",\n                text: \"Se guardará una nueva nota evolutiva\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, guardar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                CasoNotasService\n                    .create(vm.nota, function(response) {\n                        swal(\"¡Éxito!\", \"La nota evolutiva fue creada exitosamente\", \"success\")\n                        return $scope.confirm(response)\n                    }, function(error) {\n                        swal(\"¡Error!\", \"Ocurrió un error al guardar. Por favor intenta más tarde.\", \"error\")\n                    })\n            });\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoNotasDetailsController', CasoNotasDetailsController);\n\n    /** @ngInject */\n    function CasoNotasDetailsController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        CasoService,\n        AuthService,\n        CasoNotasService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n\n            vm.nota = item\n\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .controller('CasoNotasEditController', CasoNotasEditController);\n\n    /** @ngInject */\n    function CasoNotasEditController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        CasoService,\n        AuthService,\n        CasoNotasService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.nota = _.clone(item)\n            vm.caso = _.clone(item.caso)\n            vm.nota.caso = _.clone(item.caso.id)\n\n            // vm.caso = item\n            // vm.nota = {\n            //     caso: vm.caso.id,\n            //     avance_terapeutico: \"\",\n            //     comentario_paciente: \"\",\n            //     eventos_relevantes: \"\",\n            //     evolucion_fisica: \"\",\n            //     evolucion_psicologica: \"\",\n            //     notas: \"\",\n            //     observaciones: \"\",\n            //     tarea_anterior: \"\",\n            //     tarea_proxima: \"\",\n            //     vario: \"\",\n            // }\n\n            vm.fecha = vm.nota.fecha_creacion\n\n            // getPrevio()\n\n        }\n\n        function getPrevio() {\n            vm.loading = true\n            CasoNotasService\n                .previo({ caso: vm.caso.id, id: vm.nota.id }, function(response) {\n                    vm.loading = false\n                }, function(error) {\n                    vm.loading = false\n                })\n        }\n\n        vm.save = function() {\n            swal({\n                title: \"¿Editar nota evolutiva?\",\n                text: \"Se editará una nota evolutiva\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, editar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                CasoNotasService\n                    .update(vm.nota, function(response) {\n                        swal(\"¡Éxito!\", \"La nota evolutiva fue editada exitosamente\", \"success\")\n                        return $scope.confirm(response)\n                    }, function(error) {\n                        swal(\"¡Error!\", \"Ocurrió un error al guardar. Por favor intenta más tarde.\", \"error\")\n                    })\n            });\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .factory('CasoNotasService', CasoNotasService);\n\n    /** @ngInject */\n    function CasoNotasService($resource) {\n        var url = '/api/notas_evolutivas/';\n        return $resource(url + ':id/', {}, {\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            previo: { url: url + 'previo/', method: 'GET' },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        }, { stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.casos')\n        .factory('CasoService', CasoService);\n\n    /** @ngInject */\n    function CasoService($resource) {\n        var url = '/api/casos/';\n        return $resource(url + ':id/', {}, {\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            status: { method: 'POST', url: url + 'status/' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        }, { stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.citas')\n        .controller('CitasController', CitasController);\n\n    /** @ngInject */\n    function CitasController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        CitaService,\n        AuthService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.query = {\n                anulada: false\n            }\n\n            vm.consultar = false\n            vm.esMedico = false\n            AuthService\n                .me()\n                .then(function(response) {\n                    var user = response\n\n                    var esPsicologo = AuthService.hasPermission(user, AuthService.PSICOLOGIA)\n                    if (esPsicologo)\n                        vm.consultar = true\n\n                    var esMedico = AuthService.hasPermission(user, AuthService.MEDICINA)\n                    if (esMedico)\n                        vm.esMedico = true\n                })\n                .catch(function(error) {})\n\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return CitaService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search,\n                    anulada: vm.query.anulada\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        vm.list()\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al anular!\", \"Cita anulada exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Anular cita?\",\n                text: \"Se anulará la cita\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, anular!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return CitaService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n        vm.details = function(item) {\n            return ngDialog.open({\n                template: 'app/pages/citas/templates/citas.dialog.details.html',\n                width: '80%',\n                controller: 'CitaDetailsDialogController',\n                controllerAs: 'ctrl',\n                closeByDocument: true,\n                closeByEscape: true,\n                resolve: {\n                    item: function() {\n                        return item\n                    },\n                }\n            })\n        }\n\n\n        //////////////////////////////////////////////////////////////////////////////\n        //  CREATE\n        //////////////////////////////////////////////////////////////////////////////\n        vm.create = function() {\n            if ($rootScope.user) {\n                if (AuthService.hasPermission($rootScope.user, AuthService.ADMIN) ||\n                    AuthService.hasPermission($rootScope.user, AuthService.SECRETARIA)) {\n\n                    return ngDialog.openConfirm({\n                        template: 'app/pages/citas/templates/citas.dialog.html',\n                        width: '80%',\n                        controller: 'CitasDialogController',\n                        controllerAs: 'ctrl',\n                        closeByDocument: false,\n                        closeByEscape: false,\n                        resolve: {\n                            colaborador: function() {\n                                return null\n                            },\n                            paciente: function() {\n                                return null\n                            }\n                        }\n                    })\n                    .then(function(data) {\n                        return vm.list()\n                    })\n                    .catch(function(error) {})\n                } else {\n                    return ngDialog.openConfirm({\n                        template: 'app/pages/citas/templates/citas.dialog.users.html',\n                        width: '80%',\n                        controller: 'CitasDialogController',\n                        controllerAs: 'ctrl',\n                        closeByDocument: false,\n                        closeByEscape: false,\n                        resolve: {\n                            colaborador: function() {\n                                return $rootScope.user\n                            },\n                            paciente: function() {\n                                return null\n                            }\n                        }\n                    })\n                    .then(function(data) {\n                        return vm.list()\n                    })\n                    .catch(function(error) {})\n                }\n            }\n\n\n        }\n        //////////////////////////////////////////////////////////////////////////////\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.citas')\n        .controller('CitasDialogController', CitasDialogController);\n\n    /** @ngInject */\n    function CitasDialogController(\n        $scope,\n        $rootScope,\n        UsersService,\n        PacienteService,\n        WizardHandler,\n        UtilsService,\n        CitaService,\n        AuthService,\n        colaborador,\n        paciente\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n\n\n            ///////////////////////////////////////////\n            //  GRID DE PACIENTES\n            ///////////////////////////////////////////\n            vm.loading = false\n            vm.colaboradores = []\n            vm.colaborador = null\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\"\n            }\n            //  SI SE MANDO UN COLABORADOR, ES PORQUE ESTÁ EN LA VISTA DE COLABORADORES\n            if (colaborador)\n                vm.colaborador = colaborador\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  GRID DE PACIENTES\n            ///////////////////////////////////////////\n            vm.loadingPac = true\n            vm.pacientes = []\n            vm.paciente = {}\n            resetPaciente()\n            vm.paginationPac = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\"\n            }\n            //  SI SE MANDO UN PACIENTE, ES PORQUE ESTÁ EN LA VISTA DE PACIENTES\n            if (paciente)\n                vm.paciente = paciente\n            ///////////////////////////////////////////\n\n\n            ///////////////////////////////////////////\n            //  SELECTS DE FECHA\n            ///////////////////////////////////////////\n            // vm.anios = UtilsService.getYears()\n            var actualYear = (new Date()).getFullYear()\n            vm.anios = [\n                { id: actualYear, value: actualYear },\n                { id: (actualYear + 1), value: (actualYear + 1) }\n            ]\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.horas = UtilsService.getHours()\n            vm.minutos = UtilsService.getMinutes()\n            vm.fechaCita = null\n            vm.descripcion = \"\"\n            //  SETEAR UNA HORA DESPUÉS DE LA ACTUAL Y UN DÍA DESPUES DEL ACTUAL\n            var now = new Date()\n            now.setDate(now.getDate() + 1)\n            vm.fecha = {\n                anios: _.find(vm.anios, { id: now.getFullYear() }),\n                meses: _.find(vm.meses, { id: now.getMonth() }),\n                dias: _.find(vm.dias, { id: now.getDate() }),\n                hora: _.find(vm.horas, { id: 9 }),\n                minuto: vm.minutos[0]\n            }\n            ///////////////////////////////////////////\n\n\n        }\n\n\n        ///////////////////////////////////////////\n        //  GRID DE COLABORADORES\n        ///////////////////////////////////////////\n        vm.page_changed = function() {\n            return vm.listColaboradores()\n        }\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.listColaboradores()\n        }\n        vm.listColaboradores = function() {\n            vm.loading = true\n            return UsersService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search,\n                    roles: (AuthService.PSICOLOGIA + \",\" + AuthService.MEDICINA)\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.colaboradores = data.results\n                    vm.loading = false\n                }, function(error) {\n                    vm.loading = false\n                    //console.log(error)\n                })\n        }\n        vm.listColaboradores()\n        vm.seleccionarColaborador = function(colaborador) {\n            vm.colaborador = colaborador\n        }\n        ///////////////////////////////////////////\n\n\n        ///////////////////////////////////////////\n        //  GRID DE PACIENTES\n        ///////////////////////////////////////////\n        function resetPaciente() {\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: null\n                },\n                genero: \"\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"---\",\n                num_hermanos: 0,\n                nivel_academico: \"Educación Media Superior\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: null,\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n                notas_medicas: {\n                    notas: {\n                        antecedentes: {\n                            medicos: \"\",\n                            quirurgicos: \"\",\n                            traumaticos: \"\",\n                            alergicos: \"\",\n                            vicios: \"\",\n                            pediatricos: \"\",\n                            familiares: \"\",\n                            ginecologicos: {\n                                fur: \"\",\n                                gestas: \"\",\n                                partos: \"\",\n                                abortos: \"\",\n                                pf: \"\"\n                            }\n                        }\n                    }\n                },\n                notas_psicologicas: {\n                    historia_clinica: {\n                        historia_prenatal: \"\",\n                        desarrollo_psicomotriz: \"\",\n                        desenvolvimiento_escolar: \"\",\n                        adolescencia: \"\",\n                        historia_psico_sexual: \"\",\n                        vida_social: \"\",\n                        historia_medica: \"\",\n                        trastornos_familiares: \"\",\n                        otros: \"\"\n                    },\n                    historia_familiar: \"\"\n                }\n\n            }\n        }\n        vm.resetPaciente = resetPaciente\n        vm.page_changed_pac = function() {\n            return vm.listPacientes()\n        }\n        vm.searchPac = function() {\n            vm.paginationPac.current_page = 1\n            vm.listPacientes()\n        }\n        vm.listPacientes = function() {\n            vm.loadingPac = true\n            return PacienteService\n                .list({\n                    page: vm.paginationPac.current_page,\n                    search: vm.paginationPac.search\n                }, function(data) {\n                    vm.paginationPac.total_items = data.count\n                    vm.pacientes = data.results\n                    vm.loadingPac = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        vm.listPacientes()\n        vm.seleccionarPaciente = function(paciente) {\n            if (paciente)\n                vm.paciente = paciente\n        }\n        ///////////////////////////////////////////\n\n\n        ///////////////////////////////////////////\n        //  GRID DE CITAS\n        ///////////////////////////////////////////\n        function validate() {\n            var title = \"¡Error!\"\n            var msg = \"Ocurrió un error, por favor intenta más tarde.\"\n            var error = false\n\n            //  COMPROBAR QUE NO SE ESTÁ SETEANDO UNA FECHA MENOR A LA ACTUAL\n            var now = new Date()\n            vm.fechaCita = new Date(\n                vm.fecha.anios.id,\n                vm.fecha.meses.id,\n                vm.fecha.dias.id,\n                vm.fecha.hora.id,\n                vm.fecha.minuto.id\n            )\n            if (vm.fechaCita <= now) {\n                title = \"Fecha no admitida\"\n                msg = \"La fecha debe ser mayor a la fecha actual\"\n                error = true\n            }\n\n            if (error) {\n                swal(title, msg, 'error')\n            }\n            return !error\n        }\n        function guardarPaciente() {\n            vm.paciente.notas_medicas = JSON.stringify(vm.paciente.notas_medicas)\n            vm.paciente.notas_psicologicas = JSON.stringify(vm.paciente.notas_psicologicas)\n\n            PacienteService\n                .create(vm.paciente, function(response) {\n                    vm.paciente.id = response.id\n                    return guardarCita()\n                }, function(error) {\n                    swal(\n                        \"¡Error!\",\n                        \"Ocurrió un error al reservar la cita. Por favor intenta más tarde.\",\n                        \"error\"\n                    )\n                    return $scope.closeThisDialog(error)\n                })\n        }\n        function guardarCita() {\n            var cita = {\n                colaborador: vm.colaborador.id,\n                paciente: vm.paciente.id,\n                fecha_cita: vm.fechaCita,\n                descripcion: vm.descripcion\n            }\n            CitaService\n                .create(cita, function(response) {\n                    swal(\n                        \"¡Éxito!\",\n                        \"La cita fué reservada exitosamente.\",\n                        \"success\"\n                    )\n                    return $scope.confirm(response)\n\n                }, function(error) {\n                    swal(\n                        \"¡Error!\",\n                        \"Ocurrió un error al reservar la cita. Por favor intenta más tarde.\",\n                        \"error\"\n                    )\n                    return $scope.closeThisDialog(error)\n                })\n        }\n        vm.save = function() {\n            if (validate()) {\n                swal({\n                    title: \"¿Reservar cita?\",\n                    text: \"Será registrada una cita para el paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, reservar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    if (vm.paciente.id) {\n                        //  HACER SOLAMENTE EL POST DE CITAS\n                        return guardarCita()\n                    } else {\n                        //  HACER ANTES UN POST DE CREAR PACIENTE Y LUEGO HACER EL POST DE CITAS\n                        return guardarPaciente()\n                    }\n\n                })\n            }\n        }\n        ///////////////////////////////////////////\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.citas')\n        .controller('CitaDetailsDialogController', CitaDetailsDialogController);\n\n    /** @ngInject */\n    function CitaDetailsDialogController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        PacienteService,\n        UtilsService,\n        $http,\n        Upload,\n        ngDialog,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.cita = item\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.citas')\n        .factory('CitaService', CitaService);\n\n    /** @ngInject */\n    function CitaService($resource) {\n        var url = '/api/citas/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .controller('ArchivosConsultaController', ArchivosConsultaController);\n\n    /** @ngInject */\n    function ArchivosConsultaController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        Upload,\n        ConsultaService,\n        AuthService,\n        ArchivosConsultaService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading_item = false\n            vm.loading = false\n            vm.array = []\n\n            vm.consulta = {}\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n            vm.archivo = null\n            vm.query = {}\n\n            getItem()\n        }\n\n        function getItem() {\n            if (!$state.params.id)\n                return $state.go('consultas')\n            else {\n                vm.loading = true\n                ConsultaService\n                    .get({ id: $state.params.id }, function(response) {\n                        vm.consulta = response\n                        vm.loading = false\n                        vm.list()\n\n                    }, function(error) {\n                        return $state.go('consultas')\n                    })\n            }\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return ArchivosConsultaService\n                .list({\n                    consulta: $state.params.id\n                    // page: vm.pagination.current_page,\n                    // search: vm.pagination.search,\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n\n                    _.forEach(data.results, function(item) {\n                        var split = item.archivo.split(\"/\")\n                        item.name = split[split.length - 1]\n\n                        var split_name = item.name.split(\".\")\n                        if (split_name.length >= 2) {\n                            var ext = split_name[split_name.length - 1]\n\n                            if (ext == \"doc\" || ext == \"docx\") {\n                                item.type = \"document\"\n                                item.icon = \"mdi mdi-file-word-box color-word\"\n                            }\n\n                            else if (ext == \"ppt\" || ext == \"pptx\") {\n                                item.type = \"present\"\n                                item.icon = \"mdi mdi-file-powerpoint-box color-present\"\n                            }\n\n                            else if (ext == \"jpg\" || ext == \"jpeg\" || ext == \"png\" || ext == \"gif\" || ext == \"svg\") {\n                                item.type = \"image\"\n                                item.icon = \"mdi mdi-file-image color-img\"\n                            }\n\n                            else if (ext == \"pdf\") {\n                                item.type = \"pdf\"\n                                item.icon = \"mdi mdi-file-pdf-box color-pdf\"\n                            }\n\n                            else if (ext == \"zip\" || ext == \"rar\") {\n                                item.type = \"compressed\"\n                                item.icon = \"mdi mdi-zip-box color-zip\"\n                            }\n\n                            else if (ext == \"txt\") {\n                                item.type = \"text\"\n                                item.icon = \"mdi mdi-file-document-box color-file\"\n                            }\n\n                            else {\n                                item.type = \"file\"\n                                item.icon = \"mdi mdi-file-outline color-file\"\n                            }\n\n                        } else {\n                            item.type = \"file\"\n                            item.icon = \"mdi mdi-file-outline color-file\"\n                        }\n                    })\n\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        // vm.list()\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.archivo = evt.currentTarget.files[0];\n            // console.log(vm.archivo)\n\n            if (vm.archivo)\n                vm.uploadFile()\n            //angular.element(document.querySelector('#fileInput')).val(\"\")\n        };\n\n        setTimeout(function() {\n            angular.element(document.querySelector('#fileInput')).on('change', handleFileSelect);\n        }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        vm.uploadFile = function() {\n            swal({\n                title: \"¿Adjuntar archivo?\",\n                text: \"Será importado el archivo a la lista de archivos adjuntos de esta consulta\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, adjuntar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                var data = {\n                    consulta: vm.consulta.id,\n                    archivo: vm.archivo\n                }\n                return Upload\n                    .upload({\n                        url: '/api/archivos_consulta/guardar_archivo/',\n                        method: 'POST',\n                        data: data\n                    })\n                    .then(function(response) {\n                        vm.archivo = null\n                        vm.list()\n                        swal(\"¡Archivo importado!\", \"El archivo fue importado exitosamente.\", \"success\")\n                    })\n                    .catch(function(error) {\n                        vm.archivo = null\n                        return _onError(error)\n                    })\n            });\n\n        }\n\n        vm.downloadFile = function(item) {\n            var elem = document.createElement('a');\n            elem.href = item.archivo;\n            elem.download = item.name\n            elem.click();\n        }\n        vm.viewFile = function(item) {\n            if (item.type == \"image\") {\n                vm.viewImg(item.archivo)\n            } else {\n                // vm.downloadFile(item)\n                window.open(item.archivo, \"_blank\")\n            }\n        }\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Archivo eliminado exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar archivo?\",\n                text: \"Se eliminará un archivo de esta consulta.\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return ArchivosConsultaService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n        // vm.details = function(item) {\n        //     return ngDialog.open({\n        //         template: 'app/pages/citas/templates/citas.dialog.details.html',\n        //         width: '80%',\n        //         controller: 'CitaDetailsDialogController',\n        //         controllerAs: 'ctrl',\n        //         closeByDocument: true,\n        //         closeByEscape: true,\n        //         resolve: {\n        //             item: function() {\n        //                 return item\n        //             },\n        //         }\n        //     })\n        // }\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .factory('ArchivosConsultaService', ArchivosConsultaService);\n\n    /** @ngInject */\n    function ArchivosConsultaService($resource) {\n        var url = '/api/archivos_consulta/';\n        return $resource(url + ':id/', {}, {\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        }, { stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .controller('ConsultaController', ConsultaController);\n\n    /** @ngInject */\n    function ConsultaController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        ConsultaService,\n        AuthService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.query = {}\n\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return ConsultaService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search,\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        vm.list()\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Consulta eliminada exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar la consulta?\",\n                text: \"Se eliminará la consulta\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return ConsultaService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n        // vm.details = function(item) {\n        //     return ngDialog.open({\n        //         template: 'app/pages/citas/templates/citas.dialog.details.html',\n        //         width: '80%',\n        //         controller: 'CitaDetailsDialogController',\n        //         controllerAs: 'ctrl',\n        //         closeByDocument: true,\n        //         closeByEscape: true,\n        //         resolve: {\n        //             item: function() {\n        //                 return item\n        //             },\n        //         }\n        //     })\n        // }\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .controller('ConsultaCreateController', ConsultaCreateController);\n\n    /** @ngInject */\n    function ConsultaCreateController(\n        $scope,\n        $rootScope,\n        UsersService,\n        PacienteService,\n        WizardHandler,\n        UtilsService,\n        CitaService,\n        AuthService,\n        $state,\n        Upload,\n        ConsultaService,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n            vm.genograma = null\n\n            vm.panelPacienteOculto = true\n            vm.panelMotivoOculto = false\n            vm.panelAntecedentesOculto = true\n            vm.panelExamenFisicoOculto = true\n            vm.panelPlanDiagnosticoOculto = true\n            vm.panelImpresionClinicaOculto = true\n            vm.panelTratamientoOculto = false\n\n            setTimeout(function() {\n                $('#motivo').focus()\n            }, 250)\n\n            //  CONSULTA\n            vm.consulta = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {\n                    historia: \"\",\n                    examen_fisico: \"\",\n                    plan_diagnostico: \"\",\n                    impresion_clinica: \"\",\n                    tratamiento: \"\"\n                }\n            }\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                genero: \"Femenino\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n\n                notas_medicas: {\n                    notas: {\n                        antecedentes: {\n                            medicos: \"\",\n                            quirurgicos: \"\",\n                            traumaticos: \"\",\n                            alergicos: \"\",\n                            vicios: \"\",\n                            pediatricos: \"\",\n                            familiares: \"\",\n                            ginecologicos: {\n                                fur: \"\",\n                                gestas: \"\",\n                                partos: \"\",\n                                abortos: \"\",\n                                pf: \"\"\n                            }\n                        }\n                    }\n                },\n                notas_psicologicas: {\n                    historia_clinica: {\n                        historia_prenatal: \"\",\n                        desarrollo_psicomotriz: \"\",\n                        desenvolvimiento_escolar: \"\",\n                        adolescencia: \"\",\n                        historia_psico_sexual: \"\",\n                        vida_social: \"\",\n                        historia_medica: \"\",\n                        trastornos_familiares: \"\",\n                        otros: \"\"\n                    },\n                    historia_familiar: \"\"\n                }\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n            getPaciente()\n        }\n\n        vm.listenUploaders = function() {\n            setTimeout(function() {\n                angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n            }, 1000)\n        }\n        vm.listenUploaders()\n        vm.showPanel = function(panel) {\n            vm.listenUploaders()\n\n            return !panel\n        }\n\n        function getPaciente() {\n            if (!$state.params.id) {\n                // return $state.go('pacientes')\n                vm.panelPacienteOculto = false\n                vm.panelMotivoOculto = true\n                setTimeout(function() {\n                    $('#persona').focus()\n                    $(document).ready(function(){\n                        $(this).scrollTop(0);\n                    });\n                }, 50)\n\n            } else {\n                vm.loading = true\n                PacienteService.get({ id: $state.params.id }, function(response) {\n                    response.nivel_academico = _.find(vm.grados, { value: response.nivel_academico })\n                    response.tipo_de_sangre = _.find(vm.tiposDeSangre, { value: response.tipo_de_sangre })\n\n                    var nacimiento = new Date(response.fecha_nacimiento)\n                    nacimiento.setMinutes(nacimiento.getMinutes() + nacimiento.getTimezoneOffset())\n                    vm.nacimiento.anios = _.find(vm.anios, { id: nacimiento.getFullYear() })\n                    vm.nacimiento.meses = _.find(vm.meses, { id: nacimiento.getMonth() })\n                    vm.nacimiento.dias = _.find(vm.dias, { id: nacimiento.getDate() })\n\n                    response.tipos = []\n\n                    response.notas_medicas = JSON.parse(response.notas_medicas)\n                    response.notas_psicologicas = JSON.parse(response.notas_psicologicas)\n\n                    vm.paciente = response\n                    vm.loading = false\n                }, function(error) {\n                    return $state.go('pacientes')\n                })\n            }\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            if (!img)\n                $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        // setTimeout(function() {\n        //     angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        // }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            var title = \"¡Campos incompletos!\"\n            var msg = \"Verifica que todos los campos obligatorios estén completados.\"\n            var error = false\n\n            if (!vm.paciente.persona.persona) {\n                title = \"Persona sin nombre\"\n                msg = \"La persona no tiene asignado un nombre. Por favor completa ese campo.\"\n                error = true\n            }\n            else if (!vm.consulta.motivo) {\n                title = \"Motivo de la consulta\"\n                msg = \"No fue asignado un motivo a la consulta. Por favor completa ese campo.\"\n                error = true\n            }\n\n            if (error) {\n                swal(title, msg, 'error')\n            }\n            return !error\n            // if (vm.form.$valid) {\n            //     return true\n\n            // } else {\n            //     //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n            //     vm.form.persona.$dirty = true;\n\n            //     return false\n            // }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _guardarConsulta(response) {\n            var consulta = _.clone(vm.consulta)\n\n            consulta.paciente = vm.paciente.id\n            consulta.colaborador = $rootScope.user.id\n            consulta.notas = JSON.stringify(consulta.notas)\n\n            ConsultaService\n                .create(consulta, function(response) {\n                    swal(\"¡Éxito!\", \"La consulta fue registrada exitosamente.\", \"success\")\n                    return $state.go('consultas')\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"La consulta no pudo ser registrada. Por favor, intenta más tarde.\", \"error\")\n                    return $state.go('pacientes')\n                })\n        }\n        function _onSave(response) {\n            vm.paciente.id = response.id\n            var data = {\n                id: vm.paciente.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    return _guardarConsulta(response)\n                })\n                .catch(function(response) {\n                    return _guardarConsulta(response)\n                })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Registrar consulta?\",\n                    text: \"Será registrada una nueva consulta para el paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, registrar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    paciente.notas_medicas = JSON.stringify(paciente.notas_medicas) || \"\"\n                    paciente.notas_psicologicas = JSON.stringify(paciente.notas_psicologicas) || \"\"\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    if (paciente.id)\n                        return PacienteService.update(paciente, _onSave, _onError)\n                    else\n                        return PacienteService.create(paciente, _onSave, _onError)\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .controller('ConsultaEditController', ConsultaEditController);\n\n    /** @ngInject */\n    function ConsultaEditController(\n        $scope,\n        $rootScope,\n        UsersService,\n        PacienteService,\n        WizardHandler,\n        UtilsService,\n        CitaService,\n        AuthService,\n        $state,\n        Upload,\n        ConsultaService,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n            vm.genograma = null\n\n            vm.panelPacienteOculto = true\n            vm.panelMotivoOculto = false\n            vm.panelAntecedentesOculto = true\n            vm.panelExamenFisicoOculto = true\n            vm.panelPlanDiagnosticoOculto = true\n            vm.panelImpresionClinicaOculto = true\n            vm.panelTratamientoOculto = false\n\n            setTimeout(function() {\n                $('#motivo').focus()\n            }, 250)\n\n            //  CONSULTA\n            vm.consulta = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {}\n            }\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                genero: \"Femenino\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n\n                notas_medicas: {},\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n            getItem()\n        }\n\n        vm.listenUploaders = function() {\n            setTimeout(function() {\n                angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n            }, 1000)\n        }\n        vm.listenUploaders()\n        vm.showPanel = function(panel) {\n            vm.listenUploaders()\n\n            return !panel\n        }\n\n        function getItem() {\n            vm.loading = true\n            if (!$state.params.id)\n                return $state.go('pacientes')\n            else {\n                ConsultaService.get({ id: $state.params.id }, function(response) {\n\n                    var paciente = response.paciente\n                    paciente.nivel_academico = _.find(vm.grados, { value: paciente.nivel_academico })\n                    paciente.tipo_de_sangre = _.find(vm.tiposDeSangre, { value: paciente.tipo_de_sangre })\n                    var nacimiento = new Date(paciente.fecha_nacimiento)\n                    nacimiento.setMinutes(nacimiento.getMinutes() + nacimiento.getTimezoneOffset())\n                    vm.nacimiento.anios = _.find(vm.anios, { id: nacimiento.getFullYear() })\n                    vm.nacimiento.meses = _.find(vm.meses, { id: nacimiento.getMonth() })\n                    vm.nacimiento.dias = _.find(vm.dias, { id: nacimiento.getDate() })\n                    paciente.tipos = []\n                    paciente.notas_medicas = JSON.parse(paciente.notas_medicas)\n                    vm.paciente = paciente\n\n                    vm.consulta.id = response.id\n                    vm.consulta.motivo = response.motivo\n                    vm.consulta.notas = JSON.parse(response.notas || \"{}\")\n\n                    vm.loading = false\n                }, function(error) {\n                    return $state.go('pacientes')\n                })\n            }\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            if (!img)\n                $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        // setTimeout(function() {\n        //     angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        // }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            var title = \"¡Campos incompletos!\"\n            var msg = \"Verifica que todos los campos obligatorios estén completados.\"\n            var error = false\n\n            if (!vm.paciente.persona.persona) {\n                title = \"Persona sin nombre\"\n                msg = \"La persona no tiene asignado un nombre. Por favor completa ese campo.\"\n                error = true\n            }\n            else if (!vm.consulta.motivo) {\n                title = \"Motivo de la consulta\"\n                msg = \"No fue asignado un motivo a la consulta. Por favor completa ese campo.\"\n                error = true\n            }\n\n            if (error) {\n                swal(title, msg, 'error')\n            }\n            return !error\n            // if (vm.form.$valid) {\n            //     return true\n\n            // } else {\n            //     //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n            //     vm.form.persona.$dirty = true;\n\n            //     return false\n            // }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _guardarConsulta(response) {\n            var consulta = _.clone(vm.consulta)\n\n            consulta.paciente = vm.paciente.id\n            consulta.colaborador = $rootScope.user.id\n            consulta.notas = JSON.stringify(consulta.notas)\n\n            ConsultaService\n                .update(consulta, function(response) {\n                    swal(\"¡Éxito!\", \"La consulta fue editada exitosamente.\", \"success\")\n                    return $state.go('consultas')\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"La consulta no pudo ser editada. Por favor, intenta más tarde.\", \"error\")\n                    return $state.go('pacientes')\n                })\n        }\n        function _onSave(response) {\n            var data = {\n                id: vm.paciente.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    return _guardarConsulta(response)\n                })\n                .catch(function(response) {\n                    return _guardarConsulta(response)\n                })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Editar consulta?\",\n                    text: \"Será editada una consulta del paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, editar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    paciente.notas_medicas = JSON.stringify(paciente.notas_medicas) || \"\"\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    return PacienteService.update(paciente, _onSave, _onError)\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .factory('ConsultaService', ConsultaService);\n\n    /** @ngInject */\n    function ConsultaService($resource) {\n        var url = '/api/consultas/';\n        return $resource(url + ':id/', {}, {\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            status: { method: 'POST', url: url + 'status/' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        }, { stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .controller('ReconsultaController', ReconsultaController);\n\n    /** @ngInject */\n    function ReconsultaController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        ConsultaService,\n        AuthService,\n        ReconsultaService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.loading_item = false\n\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.consulta = {}\n\n            vm.query = {}\n\n            getItem()\n\n        }\n\n        function getItem() {\n            if (!$state.params.id)\n                return $state.go('consultas')\n            else {\n                vm.loading_item = true\n                ConsultaService\n                    .get({ id: $state.params.id }, function(response) {\n                        vm.consulta = response\n                        vm.loading_item = false\n                        vm.list()\n\n                    }, function(error) {\n                        return $state.go('consultas')\n                    })\n            }\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return ReconsultaService\n                .list({\n                    consulta: vm.consulta.id,\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search,\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        // vm.list()\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Consulta eliminada exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar la consulta?\",\n                text: \"Se eliminará la consulta\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return ConsultaService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n        //////////////////////////////////////////////////////////////////////////////\n        //  CITA\n        //////////////////////////////////////////////////////////////////////////////\n        vm.createCita = function() {\n            if ($rootScope.user) {\n                return ngDialog.openConfirm({\n                    template: 'app/pages/citas/templates/citas.dialog.grid.pacientes.users.html',\n                    width: '80%',\n                    controller: 'CitasDialogController',\n                    controllerAs: 'ctrl',\n                    closeByDocument: false,\n                    closeByEscape: false,\n                    resolve: {\n                        colaborador: function() {\n                            return $rootScope.user\n                        },\n                        paciente: function() {\n                            return vm.consulta.paciente\n                        }\n                    }\n                })\n                .then(function(data) {})\n                .catch(function(error) {})\n            }\n        }\n        //////////////////////////////////////////////////////////////////////////////\n\n        // vm.details = function(item) {\n        //     return ngDialog.open({\n        //         template: 'app/pages/citas/templates/citas.dialog.details.html',\n        //         width: '80%',\n        //         controller: 'CitaDetailsDialogController',\n        //         controllerAs: 'ctrl',\n        //         closeByDocument: true,\n        //         closeByEscape: true,\n        //         resolve: {\n        //             item: function() {\n        //                 return item\n        //             },\n        //         }\n        //     })\n        // }\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .controller('ReconsultaCreateController', ReconsultaCreateController);\n\n    /** @ngInject */\n    function ReconsultaCreateController(\n        $scope,\n        $rootScope,\n        UsersService,\n        PacienteService,\n        WizardHandler,\n        UtilsService,\n        CitaService,\n        AuthService,\n        $state,\n        Upload,\n        ConsultaService,\n        ngDialog,\n        ReconsultaService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n            vm.genograma = null\n\n            vm.panelPacienteOculto = true\n            vm.panelMotivoOculto = false\n            vm.panelAntecedentesOculto = true\n            vm.panelExamenFisicoOculto = true\n            vm.panelPlanDiagnosticoOculto = true\n            vm.panelImpresionClinicaOculto = true\n            vm.panelTratamientoOculto = false\n\n            setTimeout(function() {\n                $('#motivo').focus()\n            }, 250)\n\n            //  CONSULTA\n            vm.consulta = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {}\n            }\n            //  RECONSULTA\n            vm.reconsulta = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {\n                    historia: \"\",\n                    examen_fisico: \"\",\n                    plan_diagnostico: \"\",\n                    impresion_clinica: \"\",\n                    tratamiento: \"\"\n                }\n            }\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                genero: \"Femenino\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n\n                notas_medicas: {},\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n            getItem()\n        }\n\n        vm.listenUploaders = function() {\n            setTimeout(function() {\n                angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n            }, 1000)\n        }\n        vm.listenUploaders()\n        vm.showPanel = function(panel) {\n            vm.listenUploaders()\n\n            return !panel\n        }\n\n        function getItem() {\n            if (!$state.params.id) {\n                return $state.go('consultas')\n            } else {\n                vm.loading = true\n                ConsultaService\n                    .get({ id: $state.params.id }, function(response) {\n                        var paciente = response.paciente\n                        paciente.nivel_academico = _.find(vm.grados, { value: paciente.nivel_academico })\n                        paciente.tipo_de_sangre = _.find(vm.tiposDeSangre, { value: paciente.tipo_de_sangre })\n\n                        var nacimiento = new Date(paciente.fecha_nacimiento)\n                        nacimiento.setMinutes(nacimiento.getMinutes() + nacimiento.getTimezoneOffset())\n                        vm.nacimiento.anios = _.find(vm.anios, { id: nacimiento.getFullYear() })\n                        vm.nacimiento.meses = _.find(vm.meses, { id: nacimiento.getMonth() })\n                        vm.nacimiento.dias = _.find(vm.dias, { id: nacimiento.getDate() })\n\n                        paciente.tipos = []\n\n                        paciente.notas_medicas = JSON.parse(paciente.notas_medicas)\n\n                        vm.consulta.id = response.id\n                        vm.consulta.motivo = response.motivo\n                        vm.consulta.notas = JSON.parse(response.notas)\n\n                        vm.reconsulta.motivo = vm.consulta.motivo\n                        vm.reconsulta.notas.historia = vm.consulta.notas.historia\n\n                        vm.paciente = paciente\n                        vm.loading = false\n                    }, function(error) {\n                        return $state.go('consultas')\n                    })\n            }\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            if (!img)\n                $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        // setTimeout(function() {\n        //     angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        // }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            var title = \"¡Campos incompletos!\"\n            var msg = \"Verifica que todos los campos obligatorios estén completados.\"\n            var error = false\n\n            if (!vm.paciente.persona.persona) {\n                title = \"Persona sin nombre\"\n                msg = \"La persona no tiene asignado un nombre. Por favor completa ese campo.\"\n                error = true\n            }\n            else if (!vm.consulta.motivo) {\n                title = \"Motivo de la consulta\"\n                msg = \"No fue asignado un motivo a la consulta. Por favor completa ese campo.\"\n                error = true\n            }\n\n            if (error) {\n                swal(title, msg, 'error')\n            }\n            return !error\n            // if (vm.form.$valid) {\n            //     return true\n\n            // } else {\n            //     //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n            //     vm.form.persona.$dirty = true;\n\n            //     return false\n            // }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _guardarReconsulta(response) {\n            var reconsulta = _.clone(vm.reconsulta)\n\n            reconsulta.consulta = vm.consulta.id\n            reconsulta.notas = JSON.stringify(reconsulta.notas)\n\n            ReconsultaService\n                .create(reconsulta, function(response) {\n                    swal(\"¡Éxito!\", \"La reconsulta fue registrada exitosamente.\", \"success\")\n                    return $state.go('reconsultas', { id: vm.consulta.id })\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"La reconsulta no pudo ser registrada. Por favor, intenta más tarde.\", \"error\")\n                    return $state.go('consultas')\n                })\n        }\n        function _onSave(response) {\n            var data = {\n                id: vm.paciente.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    return _guardarReconsulta(response)\n                })\n                .catch(function(response) {\n                    return _guardarReconsulta(response)\n                })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Registrar reconsulta?\",\n                    text: \"Será registrada una nueva reconsulta para el paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, registrar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    paciente.notas_medicas = JSON.stringify(paciente.notas_medicas) || \"\"\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    return PacienteService.update(paciente, _onSave, _onError)\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .controller('ReconsultaEditController', ReconsultaEditController);\n\n    /** @ngInject */\n    function ReconsultaEditController(\n        $scope,\n        $rootScope,\n        UsersService,\n        PacienteService,\n        WizardHandler,\n        UtilsService,\n        CitaService,\n        AuthService,\n        $state,\n        Upload,\n        ConsultaService,\n        ngDialog,\n        ReconsultaService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n            vm.genograma = null\n\n            vm.panelPacienteOculto = true\n            vm.panelMotivoOculto = false\n            vm.panelAntecedentesOculto = true\n            vm.panelExamenFisicoOculto = true\n            vm.panelPlanDiagnosticoOculto = true\n            vm.panelImpresionClinicaOculto = true\n            vm.panelTratamientoOculto = false\n\n            setTimeout(function() {\n                $('#motivo').focus()\n            }, 250)\n\n            //  CONSULTA\n            vm.consulta = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {}\n            }\n            //  RECONSULTA\n            vm.reconsulta = {\n                motivo: \"\",\n\n                //  SE DEBERÁ CONVERTIR A STRING PARA AHORRAR CAMPOS EN BD\n                //  DEBIDO A LA GRAN CANTIDAD DE INFORMACIÓN A ALMACENAR\n                notas: {}\n            }\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                genero: \"Femenino\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n\n                notas_medicas: {},\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n            getItem()\n        }\n\n        vm.listenUploaders = function() {\n            setTimeout(function() {\n                angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n            }, 1000)\n        }\n        vm.listenUploaders()\n        vm.showPanel = function(panel) {\n            vm.listenUploaders()\n\n            return !panel\n        }\n\n        function getItem() {\n            if (!$state.params.id) {\n                return $state.go('consultas')\n            } else {\n                vm.loading = true\n                ReconsultaService\n                    .get({ id: $state.params.id }, function(response) {\n                        var paciente = response.consulta.paciente\n                        paciente.nivel_academico = _.find(vm.grados, { value: paciente.nivel_academico })\n                        paciente.tipo_de_sangre = _.find(vm.tiposDeSangre, { value: paciente.tipo_de_sangre })\n\n                        var nacimiento = new Date(paciente.fecha_nacimiento)\n                        nacimiento.setMinutes(nacimiento.getMinutes() + nacimiento.getTimezoneOffset())\n                        vm.nacimiento.anios = _.find(vm.anios, { id: nacimiento.getFullYear() })\n                        vm.nacimiento.meses = _.find(vm.meses, { id: nacimiento.getMonth() })\n                        vm.nacimiento.dias = _.find(vm.dias, { id: nacimiento.getDate() })\n\n                        paciente.tipos = []\n\n                        paciente.notas_medicas = JSON.parse(paciente.notas_medicas)\n\n                        vm.consulta.id = response.consulta.id\n                        // vm.consulta.motivo = response.consulta.motivo\n                        // vm.consulta.notas = JSON.parse(response.consulta.notas)\n\n                        vm.reconsulta.id = response.id\n                        vm.reconsulta.motivo = response.motivo\n                        vm.reconsulta.notas = JSON.parse(response.notas)\n\n                        vm.paciente = paciente\n                        vm.loading = false\n                    }, function(error) {\n                        return $state.go('consultas')\n                    })\n            }\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function(img) {\n            $rootScope.actual_user_foto = img\n            if (!img)\n                $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        // setTimeout(function() {\n        //     angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        // }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            var title = \"¡Campos incompletos!\"\n            var msg = \"Verifica que todos los campos obligatorios estén completados.\"\n            var error = false\n\n            if (!vm.paciente.persona.persona) {\n                title = \"Persona sin nombre\"\n                msg = \"La persona no tiene asignado un nombre. Por favor completa ese campo.\"\n                error = true\n            }\n            else if (!vm.reconsulta.motivo) {\n                title = \"Motivo de la reconsulta\"\n                msg = \"No fue asignado un motivo a la reconsulta. Por favor completa ese campo.\"\n                error = true\n            }\n\n            if (error) {\n                swal(title, msg, 'error')\n            }\n            return !error\n            // if (vm.form.$valid) {\n            //     return true\n\n            // } else {\n            //     //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n            //     vm.form.persona.$dirty = true;\n\n            //     return false\n            // }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _guardarReconsulta(response) {\n            var reconsulta = _.clone(vm.reconsulta)\n\n            reconsulta.consulta = vm.consulta.id\n            reconsulta.notas = JSON.stringify(reconsulta.notas)\n\n            ReconsultaService\n                .update(reconsulta, function(response) {\n                    swal(\"¡Éxito!\", \"La reconsulta fue registrada exitosamente.\", \"success\")\n                    return $state.go('reconsultas', { id: vm.consulta.id })\n\n                }, function(error) {\n                    swal(\"¡Error!\", \"La reconsulta no pudo ser registrada. Por favor, intenta más tarde.\", \"error\")\n                    return $state.go('consultas')\n                })\n        }\n        function _onSave(response) {\n            var data = {\n                id: vm.paciente.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    return _guardarReconsulta(response)\n                })\n                .catch(function(response) {\n                    return _guardarReconsulta(response)\n                })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Editar reconsulta?\",\n                    text: \"Será editada una reconsulta del paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, editar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    paciente.notas_medicas = JSON.stringify(paciente.notas_medicas) || \"\"\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    return PacienteService.update(paciente, _onSave, _onError)\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.consultas')\n        .factory('ReconsultaService', ReconsultaService);\n\n    /** @ngInject */\n    function ReconsultaService($resource) {\n        var url = '/api/reconsultas/';\n        return $resource(url + ':id/', {}, {\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        }, { stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.caja')\n        .controller('CobrosPacienteCreateController', CobrosPacienteCreateController);\n\n    /** @ngInject */\n    function CobrosPacienteCreateController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        CobrosPacienteService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.cobro = {\n                paciente: item.id,\n                monto: null,\n                tipo: 10,   //  TIPO 10 ES COBRO\n                motivo: \"\"\n            }\n        }\n\n        function _validate() {\n            var title = \"Error\"\n            var msg = \"Campos incompletos. Por favor verifica.\"\n            var error = false\n\n            if (!vm.cobro.monto) {\n                title = \"Sin monto\"\n                msg = \"Por favor, escribe la cantidad del cobro\"\n                error = true\n            }\n            else if (!vm.cobro.motivo) {\n                title = \"Sin motivo\"\n                msg = \"Por favor, escribe el motivo del cobro\"\n                error = true\n            }\n\n            if (error)\n                swal(title, msg, \"error\")\n            return !error\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            swal(\"¡Error!\", msg, \"error\")\n            $scope.confirm(response)\n        }\n        function _onSave(response) {\n            swal(\"¡Éxito!\", \"El cobro fue registrado exitosamente.\", \"success\")\n            $scope.confirm(response)\n            //return $state.go('users')\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Registrar cobro?\",\n                    text: \"Será registrado un cobro al paciente\",\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, registrar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    vm.cobro.colaborador = $rootScope.user.id\n                    return CobrosPacienteService.create(vm.cobro, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.pacientes')\n        .controller('CobrosPacienteController', CobrosPacienteController);\n\n    /** @ngInject */\n    function CobrosPacienteController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ngDialog,\n        AuthService,\n        CajaService,\n        UtilsService,\n        PacienteService,\n        CobrosPacienteService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.loadingIngEng = false\n            vm.array = []\n\n            //  OBTENDRA LOS INGRESOS Y EGRESOS DE LA APERTURA CIERRE ACTUAL\n            vm.ingresos_egresos = {}\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\",\n            }\n\n            vm.paciente = {}\n\n            vm.ESTADOS_CAJA = UtilsService.getEstadosCaja()\n\n            vm.query = {\n                pendientes: 10,\n                pagados: 20,\n                anulados: 30,\n                todas: 40\n            }\n\n            vm.query.filterby = vm.query.todas\n\n            //  OBTENER EL ITEM DE CAJA\n            getItem()\n\n        }\n\n        function getItem() {\n            if (!$state.params.id)\n                return $state.go(\"caja\")\n            else {\n                vm.loading = true\n                PacienteService\n                    .get({ id: $state.params.id }, function(data) {\n                        vm.paciente = data\n                        vm.loading = false\n                        vm.list()\n                    }, function(error) { })\n            }\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n\n            var query_json = {\n                paciente: $state.params.id,\n                search: vm.pagination.search,\n                page: vm.pagination.current_page\n            }\n\n            if (vm.query.filterby == vm.query.pendientes) {\n                query_json.anulado = false\n                query_json.pagado = false\n            }\n            else if (vm.query.filterby == vm.query.pagados) {\n                query_json.anulado = false\n                query_json.pagado = true\n            }\n            else if (vm.query.filterby == vm.query.anulados) {\n                query_json.anulado = true\n                query_json.pagado = false\n            }\n            else if (vm.query.filterby == vm.query.todas) {\n                query_json.anulado = null\n                query_json.pagado = null\n            }\n\n            vm.loading = true\n            return CobrosPacienteService\n                .list(query_json, function(data) {\n                    vm.pagination.total_items = data.count\n\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        // vm.list()\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n\n        vm.registrarCobro = function() {\n            return ngDialog.openConfirm({\n                template: 'app/pages/pacientes/templates/cobros.create.html',\n                className: 'ngdialog-theme-default ngdialog-theme-custom',\n                controller: 'CobrosPacienteCreateController',\n                controllerAs: 'ctrl',\n                resolve: {\n                    item: function getItem() {\n                        return vm.paciente\n                    }\n                },\n                closeByDocument: false,\n                closeByEscape: false\n            })\n            .then(function(data) {\n                // return vm.list()\n                getItem()\n            })\n            .catch(function(error) {\n                //console.log(\"error\", error)\n            })\n        }\n\n        vm.anularCobro = function(item) {\n            return swal({\n                title: \"¿Anular cobro?\",\n                text: \"Se anulará este cobro\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, anular!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return CobrosPacienteService\n                    .delete({ id: item.id }, function(response) {\n                        //  SI SE ANULO CORRECTAMENTE, VOLVER A SOLICITAR EL LISTADO\n                        swal(\"¡Éxito!\", \"El cobro fue anulado exitosamente\", \"success\")\n                        return getItem();\n\n                    }, _onError);\n            });\n        }\n\n        vm.realizarCobro = function(item) {\n            //  SI NO TIENE CAJA ABIERTA NO SE PODRÁ REALIZAR EL COBRO\n            if (!$rootScope.user.caja_activa)\n                swal(\n                    \"Sin apertura de caja\",\n                    \"Usted no tiene una apertura de caja activa en este momento. Para realizar el cobro debe tener una caja aperturada\",\n                    \"error\"\n                )\n            else {\n\n                return ngDialog.openConfirm({\n                    template: 'app/pages/caja/templates/movimientos_caja.create.html',\n                    className: 'ngdialog-theme-default ngdialog-theme-custom',\n                    controller: 'MovimientosCajaCreateCobroPacienteController',\n                    controllerAs: 'ctrl',\n                    resolve: {\n                        item: function getItem() {\n                            return item\n                        }\n                    },\n                    closeByDocument: false,\n                    closeByEscape: false\n                })\n                .then(function(data) {\n                    // return vm.list()\n                    getItem()\n                })\n                .catch(function(error) {\n                    //console.log(\"error\", error)\n                })\n\n            }\n        }\n\n        vm.registrarAbono = function() {\n            //  SI NO TIENE CAJA ABIERTA NO SE PODRÁ REALIZAR EL COBRO\n            if (!$rootScope.user.caja_activa)\n                swal(\n                    \"Sin apertura de caja\",\n                    \"Usted no tiene una apertura de caja activa en este momento. Para realizar el cobro debe tener una caja aperturada\",\n                    \"error\"\n                )\n            else {\n\n                return ngDialog\n                    .openConfirm({\n                        template: 'app/pages/caja/templates/movimientos_caja.create.html',\n                        className: 'ngdialog-theme-default ngdialog-theme-custom',\n                        controller: 'MovimientosCajaCreateAbonoPacienteController',\n                        controllerAs: 'ctrl',\n                        resolve: {\n                            paciente: function getItem() {\n                                return vm.paciente\n                            }\n                        },\n                        closeByDocument: false,\n                        closeByEscape: false\n                    })\n                    .then(function(data) {\n                        getItem()\n                    })\n                    .catch(function(error) {\n\n                    })\n\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.pacientes')\n        .factory('CobrosPacienteService', CobrosPacienteService);\n\n    /** @ngInject */\n    function CobrosPacienteService($resource) {\n        var url = '/api/cobros_paciente/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.pacientes')\n        .controller('PacientesController', PacientesController);\n\n    /** @ngInject */\n    function PacientesController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        PacienteService,\n        ngDialog,\n        AuthService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\"\n            }\n\n\n            //  SI ES PSICOLOGO SE MUESTRA EL BOTON DE NUEVA CONSULTA, DE LO CONTRARIO NO\n            //  PORQUE UNA SECRETARIA O UN ADMIN NO PUEDE CREAR CASOS A PACIENTES PORQUE NO SON\n            //  NI MEDICOS NI PSICOLOGOS, SOLO PODRÁN VISUALIZAR EL HISTORIAL DE CONSULTAS\n            vm.esPsicologo = false\n            vm.esMedico = false\n            AuthService\n                .me()\n                .then(function(response) {\n                    var user = response\n                    var esPsicologo = AuthService.hasPermission(user, AuthService.PSICOLOGIA)\n                    if (esPsicologo)\n                        vm.esPsicologo = true\n\n                    if (AuthService.hasPermission(user, AuthService.MEDICINA))\n                        vm.esMedico = true\n\n                })\n                .catch(function(error) {})\n\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return PacienteService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n\n                    _.forEach(data.results, function(item) {\n                        if (item.fecha_nacimiento)\n                            item.edad = moment().diff(moment(item.fecha_nacimiento), 'years')\n                    })\n\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        vm.list()\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Registro eliminado exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar paciente?\",\n                text: \"Se eliminará al paciente: \" + item.persona.persona,\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return PacienteService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n        //  DIALOGO DE DETALLES DE PACIENTE\n        vm.details = function(item) {\n            return ngDialog.openConfirm({\n                template: 'app/pages/pacientes/templates/pacientes.dialog.html',\n                className: 'ngdialog-theme-default ngdialog-theme-custom',\n                controller: 'PacienteDialogController',\n                controllerAs: 'ctrl',\n                width: '90%',\n                resolve: {\n                    item: function() {\n                        return item\n                    },\n                    create: function() {\n                        return vm.create\n                    }\n                }\n                //closeByDocument: false,\n                //closeByEscape: false\n            })\n            .then(function(data) {\n                return vm.list()\n            })\n            .catch(function(error) {\n                //console.log(\"error\", error)\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////////////////\n        //  CITA\n        //////////////////////////////////////////////////////////////////////////////\n        vm.create = function(paciente) {\n            if ($rootScope.user) {\n                if (AuthService.hasPermission($rootScope.user, AuthService.ADMIN) ||\n                    AuthService.hasPermission($rootScope.user, AuthService.SECRETARIA)) {\n\n                    return ngDialog.openConfirm({\n                        template: 'app/pages/citas/templates/citas.dialog.grid.pacientes.html',\n                        width: '80%',\n                        controller: 'CitasDialogController',\n                        controllerAs: 'ctrl',\n                        closeByDocument: false,\n                        closeByEscape: false,\n                        resolve: {\n                            colaborador: function() {\n                                return null\n                            },\n                            paciente: function() {\n                                return paciente\n                            }\n                        }\n                    })\n                    .then(function(data) {\n                        // return vm.list()\n                    })\n                    .catch(function(error) {})\n                } else {\n                    return ngDialog.openConfirm({\n                        template: 'app/pages/citas/templates/citas.dialog.grid.pacientes.users.html',\n                        width: '80%',\n                        controller: 'CitasDialogController',\n                        controllerAs: 'ctrl',\n                        closeByDocument: false,\n                        closeByEscape: false,\n                        resolve: {\n                            colaborador: function() {\n                                return $rootScope.user\n                            },\n                            paciente: function() {\n                                return paciente\n                            }\n                        }\n                    })\n                    .then(function(data) {\n                        return vm.list()\n                    })\n                    .catch(function(error) {})\n                }\n            }\n\n\n        }\n        //////////////////////////////////////////////////////////////////////////////\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.pacientes')\n        .controller('PacientesCreateController', PacientesCreateController);\n\n    /** @ngInject */\n    function PacientesCreateController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        PacienteService,\n        UtilsService,\n        $http,\n        Upload,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n\n                genero: \"Femenino\",\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n                notas_medicas: {\n                    notas: {\n                        antecedentes: {\n                            medicos: \"\",\n                            quirurgicos: \"\",\n                            traumaticos: \"\",\n                            alergicos: \"\",\n                            vicios: \"\",\n                            pediatricos: \"\",\n                            familiares: \"\",\n                            ginecologicos: {\n                                fur: \"\",\n                                gestas: \"\",\n                                partos: \"\",\n                                abortos: \"\",\n                                pf: \"\"\n                            }\n                        }\n                    }\n                },\n                notas_psicologicas: {\n                    historia_clinica: {\n                        historia_prenatal: \"\",\n                        desarrollo_psicomotriz: \"\",\n                        desenvolvimiento_escolar: \"\",\n                        adolescencia: \"\",\n                        historia_psico_sexual: \"\",\n                        vida_social: \"\",\n                        historia_medica: \"\",\n                        trastornos_familiares: \"\",\n                        otros: \"\"\n                    },\n                    historia_familiar: \"\"\n                }\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function() {\n            $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n                //controller: 'ProfesionCreateController',\n                //controllerAs: 'ctrl'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        setTimeout(function() {\n            angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            if (vm.form.$valid) {\n                return true\n\n            } else {\n                //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n                vm.form.persona.$dirty = true;\n\n                return false\n            }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            var data = {\n                id: response.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    swal(\"¡Éxito!\", \"El paciente fue agregado exitosamente.\", \"success\")\n                    return $state.go('pacientes')\n                })\n                .catch(function(response) {\n                    swal(\"¡Éxito!\", \"El paciente fue agregado exitosamente.\", \"success\")\n                    return $state.go('pacientes')\n                })\n\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Agregar paciente?\",\n                    text: \"Será agregado el paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, agregar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    paciente.notas_psicologicas = JSON.stringify(paciente.notas_psicologicas)\n                    paciente.notas_medicas = JSON.stringify(paciente.notas_medicas)\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    // console.log(paciente)\n\n                    return PacienteService.create(paciente, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.pacientes')\n        .controller('PacienteDialogController', PacienteDialogController);\n\n    /** @ngInject */\n    function PacienteDialogController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        PacienteService,\n        UtilsService,\n        $http,\n        Upload,\n        ngDialog,\n        item,\n        create\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.paciente = item\n        }\n\n        vm.create = function() {\n            $scope.closeThisDialog()\n            return create(vm.paciente)\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.pacientes')\n        .controller('PacientesEditController', PacientesEditController);\n\n    /** @ngInject */\n    function PacientesEditController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        PacienteService,\n        UtilsService,\n        $http,\n        Upload,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n            vm.religiones = UtilsService.getReligiones()\n\n            vm.foto = null\n\n            //  PACIENTE GENERICO DE LA VISTA\n            vm.paciente = {\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                genero: \"Femenino\",\n\n                tipos: [],\n                contacto_referencia: \"\",\n                telefono_referencia: \"\",\n                religion: \"\",\n                tipo_de_sangre: \"\",\n                num_hermanos: 0,\n                nivel_academico: \"\",\n                ocupacion: \"\",\n                lugar_nacimiento: \"\",\n                fecha_nacimiento: \"\",\n                nombres_padres: \"\",\n                ocupacion_padres: \"\",\n                info_padres: \"\",\n\n                notas_medicas: \"\",\n                notas_psicologicas: \"\"\n            }\n\n            //  GRADOS ACADEMICOS\n            vm.grados = UtilsService.getGrados()\n            vm.paciente.nivel_academico = vm.grados[3]\n\n            //  TIPOS DE SANGRE\n            vm.tiposDeSangre = UtilsService.getBloodTypes()\n            vm.paciente.tipo_de_sangre = vm.tiposDeSangre[0]\n\n            //  SELECTS DE FECHA DE NACIMIENTO\n            vm.anios = UtilsService.getYears()\n            vm.meses = UtilsService.getMonths()\n            vm.dias = UtilsService.getDays()\n            vm.nacimiento = {\n                dias: vm.dias[0],\n                meses: vm.meses[0],\n                anios: vm.anios[0]\n            }\n\n            getPaciente()\n        }\n\n        function getPaciente() {\n            vm.loading = true\n            if (!$state.params.id)\n                return $state.go('pacientes')\n            else {\n                PacienteService.get({ id: $state.params.id }, function(response) {\n                    response.nivel_academico = _.find(vm.grados, { value: response.nivel_academico })\n                    response.tipo_de_sangre = _.find(vm.tiposDeSangre, { value: response.tipo_de_sangre })\n\n                    var nacimiento = new Date(response.fecha_nacimiento)\n                    nacimiento.setMinutes(nacimiento.getMinutes() + nacimiento.getTimezoneOffset())\n                    vm.nacimiento.anios = _.find(vm.anios, { id: nacimiento.getFullYear() })\n                    vm.nacimiento.meses = _.find(vm.meses, { id: nacimiento.getMonth() })\n                    vm.nacimiento.dias = _.find(vm.dias, { id: nacimiento.getDate() })\n\n                    response.tipos = []\n\n                    response.notas_medicas = JSON.parse(response.notas_medicas)\n                    response.notas_psicologicas = JSON.parse(response.notas_psicologicas)\n\n                    vm.paciente = response\n                    vm.loading = false\n                }, function(error) {\n                    return $state.go('pacientes')\n                })\n            }\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getReligiones = function(val) {\n            var results = _.filter(vm.religiones, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.viewImg = function() {\n            $rootScope.actual_user_foto = vm.paciente.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n                //controller: 'ProfesionCreateController',\n                //controllerAs: 'ctrl'\n            })\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            vm.foto = evt.currentTarget.files[0];\n            vm.paciente.persona.foto = evt.currentTarget.files[0];\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        setTimeout(function() {\n            angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            if (vm.form.$valid) {\n                return true\n\n            } else {\n                //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n                vm.form.persona.$dirty = true;\n\n                return false\n            }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            var data = {\n                id: vm.paciente.id,\n                foto: vm.foto\n            }\n            return Upload\n                .upload({\n                    url: '/api/pacientes/guardar_foto/',\n                    method: 'POST',\n                    data: data\n                })\n                .then(function(response) {\n                    swal(\"¡Éxito!\", \"El paciente fue editado exitosamente.\", \"success\")\n                    return $state.go('pacientes')\n                })\n                .catch(function(response) {\n                    swal(\"¡Éxito!\", \"El paciente fue editado exitosamente.\", \"success\")\n                    return $state.go('pacientes')\n                })\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Editar paciente?\",\n                    text: \"Será editado el paciente: \" + vm.paciente.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, editar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var paciente = _.clone(vm.paciente)\n\n                    var fecha_nacimiento = new Date(\n                        vm.nacimiento.anios.id,\n                        vm.nacimiento.meses.id,\n                        vm.nacimiento.dias.id\n                    )\n                    paciente.fecha_nacimiento = (fecha_nacimiento.getFullYear()).toString() + \"-\" +\n                        (fecha_nacimiento.getMonth() + 1).toString() + \"-\" +\n                        (fecha_nacimiento.getDate()).toString()\n\n                    if (paciente.persona.departamento)\n                        paciente.persona.departamento = paciente.persona.departamento.name || paciente.persona.departamento\n                    else\n                        paciente.persona.departamento = \"\"\n\n                    paciente.tipo_de_sangre = paciente.tipo_de_sangre.value\n                    paciente.num_hermanos = paciente.num_hermanos || 0\n                    paciente.nivel_academico = paciente.nivel_academico.value\n\n                    //  BORRANDO FOTO, NO VA EN EL RESPONSE\n                    delete paciente.persona.foto\n\n                    paciente.notas_medicas = JSON.stringify(paciente.notas_medicas)\n                    paciente.notas_psicologicas = JSON.stringify(paciente.notas_psicologicas)\n\n                    return PacienteService.update(paciente, _onSave, _onError)\n\n                    /*\n                    return Upload\n                        .upload({\n                            url: '/api/pacientes/',\n                            method: 'POST',\n                            data: paciente\n                        })\n                        .then(_onSave)\n                        .catch(_onError)\n                    */\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.pacientes')\n        .factory('PacienteService', PacienteService);\n\n    /** @ngInject */\n    function PacienteService($resource) {\n        var url = '/api/pacientes/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.profesiones')\n        .controller('ProfesionController', ProfesionController);\n\n    /** @ngInject */\n    function ProfesionController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        ProfesionService,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\"\n            }\n\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return ProfesionService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    //console.log(error)\n                })\n        }\n        vm.list()\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Registro eliminado exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar profesión?\",\n                text: \"Se eliminará la profesión: \" + item.profesion,\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return ProfesionService.delete({ id: item.id }, _onDelete, _onError);\n            });\n        }\n\n\n        //////////////////////////////////////////////////////////////////////////////\n        //  CREATE AND UPDATE\n        //////////////////////////////////////////////////////////////////////////////\n        vm.create = function() {\n            return ngDialog.openConfirm({\n                template: 'app/pages/profesiones/templates/profesiones.dialog.html',\n                className: 'ngdialog-theme-default ngdialog-theme-custom',\n                controller: 'ProfesionCreateController',\n                controllerAs: 'ctrl'\n                //closeByDocument: false,\n                //closeByEscape: false\n            })\n            .then(function(data) {\n                return vm.list()\n            })\n            .catch(function(error) {\n                //console.log(\"error\", error)\n            })\n        }\n        vm.update = function(item) {\n            return ngDialog.openConfirm({\n                template: 'app/pages/profesiones/templates/profesiones.dialog.html',\n                className: 'ngdialog-theme-default ngdialog-theme-custom',\n                controller: 'ProfesionEditController',\n                controllerAs: 'ctrl',\n                resolve: {\n                    item: function getItem() {\n                        return item\n                    }\n                }\n                //closeByDocument: false,\n                //closeByEscape: false\n            })\n            .then(function(data) {\n                return vm.list()\n            })\n            .catch(function(error) {\n                //console.log(\"error\", error)\n            })\n        }\n        //////////////////////////////////////////////////////////////////////////////\n\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.profesiones')\n        .controller('ProfesionCreateController', ProfesionCreateController);\n\n    /** @ngInject */\n    function ProfesionCreateController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        ProfesionService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.profesion = {\n                profesion: \"\"\n            }\n        }\n\n        function _validate() {\n            if (vm.form.$valid) {\n                return true\n\n            } else {\n                //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n                vm.form.profesion.$dirty = true;\n                return false\n            }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            swal(\"¡Éxito!\", \"La profesión fue agregada exitosamente.\", \"success\")\n            $scope.confirm(response)\n            //return $state.go('users')\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Agregar profesión?\",\n                    text: \"Será agregada la profesión: \" + vm.profesion.profesion,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, agregar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    return ProfesionService.create(vm.profesion, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.profesiones')\n        .controller('ProfesionEditController', ProfesionEditController);\n\n    /** @ngInject */\n    function ProfesionEditController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        ProfesionService,\n        item\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.profesion = {\n                id: item.id,\n                profesion: item.profesion\n            }\n        }\n\n        function _validate() {\n            if (vm.form.$valid) {\n                return true\n\n            } else {\n                //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n                vm.form.profesion.$dirty = true;\n                return false\n            }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            swal(\"¡Éxito!\", \"La profesión fue editada exitosamente.\", \"success\")\n            $scope.confirm(response)\n            //return $state.go('users')\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Editar profesión?\",\n                    text: \"Será editada la profesión: \" + vm.profesion.profesion,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, editar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    return ProfesionService.update(vm.profesion, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.profesiones')\n        .factory('ProfesionService', ProfesionService);\n\n    /** @ngInject */\n    function ProfesionService($resource) {\n        var url = '/api/profesiones/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params: { id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params: { id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.users')\n        .controller('UserController', UserController);\n\n    /** @ngInject */\n    function UserController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        NotificationsService,\n        UsersService\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n            vm.array = []\n\n            vm.pagination = {\n                max_size: 10,\n                total_items: 0,\n                current_page: 1,\n                search: \"\"\n            }\n\n        }\n\n        vm.page_changed = function() {\n            return vm.list()\n        }\n\n        vm.search = function() {\n            vm.pagination.current_page = 1\n            vm.list()\n        }\n\n        vm.list = function() {\n            vm.loading = true\n            return UsersService\n                .list({\n                    page: vm.pagination.current_page,\n                    search: vm.pagination.search\n                }, function(data) {\n                    vm.pagination.total_items = data.count\n                    vm.array = data.results\n                    vm.loading = false\n                }, function(error) {\n                    vm.loading = false\n                    //console.log(error)\n                })\n        }\n        vm.list()\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            vm.loading = false\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onDelete(response) {\n            swal(\"¡Éxito al eliminar!\", \"Registro eliminado exitosamente\", \"success\")\n            return vm.list()\n        }\n        vm.delete = function (item) {\n            swal({\n                title: \"¿Eliminar colaborador?\",\n                text: \"Se eliminará al colaborador: \" + item.persona.persona,\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#e74c3c\",\n                confirmButtonText: \"¡Sí, eliminar!\",\n                cancelButtonText: \"No, aún no\",\n                closeOnConfirm: false,\n                showLoaderOnConfirm: true\n            }, function() {\n                /////////////////////////////////////////////////\n                //  FIX DE TECLA TABULADOR\n                /////////////////////////////////////////////////\n                window.onkeydown = null\n                window.onfocus = null\n                /////////////////////////////////////////////////\n\n                return UsersService.delete({ id: item.id }, _onDelete, _onError);\n\n            });\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.users')\n        .controller('UserCreateController', UserCreateController);\n\n    /** @ngInject */\n    function UserCreateController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        UsersService,\n        UtilsService,\n        $http,\n        Upload,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n\n            vm.departamentos = UtilsService.getDepartamentos()\n\n            //  PERFIL GENERICO DE LA VISTA\n            vm.perfil = {\n                user: {\n                    username: \"\"\n                },\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"Guatemalteco\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                profesion: \"\",\n                colegiado: \"\",\n                roles: [],\n\n                password: \"\",\n                password_confirm: \"\"\n            }\n\n            //  BANDERA VALIDADORA DEL PASSWORD\n            vm.password_confirm = false\n\n            //  ROLES\n            vm.roles = UtilsService.getRoles()\n\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getProfesiones = function(item) {\n            var json = {\n                params: {\n                    search: item\n                }\n            }\n\n            return $http\n                .get('/api/profesiones/', json)\n                .then(function(response) {\n                    return response.data\n                })\n                .then(function(data) {\n                    return data.results\n                })\n                .catch(function(error) {})\n        }\n\n        vm.viewImg = function() {\n            $rootScope.actual_user_foto = vm.perfil.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n                //controller: 'ProfesionCreateController',\n                //controllerAs: 'ctrl'\n            })\n        }\n\n        vm.validate_password = function() {\n            if (vm.perfil.password == vm.perfil.password_confirm)\n                vm.password_confirm = true\n            else\n                vm.password_confirm = false\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            var file = evt.currentTarget.files[0];\n            vm.perfil.persona.foto = file;\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        setTimeout(function() {\n            angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            if (vm.form.$valid && vm.password_confirm) {\n                return true\n\n            } else {\n                //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n                vm.form.persona.$dirty = true;\n                vm.form.email.$dirty = true;\n                vm.form.roles.$dirty = true;\n                vm.form.password.$dirty = true;\n                vm.form.password_confirm.$dirty = true;\n\n                /*\n                swal(\n                    \"¡!\",\n                    \"Por favor verifica que todos los campos estén completados correctamente\",\n                    \"error\"\n                )\n                */\n\n                return false\n            }\n        }\n\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.detail) {\n                msg = error.data.detail.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            swal(\"¡Éxito!\", \"El colaborador fue agregado exitosamente.\", \"success\")\n            return $state.go('users')\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Agregar colaborador?\",\n                    text: \"Será agregado el colaborador: \" + vm.perfil.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, agregar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var roles = []\n                    vm.perfil.roles.forEach(function(rol) {\n                        roles.push(rol.value)\n                    })\n\n                    var perfil = {\n                        //  INFORMACIÓN DEL USUARIO\n                        username: vm.perfil.persona.correo,\n                        password: vm.perfil.password_confirm,\n\n                        //  INFORMACIÓN PERSONA\n                        persona: vm.perfil.persona.persona || \"\",\n                        apellido_casada: vm.perfil.persona.apellido_casada || \"\",\n                        telefono: vm.perfil.persona.telefono || \"\",\n                        celular: vm.perfil.persona.celular || \"\",\n                        nacionalidad: vm.perfil.persona.nacionalidad || \"\",\n                        //departamento: vm.departamento.name || vm.departamento,\n                        direccion: vm.perfil.persona.direccion || \"\",\n                        foto: vm.perfil.persona.foto,\n\n                        //  INFORMACIÓN DEL PERFIL\n                        roles: JSON.stringify(roles),\n                        profesion: vm.perfil.profesion.id,\n                        colegiado: vm.perfil.colegiado || \"\"\n                    }\n\n                    if (vm.departamento) {\n                        perfil.departamento = vm.departamento.name || vm.departamento\n                    }\n\n                    return Upload\n                        .upload({\n                            url: '/api/perfiles/',\n                            method: 'POST',\n                            data: perfil\n                        })\n                        .then(_onSave)\n                        .catch(_onError)\n\n                    //return UsersService.create(perfil, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.users')\n        .controller('UserEditController', UserEditController);\n\n    /** @ngInject */\n    function UserEditController(\n        $scope,\n        $rootScope,\n        $window,\n        $state,\n        AuthService,\n        NotificationsService,\n        UsersService,\n        UtilsService,\n        $http,\n        Upload,\n        ngDialog\n    ) {\n        var vm = this;\n\n        activate();\n        function activate() {\n            vm.loading = false\n\n            vm.departamentos = UtilsService.getDepartamentos()\n\n            //  ROLES\n            vm.roles = UtilsService.getRoles()\n\n            //  PERFIL GENERICO DE LA VISTA\n            vm.perfil = {\n                user: {\n                    username: \"\"\n                },\n                persona: {\n                    persona: \"\",\n                    apellido_casada: \"\",\n                    cui: \"\",\n                    telefono: \"\",\n                    celular: \"\",\n                    nacionalidad: \"\",\n                    departamento: \"\",\n                    direccion: \"\",\n                    correo: \"\",\n                    foto: \"\"\n                },\n                profesion: \"\",\n                colegiado: \"\",\n                roles: []\n            }\n\n            _get()\n        }\n\n        function _get() {\n            vm.loading = true\n            if (!$state.params.id)\n                if ($state.current.name == \"users_profile\") {\n                    $rootScope.user = null\n                    return $state.go('citas')\n                } else\n                    return $state.go('users')\n            else {\n                return UsersService\n                    .get({ id: $state.params.id }, function(response) {\n                        var perfil = response\n\n                        if (perfil.persona.persona) {\n                            vm.departamento = _.find(vm.departamentos, { name: perfil.persona.departamento })\n\n                            if (!vm.departamento)\n                                vm.departamento = perfil.persona.departamento\n                        }\n\n                        //  BUSCAR CUALES SON LOS ROLES QUE TIENE EL USUARIO\n                        var roles = []\n                        perfil.roles.forEach(function(item) {\n                            roles.push(_.find(vm.roles, { value: item }))\n                        })\n                        perfil.roles = roles\n\n                        vm.perfil = perfil\n                        vm.perfil.colegiado = parseInt(perfil.colegiado)\n                        vm.loading = false\n\n                    }, function(error) {\n                        vm.loading = false\n                        if ($state.current.name == \"users_profile\") {\n                            $rootScope.user = null\n                            return $state.go('citas')\n                        } else\n                            return $state.go('users')\n                    })\n            }\n        }\n\n        vm.onChange = function(files){\n            if(files[0] == undefined) return;\n\n            $scope.fileExt = files[0].name.split(\".\").pop();\n\n            if($scope.fileExt.match(/^(jpg|jpeg|gif|png)$/))\n            {\n                $scope.isImage = true;\n            }\n            else\n            {\n                $scope.isImage = false;\n            }\n\n        }\n\n        vm.viewImg = function() {\n            $rootScope.actual_user_foto = vm.perfil.persona.foto\n            return ngDialog.open({\n                template: 'app/pages/users/templates/img.dialog.html',\n                width: '90%'\n                //controller: 'ProfesionCreateController',\n                //controllerAs: 'ctrl'\n            })\n        }\n\n        function cleanString(string) {\n            var str = string.toString()\n            return str.normalize('NFD').replace(/[\\u0300-\\u036f]/g, \"\")\n        }\n\n        vm.getDepartamentos = function(val) {\n            var results = _.filter(vm.departamentos, function(item) {\n                var field = cleanString(val).toLowerCase()\n                var name = cleanString(item.name).toLowerCase()\n                return name.indexOf(field) !== -1\n            })\n            return results\n        }\n\n        vm.getProfesiones = function(item) {\n            var json = {\n                params: {\n                    search: item\n                }\n            }\n\n            return $http\n                .get('/api/profesiones/', json)\n                .then(function(response) {\n                    return response.data\n                })\n                .then(function(data) {\n                    return data.results\n                })\n                .catch(function(error) {})\n        }\n\n        vm.validate_password = function() {\n            if (vm.perfil.password == vm.perfil.password_confirm)\n                vm.password_confirm = true\n            else\n                vm.password_confirm = false\n        }\n\n        //////////////////////////////////////////////////////////////////\n        //  FILE HANDLER\n        //////////////////////////////////////////////////////////////////\n        var handleFileSelect = function(evt) {\n            var file = evt.currentTarget.files[0];\n            vm.perfil.persona.foto = file;\n            $scope.$apply()\n            //angular.element(document.querySelector('#imageInput')).val(\"\")\n        };\n\n        setTimeout(function() {\n            angular.element(document.querySelector('#imageInput')).on('change', handleFileSelect);\n        }, 1000)\n        //////////////////////////////////////////////////////////////////\n\n        function _validate() {\n            if (vm.form.$valid) {\n                return true\n\n            } else {\n                //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n                vm.form.persona.$dirty = true;\n                vm.form.email.$dirty = true;\n                vm.form.roles.$dirty = true;\n\n                return false\n            }\n        }\n        function _onError(error) {\n            var msg = \"Ocurrió un error al realizar la petición. Por favor intenta más tarde.\"\n            if (error.data.details) {\n                msg = error.data.details.toString()\n            }\n\n            return swal(\"¡Error!\", msg, \"error\")\n        }\n        function _onSave(response) {\n            swal(\"¡Éxito!\", vm.msg, \"success\")\n            if ($state.current.name == \"users_profile\") {\n                $rootScope.user = null\n                return $state.go('citas')\n            } else\n                return $state.go('users')\n        }\n        vm.save = function() {\n            if (_validate()) {\n                swal({\n                    title: \"¿Editar información?\",\n                    text: \"Será editada la información del colaborador\",\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, editar!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var roles = []\n                    vm.perfil.roles.forEach(function(rol) {\n                        roles.push(rol.value)\n                    })\n\n                    var profesion = vm.perfil.profesion\n                    if (!profesion)\n                        profesion = \"\"\n                    else\n                        profesion = profesion.id\n\n                    var perfil = {\n                        id: vm.perfil.id,\n\n                        //  INFORMACIÓN DEL USUARIO\n                        username: vm.perfil.persona.correo,\n                        //password: vm.perfil.password_confirm,\n\n                        //  INFORMACIÓN PERSONA\n                        persona: vm.perfil.persona.persona || \"\",\n                        apellido_casada: vm.perfil.persona.apellido_casada || \"\",\n                        telefono: vm.perfil.persona.telefono || \"\",\n                        celular: vm.perfil.persona.celular || \"\",\n                        nacionalidad: vm.perfil.persona.nacionalidad || \"\",\n                        //departamento: vm.departamento.name || vm.departamento,\n                        direccion: vm.perfil.persona.direccion || \"\",\n                        foto: vm.perfil.persona.foto,\n\n                        //  INFORMACIÓN DEL PERFIL\n                        roles: JSON.stringify(roles),\n                        profesion: profesion,\n                        colegiado: vm.perfil.colegiado || \"\"\n                    }\n\n                    if (vm.departamento) {\n                        perfil.departamento = vm.departamento.name || vm.departamento\n                    }\n\n                    vm.msg = \"Información del colaborador editada exitosamente\"\n\n                    return Upload\n                        .upload({\n                            url: '/api/perfiles/' + perfil.id + \"/\",\n                            method: 'PUT',\n                            data: perfil\n                        })\n                        .then(_onSave)\n                        .catch(_onError)\n\n                    //return UsersService.update({ id: vm.perfil.id }, fd, _onSave, _onError)\n\n                })\n            }\n        }\n\n        //  FORM PASSWORD\n        function _validate_password() {\n            if (vm.form_password.$valid && vm.password_confirm) {\n                return true\n\n            } else {\n                //  SI EL FORM NO ESTÁ VALIDADO RETORNA LOS CAMPOS SUCIOS\n                vm.form_password.password.$dirty = true;\n                vm.form_password.password_confirm.$dirty = true;\n\n                return false\n            }\n        }\n\n        vm.restore_password = function() {\n            if (_validate_password()) {\n                swal({\n                    title: \"¿Restablecer contraseña?\",\n                    text: \"Se restablecerá la contraseña del colaborador: \" + vm.perfil.persona.persona,\n                    type: \"warning\",\n                    showCancelButton: true,\n                    confirmButtonColor: \"#e74c3c\",\n                    confirmButtonText: \"¡Sí, restablecer!\",\n                    cancelButtonText: \"No, aún no\",\n                    closeOnConfirm: false,\n                    showLoaderOnConfirm: true\n                }, function() {\n                    /////////////////////////////////////////////////\n                    //  FIX DE TECLA TABULADOR\n                    /////////////////////////////////////////////////\n                    window.onkeydown = null\n                    window.onfocus = null\n                    /////////////////////////////////////////////////\n\n                    var json = {\n                        id: vm.perfil.id,\n                        password: vm.perfil.password_confirm\n                    }\n\n                    vm.msg = \"Contraseña restablecida exitosamente\"\n                    return UsersService.restore(json, _onSave, _onError)\n\n                })\n            }\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.pages.users')\n        .factory('UsersService', UsersService);\n\n    /** @ngInject */\n    function UsersService($resource) {\n        var url = '/api/perfiles/';\n        return $resource(url + ':id/', {}, {\n            //list: { method: 'GET' },\n            list: { method: 'GET', params: { query: '@query'} },\n            get: { method: 'GET', params:{ id: '@id' } },\n            create: { method: 'POST' },\n            update: { method: 'PUT', params: { id: '@id' } },\n            restore: { url: url + 'restore/', method: 'PUT', params: { id: '@id' } },\n            delete: { method: 'DELETE', params:{ id: '@id' } },\n        },{ stripTrailingSlashes: false });\n    }\n\n}());\n\n/*\n(function() {\n    'use strict';\n    angular\n        .module('BlurAdmin.pages.users')\n        .factory('UsersServiceHttp', UsersServiceHttp);\n\n    //UsersServiceHttp.$inject = ['$http'];\n    function UsersServiceHttp ($http) {\n        var url_api_vale = '/api/perfiles/'\n        //  RECIBE UN PARÁMETRO DE TIPO FILE IMG PARA MANDARLA EN EL POST A BACKEND\n        var post_img = function(img, idvale) {\n            var fd = new FormData();\n            fd.append('idvale', idvale);\n            fd.append('img', img);\n            return $http.post('/api/img/vale', fd, {\n                transformRequest: angular.identity,\n                headers: { 'Content-Type': undefined }\n            }).then(function(response) { return response; });\n        };\n\n        return {\n            post_img: post_img,\n            //borrarImg: borrarImg\n        };\n    };\n})();\n*/\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Includes basic panel layout inside of current element.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel(baPanel, baConfig) {\n    return angular.extend({}, baPanel, {\n      template: function(el, attrs) {\n        var res = '<div  class=\"panel ' + (baConfig.theme.blur ? 'panel-blur' : '') + ' full-invisible ' + (attrs.baPanelClass || '');\n        res += '\" zoom-in ' + (baConfig.theme.blur ? 'ba-panel-blur' : '') + '>';\n        res += baPanel.template(el, attrs);\n        res += '</div>';\n        return res;\n      }\n    });\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .factory('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel() {\n\n    /** Base baPanel directive */\n    return {\n      restrict: 'A',\n      transclude: true,\n      template: function(elem, attrs) {\n        var res = '<div class=\"panel-body\" ng-transclude></div>';\n        if (attrs.baPanelTitle) {\n          var titleTpl = '<div class=\"panel-heading clearfix\"><h3 class=\"panel-title\">' + attrs.baPanelTitle + '</h3></div>';\n          res = titleTpl + res; // title should be before\n        }\n\n        return res;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelBlur', baPanelBlur);\n\n  /** @ngInject */\n  function baPanelBlur(baPanelBlurHelper, $window, $rootScope) {\n    var bodyBgSize;\n\n    baPanelBlurHelper.bodyBgLoad().then(function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    $window.addEventListener('resize', function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    return {\n      restrict: 'A',\n      link: function($scope, elem) {\n        if(!$rootScope.$isMobile) {\n          baPanelBlurHelper.bodyBgLoad().then(function () {\n            setTimeout(recalculatePanelStyle);\n          });\n          $window.addEventListener('resize', recalculatePanelStyle);\n\n          $scope.$on('$destroy', function () {\n            $window.removeEventListener('resize', recalculatePanelStyle);\n          });\n        }\n\n        function recalculatePanelStyle() {\n          if (!bodyBgSize) {\n            return;\n          }\n          elem.css({\n            backgroundSize: Math.round(bodyBgSize.width) + 'px ' + Math.round(bodyBgSize.height) + 'px',\n            backgroundPosition: Math.floor(bodyBgSize.positionX) + 'px ' + Math.floor(bodyBgSize.positionY) + 'px'\n          });\n        }\n\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baPanelBlurHelper', baPanelBlurHelper);\n\n  /** @ngInject */\n  function baPanelBlurHelper($q) {\n    var res = $q.defer();\n    var computedStyle = getComputedStyle(document.body, ':before');\n    var image = new Image();\n    image.src = computedStyle.backgroundImage.replace(/url\\((['\"])?(.*?)\\1\\)/gi, '$2');\n    image.onerror = function() {\n      res.reject();\n    };\n    image.onload = function() {\n      res.resolve();\n    };\n\n    this.bodyBgLoad = function() {\n      return res.promise;\n    };\n\n    this.getBodyBgImageSizes = function() {\n      var elemW = document.documentElement.clientWidth;\n      var elemH = document.documentElement.clientHeight;\n      if(elemW <= 640) return;\n      var imgRatio = (image.height / image.width);       // original img ratio\n      var containerRatio = (elemH / elemW);     // container ratio\n\n      var finalHeight, finalWidth;\n      if (containerRatio > imgRatio) {\n        finalHeight = elemH;\n        finalWidth = (elemH / imgRatio);\n      } else {\n        finalWidth = elemW;\n        finalHeight = (elemW * imgRatio);\n      }\n      return { width: finalWidth, height: finalHeight, positionX: (elemW - finalWidth)/2, positionY: (elemH - finalHeight)/2};\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Represents current element as panel, adding all necessary classes.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelSelf', baPanelSelf);\n\n  /** @ngInject */\n  function baPanelSelf(baPanel) {\n    return angular.extend({}, baPanel, {\n      link: function(scope, el, attrs) {\n        el.addClass('panel panel-white');\n        if (attrs.baPanelClass) {\n          el.addClass(attrs.baPanelClass);\n        }\n      }\n    });\n  }\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('BaSidebarCtrl', BaSidebarCtrl);\n\n  /** @ngInject */\n  function BaSidebarCtrl($scope, $rootScope, baSidebarService, AuthService) {\n\n    activate()\n\n    function activate() {\n        if (!$rootScope.user)\n            getMe()\n    }\n\n    function getMe() {\n        AuthService\n            .me()\n            .then(function(response) {\n                //  INFORMACIÓN DE LA PERSONA\n                $rootScope.user = response\n\n                if (response.persona) {\n                    $rootScope.user.persona.name = response.persona.persona.split(\" \")[0]\n\n                    if (response.persona.persona.split(\" \")[1])\n                        $rootScope.user.persona.name += \" \" + response.persona.persona.split(\" \")[1]\n                }\n\n                //  LINK DE LA FOTO DEL USUARIO\n                $rootScope.user_img = null\n                if (response.persona)\n                    $rootScope.user_img = response.persona.foto\n\n\n                // $scope.menuItems = baSidebarService.getMenuItems();\n                // $scope.defaultSidebarState = $scope.menuItems[0].stateRef;\n\n                var Items = baSidebarService.getMenuItems();\n                var menuItems = []\n\n                _.forEach(Items, function(item) {\n                    var founded = false\n                    _.forEach($rootScope.user.roles, function(rol) {\n                        if (_.indexOf(item.permissions, rol) !== -1) {\n                            founded = true\n                            return false\n                        }\n                    })\n\n                    if (founded)\n                        menuItems.push(item)\n                })\n\n                if (menuItems.length) {\n                    $rootScope.menuItems = menuItems\n                    $rootScope.defaultSidebarState = menuItems[0].stateRef;\n                } else {\n                    //  DESLOGUEAR AL USUARIO SI NO TIENE ACCESO A NINGUNA VISTA\n                }\n\n                $rootScope.hoverItem = function ($event) {\n                    $rootScope.showHoverElem = true;\n                    $rootScope.hoverElemHeight =  $event.currentTarget.clientHeight;\n                    var menuTopValue = 66;\n                    $rootScope.hoverElemTop = $event.currentTarget.getBoundingClientRect().top - menuTopValue;\n                };\n\n\n            })\n            .catch(function(error) {\n\n            })\n    }\n\n\n\n    $scope.$on('$stateChangeSuccess', function () {\n      if (baSidebarService.canSidebarBeHidden()) {\n        baSidebarService.setMenuCollapsed(true);\n      }\n    });\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebar', baSidebar);\n\n  /** @ngInject */\n  function baSidebar($timeout, baSidebarService, baUtil, layoutSizes) {\n    var jqWindow = $(window);\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/baSidebar/ba-sidebar.html',\n      controller: 'BaSidebarCtrl',\n      link: function(scope, el) {\n\n        scope.menuHeight = el[0].childNodes[0].clientHeight - 84;\n        jqWindow.on('click', _onWindowClick);\n        jqWindow.on('resize', _onWindowResize);\n\n        scope.$on('$destroy', function() {\n          jqWindow.off('click', _onWindowClick);\n          jqWindow.off('resize', _onWindowResize);\n        });\n\n        function _onWindowClick($evt) {\n          if (!baUtil.isDescendant(el[0], $evt.target) &&\n              !$evt.originalEvent.$sidebarEventProcessed &&\n              !baSidebarService.isMenuCollapsed() &&\n              baSidebarService.canSidebarBeHidden()) {\n            $evt.originalEvent.$sidebarEventProcessed = true;\n            $timeout(function () {\n              baSidebarService.setMenuCollapsed(true);\n            }, 10);\n          }\n        }\n\n        // watch window resize to change menu collapsed state if needed\n        function _onWindowResize() {\n          var newMenuCollapsed = baSidebarService.shouldMenuBeCollapsed();\n          var newMenuHeight = _calculateMenuHeight();\n          if (newMenuCollapsed != baSidebarService.isMenuCollapsed() || scope.menuHeight != newMenuHeight) {\n            scope.$apply(function () {\n              scope.menuHeight = newMenuHeight;\n              baSidebarService.setMenuCollapsed(newMenuCollapsed)\n            });\n          }\n        }\n\n        function _calculateMenuHeight() {\n          return el[0].childNodes[0].clientHeight - 84;\n        }\n      }\n    };\n  }\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .provider('baSidebarService', baSidebarServiceProvider);\n\n  /** @ngInject */\n  function baSidebarServiceProvider() {\n    var staticMenuItems = [];\n\n    this.addStaticItem = function() {\n      staticMenuItems.push.apply(staticMenuItems, arguments);\n    };\n\n    /** @ngInject */\n    this.$get = function($state, layoutSizes) {\n      return new _factory();\n\n      function _factory() {\n        var isMenuCollapsed = shouldMenuBeCollapsed();\n\n        this.getMenuItems = function() {\n          var states = defineMenuItemStates();\n          var menuItems = states.filter(function(item) {\n            return item.level == 0;\n          });\n\n          menuItems.forEach(function(item) {\n            var children = states.filter(function(child) {\n              return child.level == 1 && child.name.indexOf(item.name) === 0;\n            });\n            item.subMenu = children.length ? children : null;\n          });\n\n          return menuItems.concat(staticMenuItems);\n        };\n\n        this.shouldMenuBeCollapsed = shouldMenuBeCollapsed;\n        this.canSidebarBeHidden = canSidebarBeHidden;\n\n        this.setMenuCollapsed = function(isCollapsed) {\n          isMenuCollapsed = isCollapsed;\n        };\n\n        this.isMenuCollapsed = function() {\n          return isMenuCollapsed;\n        };\n\n        this.toggleMenuCollapsed = function() {\n          isMenuCollapsed = !isMenuCollapsed;\n        };\n\n        this.getAllStateRefsRecursive = function(item) {\n          var result = [];\n          _iterateSubItems(item);\n          return result;\n\n          function _iterateSubItems(currentItem) {\n            currentItem.subMenu && currentItem.subMenu.forEach(function(subItem) {\n              subItem.stateRef && result.push(subItem.stateRef);\n              _iterateSubItems(subItem);\n            });\n          }\n        };\n\n        function defineMenuItemStates() {\n          return $state.get()\n              .filter(function(s) {\n                return s.sidebarMeta;\n              })\n              .map(function(s) {\n                var meta = s.sidebarMeta;\n                return {\n                  name: s.name,\n                  title: s.title,\n                  level: (s.name.match(/\\./g) || []).length,\n                  order: meta.order,\n                  icon: meta.icon,\n                  stateRef: s.name,\n                  permissions: s.permissions || []\n                };\n              })\n              .sort(function(a, b) {\n                return (a.level - b.level) * 100 + a.order - b.order;\n              });\n        }\n\n        function shouldMenuBeCollapsed() {\n          return window.innerWidth <= layoutSizes.resWidthCollapseSidebar;\n        }\n\n        function canSidebarBeHidden() {\n          return window.innerWidth <= layoutSizes.resWidthHideSidebar;\n        }\n      }\n\n    };\n\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebarToggleMenu', baSidebarToggleMenu)\n      .directive('baSidebarCollapseMenu', baSidebarCollapseMenu)\n      .directive('baSidebarTogglingItem', baSidebarTogglingItem)\n      .controller('BaSidebarTogglingItemCtrl', BaSidebarTogglingItemCtrl)\n      .directive('baUiSrefTogglingSubmenu', baUiSrefTogglingSubmenu)\n      .directive('baUiSrefToggler', baUiSrefToggler);\n\n  /** @ngInject */\n  function baSidebarToggleMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          scope.$apply(function() {\n            baSidebarService.toggleMenuCollapsed();\n          });\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarCollapseMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          if (!baSidebarService.isMenuCollapsed()) {\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(true);\n            });\n          }\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarTogglingItem() {\n    return {\n      restrict: 'A',\n      controller: 'BaSidebarTogglingItemCtrl'\n    };\n  }\n\n  /** @ngInject */\n  function BaSidebarTogglingItemCtrl($scope, $element, $attrs, $state, baSidebarService) {\n    var vm = this;\n    var menuItem = vm.$$menuItem = $scope.$eval($attrs.baSidebarTogglingItem);\n    if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {\n      vm.$$expandSubmenu = function() { console.warn('$$expandMenu should be overwritten by baUiSrefTogglingSubmenu') };\n      vm.$$collapseSubmenu = function() { console.warn('$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu') };\n\n      var subItemsStateRefs = baSidebarService.getAllStateRefsRecursive(menuItem);\n\n      vm.$expand = function() {\n        vm.$$expandSubmenu();\n        $element.addClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$collapse = function() {\n        vm.$$collapseSubmenu();\n        $element.removeClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$toggle = function() {\n        $element.hasClass('ba-sidebar-item-expanded') ?\n            vm.$collapse() :\n            vm.$expand();\n      };\n\n      if (_isState($state.current)) {\n        $element.addClass('ba-sidebar-item-expanded');\n      }\n\n      $scope.$on('$stateChangeStart', function (event, toState) {\n        if (!_isState(toState) && $element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$collapse();\n          $element.removeClass('ba-sidebar-item-expanded');\n        }\n      });\n\n      $scope.$on('$stateChangeSuccess', function (event, toState) {\n        if (_isState(toState) && !$element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$expand();\n          $element.addClass('ba-sidebar-item-expanded');\n        }\n      });\n    }\n\n    function _isState(state) {\n      return state && subItemsStateRefs.some(function(subItemState) {\n            return state.name.indexOf(subItemState) == 0;\n          });\n    }\n  }\n\n  /** @ngInject */\n  function baUiSrefTogglingSubmenu($state) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        baSidebarTogglingItem.$$expandSubmenu = function() { el.slideDown(); };\n        baSidebarTogglingItem.$$collapseSubmenu = function() { el.slideUp(); };\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baUiSrefToggler(baSidebarService) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        el.on('click', function() {\n          if (baSidebarService.isMenuCollapsed()) {\n            // If the whole sidebar is collapsed and this item has submenu. We need to open sidebar.\n            // This should not affect mobiles, because on mobiles sidebar should be hidden at all\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(false);\n            });\n            baSidebarTogglingItem.$expand();\n          } else {\n            baSidebarTogglingItem.$toggle();\n          }\n        });\n      }\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizard', baWizard);\n\n  /** @ngInject */\n  function baWizard() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      templateUrl: 'app/theme/components/baWizard/baWizard.html',\n      controllerAs: '$baWizardController',\n      controller: 'baWizardCtrl'\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('baWizardCtrl', baWizardCtrl);\n\n  /** @ngInject */\n  function baWizardCtrl($scope) {\n    var vm = this;\n    vm.tabs = [];\n\n    vm.tabNum = 0;\n    vm.progress = 0;\n\n    vm.addTab = function(tab) {\n      tab.setPrev(vm.tabs[vm.tabs.length - 1]);\n      vm.tabs.push(tab);\n      vm.selectTab(0);\n    };\n\n    $scope.$watch(angular.bind(vm, function () {return vm.tabNum;}), calcProgress);\n\n    vm.selectTab = function (tabNum) {\n      vm.tabs[vm.tabNum].submit();\n      if (vm.tabs[tabNum].isAvailiable()) {\n        vm.tabNum = tabNum;\n        vm.tabs.forEach(function (t, tIndex) {\n          tIndex == vm.tabNum ? t.select(true) : t.select(false);\n        });\n      }\n    };\n\n    vm.isFirstTab = function () {\n      return vm.tabNum == 0;\n    };\n\n    vm.isLastTab = function () {\n      return vm.tabNum == vm.tabs.length - 1 ;\n    };\n\n    vm.nextTab = function () {\n      vm.selectTab(vm.tabNum + 1)\n    };\n\n    vm.previousTab = function () {\n      vm.selectTab(vm.tabNum - 1)\n    };\n\n    function calcProgress() {\n      vm.progress = ((vm.tabNum + 1) / vm.tabs.length) * 100;\n    }\n  }\n})();\n\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizardStep', baWizardStep);\n\n  /** @ngInject */\n  function baWizardStep() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      require: '^baWizard',\n      scope: {\n        form: '='\n      },\n      templateUrl:  'app/theme/components/baWizard/baWizardStep.html',\n      link: function($scope, $element, $attrs, wizard) {\n        $scope.selected = true;\n\n        var tab = {\n          title: $attrs.title,\n          select: select,\n          submit: submit,\n          isComplete: isComplete,\n          isAvailiable: isAvailiable,\n          prevTab: undefined,\n          setPrev: setPrev\n        };\n\n        wizard.addTab(tab);\n\n        function select(isSelected) {\n          if (isSelected) {\n            $scope.selected = true;\n          } else {\n            $scope.selected = false;\n          }\n        }\n\n        function submit() {\n          $scope.form && $scope.form.$setSubmitted(true);\n        }\n\n        function isComplete() {\n          return $scope.form ? $scope.form.$valid : true;\n        }\n\n        function isAvailiable() {\n          return tab.prevTab ? tab.prevTab.isComplete() : true;\n        }\n\n        function setPrev(pTab) {\n          tab.prevTab = pTab;\n        }\n      }\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('backTop', backTop);\n\n  /** @ngInject */\n  function backTop() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/backTop/backTop.html',\n      controller: function () {\n        $('#backTop').backTop({\n          'position': 200,\n          'speed': 100\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('contentTop', contentTop);\n\n  /** @ngInject */\n  function contentTop($location, $state) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/contentTop/contentTop.html',\n      link: function($scope) {\n        $scope.$watch(function () {\n          $scope.activePageTitle = $state.current.title;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .controller('MsgCenterCtrl', MsgCenterCtrl);\n\n  /** @ngInject */\n  function MsgCenterCtrl($scope, $sce) {\n    $scope.users = {\n      0: {\n        name: 'Vlad',\n      },\n      1: {\n        name: 'Kostya',\n      },\n      2: {\n        name: 'Andrey',\n      },\n      3: {\n        name: 'Nasta',\n      }\n    };\n\n    $scope.notifications = [\n      {\n        userId: 0,\n        template: '&name posted a new article.',\n        time: '1 min ago'\n      },\n      {\n        userId: 1,\n        template: '&name changed his contact information.',\n        time: '2 hrs ago'\n      },\n      {\n        image: 'assets/img/shopping-cart.svg',\n        template: 'New orders received.',\n        time: '5 hrs ago'\n      },\n      {\n        userId: 2,\n        template: '&name replied to your comment.',\n        time: '1 day ago'\n      },\n      {\n        userId: 3,\n        template: 'Today is &name\\'s birthday.',\n        time: '2 days ago'\n      },\n      {\n        image: 'assets/img/comments.svg',\n        template: 'New comments on your post.',\n        time: '3 days ago'\n      },\n      {\n        userId: 1,\n        template: '&name invited you to join the event.',\n        time: '1 week ago'\n      }\n    ];\n\n    $scope.messages = [\n      {\n        userId: 3,\n        text: 'After you get up and running, you can place Font Awesome icons just about...',\n        time: '1 min ago'\n      },\n      {\n        userId: 0,\n        text: 'You asked, Font Awesome delivers with 40 shiny new icons in version 4.2.',\n        time: '2 hrs ago'\n      },\n      {\n        userId: 1,\n        text: 'Want to request new icons? Here\\'s how. Need vectors or want to use on the...',\n        time: '10 hrs ago'\n      },\n      {\n        userId: 2,\n        text: 'Explore your passions and discover new ones by getting involved. Stretch your...',\n        time: '1 day ago'\n      },\n      {\n        userId: 3,\n        text: 'Get to know who we are - from the inside out. From our history and culture, to the...',\n        time: '1 day ago'\n      },\n      {\n        userId: 1,\n        text: 'Need some support to reach your goals? Apply for scholarships across a variety of...',\n        time: '2 days ago'\n      },\n      {\n        userId: 0,\n        text: 'Wrap the dropdown\\'s trigger and the dropdown menu within .dropdown, or...',\n        time: '1 week ago'\n      }\n    ];\n\n    $scope.getMessage = function(msg) {\n      var text = msg.template;\n      if (msg.userId || msg.userId === 0) {\n        text = text.replace('&name', '<strong>' + $scope.users[msg.userId].name + '</strong>');\n      }\n      return $sce.trustAsHtml(text);\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('msgCenter', msgCenter);\n\n  /** @ngInject */\n  function msgCenter() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/msgCenter/msgCenter.html',\n      controller: 'MsgCenterCtrl'\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('pageTop', pageTop);\n\n  /** @ngInject */\n  function pageTop() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/pageTop/pageTop.html'\n    };\n  }\n\n})();\n/**\n * Created by n.poltoratsky\n * on 28.06.2016.\n */\n(function () {\n    'use strict';\n\n    angular.module('BlurAdmin.theme.components')\n        .directive('progressBarRound', progressBarRound);\n\n    /** @ngInject */\n    function progressBarRound(baProgressModal) {\n        return {\n            restrict: 'E',\n            templateUrl: 'app/theme/components/progressBarRound/progressBarRound.html',\n            link:function($scope, element, attrs) {\n                $scope.baProgressDialog = baProgressModal;\n                $scope.$watch(function () {\n                    return baProgressModal.getProgress();\n                }, animateBar);\n\n                function animateBar() {\n                    var circle = element.find('#loader')[0];\n                    circle.setAttribute(\"stroke-dasharray\", baProgressModal.getProgress() * 180 * Math.PI / 100 + \", 20000\");\n                    $scope.progress = baProgressModal.getProgress();\n                }\n            }\n        }\n    }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('widgets', widgets);\n\n  /** @ngInject */\n  function widgets() {\n    return {\n      restrict: 'EA',\n      scope: {\n        ngModel: '='\n      },\n      templateUrl: 'app/theme/components/widgets/widgets.html',\n      replace: true\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('appImage', appImage);\n\n  /** @ngInject */\n  function appImage(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + input;\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('kameleonImg', kameleonImg);\n\n  /** @ngInject */\n  function kameleonImg(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + 'theme/icon/kameleon/' + input + '.svg';\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('profilePicture', profilePicture);\n\n  /** @ngInject */\n  function profilePicture(layoutPaths) {\n    return function(input, ext) {\n      ext = ext || 'png';\n      return layoutPaths.images.profile + input + '.' + ext;\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .filter('plainText', plainText);\n\n  /** @ngInject */\n  function plainText() {\n    return function(text) {\n      return  text ? String(text).replace(/<[^>]+>/gm, '') : '';\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 10.12.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.inputs')\n      .directive('baSwitcher', baSwitcher);\n\n  /** @ngInject */\n  function baSwitcher() {\n    return {\n      templateUrl: 'app/theme/inputs/baSwitcher/baSwitcher.html',\n      scope: {\n        switcherStyle: '@',\n        switcherValue: '='\n      }\n    };\n  }\n\n})();\n\n/* Minified js for jQuery BackTop */\n!function(o){o.fn.backTop=function(e){var n=this,i=o.extend({position:400,speed:500,color:\"white\"},e),t=i.position,c=i.speed,d=i.color;n.addClass(\"white\"==d?\"white\":\"red\"==d?\"red\":\"green\"==d?\"green\":\"black\"),n.css({right:40,bottom:40,position:\"fixed\"}),o(document).scroll(function(){var e=o(window).scrollTop();e>=t?n.fadeIn(c):n.fadeOut(c)}),n.click(function(){o(\"html, body\").animate({scrollTop:0},{duration:1200})})}}(jQuery);\nangular.module('BlurAdmin').run(['$templateCache', function($templateCache) {$templateCache.put('app/pages/dashboard/dashboard.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span>La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/loader/loader.html','<div class=\"line-scale-pulse-out-rapid\"><div></div><div></div><div></div><div></div><div></div></div>');\n$templateCache.put('app/pages/auth/login/login.html','<div ng-controller=\"LoginController as ctrl\" class=\"utils_pages\"><div class=\"col-xs-12 pt-24\"><div class=\"panel panel-default panel-big-shadow\"><div class=\"row row-flex\"><div class=\"col-xs-12 col-md-6\"><div class=\"div1-login\"><div class=\"div-left\"><div class=\"text-center\" style=\"padding:24px 0 24px 0;\"><a href=\"/\"><img style=\"max-height: 130px; margin-top: 3px;\" src=\"assets/img/fundacion/logo_blanco_small.png\"></a></div><div class=\"text-center\"><h4>\\xA1Hola de nuevo!</h4><br><div class=\"text-center\"><span>Para poder iniciar sesi\\xF3n en el sistema debes formar parte del equipo de colaboradores de La Fundaci\\xF3n Talita Kum.</span><br><br><span>Si ya eres colaborador y no tienes credenciales, por favor, solic\\xEDtalas con el administrador del sistema para poder tener acceso al mismo.</span></div></div></div></div></div><div class=\"col-xs-12 col-md-6\"><div class=\"panel-body pt-24\"><div class=\"row\"><div class=\"col-xs-12 col-md-offset-1 col-md-10\"><main class=\"auth-main\"><div class=\"auth-block text-center\"><h3>Ingresa aqu\\xED tus credenciales...</h3><br><span>Para continuar debes iniciar sesi\\xF3n</span><br><br><form class=\"form-horizontal\" ng-submit=\"ctrl.login()\"><div class=\"form-group ph-16\"><div class=\"div-input-icon\"><input type=\"email\" autofocus=\"\" class=\"form-control\" placeholder=\"Correo electr\\xF3nico\" ng-model=\"ctrl.account.username\"> <i class=\"icon-input fa fa-envelope\"></i></div></div><div class=\"form-group ph-16\"><div class=\"div-input-icon\"><input type=\"password\" class=\"form-control\" placeholder=\"Contrase\\xF1a\" ng-model=\"ctrl.account.password\"> <i class=\"icon-input fa fa-lock\"></i></div></div><div class=\"form-group ph-16\"><br><button type=\"submit\" class=\"btn btn-custom btn-default btn-auth\" ng-disabled=\"ctrl.loading\"><span class=\"fa fa-sign-in fa-fw fa-lg\"></span> <strong>INGRESAR AHORA</strong></button></div></form></div></main></div></div></div></div></div></div></div></div><style type=\"text/css\">\\n\\n    html {\\n        display: flex;\\n        align-items: center;\\n        justify-content: center;\\n    }\\n    body {\\n        /* color: #333;\\n        background-position: center; */\\n        background-image: url(\\'assets/img/fundacion/pattern1.png\\');\\n        background-size: 300px;\\n        max-width: 1600px;\\n    }\\n    .div1-login {\\n        background: url(\\'assets/img/fundacion/psico1.jpeg\\') center bottom repeat;\\n    }\\n    .btn-custom {\\n        padding: 8px 24px;\\n    }\\n\\n</style>');\n$templateCache.put('app/pages/caja/templates/aperturar_caja.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12 text-center\"><h2><strong>Aperturar caja</strong></h2></div><div class=\"col-xs-12\"><form autocomplete=\"off\" name=\"ctrl.form\" novalidate=\"\" ng-submit=\"ctrl.save()\"><div class=\"row\"><div class=\"col-xs-4\"><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Cierre anterior:</label><br><label class=\"label-input\"><strong>{{ (cierre_anterior || 0) | currency : \"Q \" : 2 }}</strong></label></div></div><div class=\"col-xs-8\"><div class=\"form-group\"><label>Efectivo de apertura (Caja):</label> <span class=\"text-danger field-required\">*</span><div class=\"input-group\"><span class=\"input-group-addon addon-left input-group-addon-success\">Q</span> <input class=\"form-control with-success-addon\" type=\"number\" placeholder=\"0.00\" autofocus=\"\" step=\"1\" ng-model=\"ctrl.total_apertura_form\"></div></div></div></div><div class=\"text-center\" style=\"padding-top: 16px;\"><button class=\"btn btn-danger\" type=\"button\" ng-click=\"closeThisDialog()\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Aperturar caja</strong></button></div></form></div></div></div>');\n$templateCache.put('app/pages/caja/templates/caja.dialogo.apertura.html','<div style=\"margin: 32px;\"><div class=\"row text-center\"><div class=\"col-xs-12\"><div class=\"col-xs-12 text-center\" style=\"font-size:1.75em;\"><span class=\"fa fa-question-circle-o fa-fw fa-5x\"></span></div><div class=\"col-xs-12\"><h3>\\xBFAperturar caja?</h3><span style=\"font-size: 1.25em;\">La caja ser\\xE1 aperturada con una cantidad monetaria de</span> <strong style=\"font-size: 1.25em;\">{{ (total_apertura || 0) | currency : \"Q \" : 2 }}</strong></div><div class=\"col-xs-12\" style=\"margin-top:32px;\"><button class=\"btn btn-md btn-danger\" style=\"font-size:1.15em; margin-right: 3px;\" ng-click=\"closeThisDialog(0)\"><span class=\"fa fa-times fa-fw\"></span> <strong>No, a\\xFAn no</strong></button> <button class=\"btn btn-md btn-success\" style=\"font-size:1.15em; margin-left: 3px;\" ng-click=\"confirm(1)\"><span class=\"fa fa-check fa-fw\"></span> <strong>S\\xED, aperturar</strong></button></div></div></div></div>');\n$templateCache.put('app/pages/caja/templates/caja.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"CajaController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"rel\"><div style=\"background-color: #009A40;\" class=\"alert bg-danger animated zoomIn\" ng-if=\"user.id && user.caja_activa\"><h4>LA CAJA SE ENCUENTRA ACTUALMENTE ABIERTA</h4><strong>Por lo tanto, no es posible aperturarla nuevamente hasta que cierre la misma.</strong></div><div class=\"alert bg-primary animated zoomIn\" ng-if=\"user.id && !user.caja_activa\"><h4>LA CAJA SE ENCUENTRA ACTUALMENTE CERRADA</h4><strong>Puede aperturar la caja ahora mismo.</strong></div></div></div></div><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ng-click=\"ctrl.aperturarCaja()\" ng-disabled=\"ctrl.loading\" ng-if=\"user.id && !user.caja_activa\"><span class=\"fa fa-fw fa-archive\"></span> <strong>Aperturar caja</strong></button> <button class=\"btn btn-danger\" ng-click=\"ctrl.reporteMovimientos()\" ng-disabled=\"ctrl.loading\"><span class=\"mdi mdi-file-document fa-fw\"></span> <strong>Reporte de movimientos de caja</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar por colaborador\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"panel panel-default mb12\"><div class=\"panel-body\"><div class=\"input-demo radio-demo row\"><span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.estado\" ng-change=\"ctrl.search()\" ng-value=\"null\"> <span>Todas</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.estado\" ng-change=\"ctrl.search()\" ng-value=\"ctrl.ESTADOS_CAJA[0].id\"> <span>Aperturadas</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.estado\" ng-change=\"ctrl.search()\" ng-value=\"ctrl.ESTADOS_CAJA[1].id\"> <span>Cerradas</span></label></span></div></div></div><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Listado de aperturas y cierres de caja</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"min-width:220px;\">Colaborador(a)</th><th style=\"min-width:144px;\">Fecha de apertura</th><th style=\"min-width:144px;\">Fecha de cierre</th><th class=\"text-right\">Total aperturado</th><th class=\"text-right\">Total de cierre</th><th>Estado</th><th class=\"text-right\">Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.colaborador.persona.persona || \"---\" }}</td><td>{{ item.fecha_creacion | date: \"dd/MMMM/yyyy hh:mm a\" }}</td><td>{{ (item.fecha_cierre | date: \"dd/MMMM/yyyy hh:mm a\") || \"---\" }}</td><td class=\"text-right\"><strong>{{ item.total_apertura | currency: \"Q \" : 2 }}</strong></td><td class=\"text-right\"><strong>{{ (item.total_cierre | currency: \"Q \" : 2) || \"---\" }}</strong></td><td><strong class=\"text-success\" ng-if=\"item.estado == ctrl.ESTADOS_CAJA[0].id\">APERTURADA</strong> <strong class=\"text-danger\" ng-if=\"item.estado == ctrl.ESTADOS_CAJA[1].id\">CERRADA</strong></td><td class=\"text-right\" style=\"width:180px;\"><div class=\"btn-group\"><a href=\"/api/aperturas_cierres_caja/pdf_estado_cuenta_caja/?id={{ item.id }}\" target=\"_blank\" class=\"btn btn-success\" title=\"Estado de cuenta de caja\" ng-if=\"item.estado == ctrl.ESTADOS_CAJA[1].id\"><span class=\"fa fa-file-text\"></span></a> <a href=\"/api/aperturas_cierres_caja/pdf_cierre_caja/?id={{ item.id }}\" target=\"_blank\" class=\"btn btn-danger\" title=\"Informe de cierre de caja\" ng-if=\"item.estado == ctrl.ESTADOS_CAJA[1].id\"><span class=\"fa fa-print\"></span></a> <button class=\"btn btn-primary\" title=\"Cierre de caja\" ng-click=\"ctrl.detallesCierreCaja(item)\" ng-if=\"item.estado == ctrl.ESTADOS_CAJA[1].id || ctrl.loading || item.loadingIngEng\"><span class=\"fa fa-bars\"></span></button> <button class=\"btn btn-warning\" title=\"Movimientos de caja\" ui-sref=\"movimientos_caja({ id: item.id })\"><span class=\"fa fa-arrow-right\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/caja/templates/cerrar_caja.dialog.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12 text-center\"><h2><strong>Cierre de caja</strong></h2></div><div class=\"col-xs-12\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Colaborador que manej\\xF3 la caja:</label><br><label class=\"label-input\"><span>{{ apertura_cierre_caja_info.colaborador.persona.persona }}</span></label></div></div><div class=\"col-xs-12 col-sm-6\"><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Fecha de apertura:</label><br><label class=\"label-input\"><span>{{ apertura_cierre_caja_info.fecha_creacion | date : \"dd/MMM/yyyy hh:mm a\" }}</span></label></div></div><div class=\"col-xs-12 col-sm-6\"><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Fecha de cierre:</label><br><label class=\"label-input\"><span>{{ apertura_cierre_caja_info.fecha_cierre | date : \"dd/MMM/yyyy hh:mm a\" }}</span></label></div></div></div><div class=\"row\"><div class=\"col-xs-4\"><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Monto inicial:</label><br><label class=\"label-input\"><strong>{{ apertura_cierre_caja_info.total_apertura | currency : \"Q \" : 2 }}</strong></label></div><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Ingresos:</label><br><label class=\"label-input\"><strong class=\"text-success\">{{ ingresos_egresos_info.ingresos | currency : \"Q \" : 2 }}</strong></label></div><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Egresos:</label><br><label class=\"label-input\"><strong class=\"text-danger\">{{ (ingresos_egresos_info.egresos * -1) | currency : \"Q \" : 2 }}</strong></label></div><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Efectivo (sistema):</label><br><label class=\"label-input\"><strong>{{ apertura_cierre_caja_info.total_actual | currency : \"Q \" : 2 }}</strong></label></div></div><div class=\"col-xs-8\"><div class=\"form-group\"><label>Efectivo (Caja):</label> <label class=\"label-input\"><strong>{{ apertura_cierre_caja_info.total_cierre | currency : \"Q \" : 2 }}</strong></label></div><div class=\"form-group\"><label>Notas:</label> <label class=\"label-input\" style=\"min-height: 167px\"><span>{{ apertura_cierre_caja_info.notas || \"---\" }}</span></label></div></div></div><div class=\"row\"><div class=\"col-xs-12 text-center\"><div><a href=\"/api/aperturas_cierres_caja/pdf_estado_cuenta_caja/?id={{ apertura_cierre_caja_info.id }}\" target=\"_blank\" class=\"btn btn-success\" title=\"Estado de cuenta de caja\"><span class=\"fa fa-fw fa-file-text\"></span> <strong>Estado de cuenta</strong></a> <a href=\"/api/aperturas_cierres_caja/pdf_cierre_caja/?id={{ apertura_cierre_caja_info.id }}\" target=\"_blank\" class=\"btn btn-danger\" title=\"Informe de cierre de caja\"><span class=\"fa fa-fw fa-print\"></span> <strong>Boleta de cierre</strong></a></div></div></div></div></div></div>');\n$templateCache.put('app/pages/caja/templates/cerrar_caja.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12 text-center\"><h2><strong>Cerrar caja</strong></h2></div><div class=\"col-xs-12\"><form autocomplete=\"off\" name=\"ctrl.form\" novalidate=\"\" ng-submit=\"ctrl.save()\"><div class=\"row\"><div class=\"col-xs-4\"><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Monto inicial:</label><br><label class=\"label-input\"><strong>{{ ctrl.apertura_cierre_caja.total_apertura | currency : \"Q \" : 2 }}</strong></label></div><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Ingresos:</label><br><label class=\"label-input\"><strong class=\"text-success\">{{ ctrl.ingresos_egresos.ingresos | currency : \"Q \" : 2 }}</strong></label></div><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Egresos:</label><br><label class=\"label-input\"><strong class=\"text-danger\">{{ (ctrl.ingresos_egresos.egresos * -1) | currency : \"Q \" : 2 }}</strong></label></div><div class=\"form-group\" style=\"margin-bottom: 0px !important;\"><label>Efectivo (sistema):</label><br><label class=\"label-input\"><strong>{{ ctrl.apertura_cierre_caja.total_actual | currency : \"Q \" : 2 }}</strong></label></div></div><div class=\"col-xs-8\"><div class=\"form-group\"><label>Efectivo (Caja):</label> <span class=\"text-danger field-required\">*</span><div class=\"input-group\"><span class=\"input-group-addon addon-left input-group-addon-success\">Q</span> <input class=\"form-control with-success-addon\" type=\"number\" placeholder=\"0.00\" autofocus=\"\" step=\"1\" min=\"0\" ng-model=\"ctrl.total_cierre_form\"></div></div><div class=\"form-group\"><label>Notas:</label> <textarea style=\"height: 172px !important;\" class=\"form-control\" placeholder=\"Puedes escribir aqu\\xED algunas observaciones\" name=\"notas\" ng-model=\"ctrl.apertura_cierre_caja.notas\">\\n                            </textarea></div></div></div><div class=\"text-center\" style=\"padding-top: 16px;\"><button class=\"btn btn-danger\" type=\"button\" ng-click=\"closeThisDialog()\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Cerrar caja</strong></button></div></form></div></div></div>');\n$templateCache.put('app/pages/caja/templates/movimientos_caja.create.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12 text-center\"><h2><strong>Registrar movimiento</strong></h2></div><div class=\"col-xs-12\"><form autocomplete=\"off\" name=\"ctrl.form\" novalidate=\"\" ng-submit=\"ctrl.save()\"><div class=\"form-group\"><label>Cantidad:</label> <span class=\"text-danger field-required\">*</span><div class=\"input-group\"><span class=\"input-group-addon addon-left input-group-addon-success\">Q</span> <input class=\"form-control with-success-addon\" type=\"number\" placeholder=\"0.00\" autofocus=\"\" step=\"1\" min=\"0\" ng-disabled=\"!ctrl.activar_cantidad\" ng-model=\"ctrl.movimiento_caja.cantidad\"></div></div><div class=\"form-group\"><label>Tipo de movimiento:</label> <span class=\"text-danger field-required\">*</span><div class=\"input-demo radio-demo\"><div class=\"col-xs-12\" style=\"margin-bottom: 8px;background-color: #FFF;border-radius: 4px;border: 1px solid #ccc; padding-top: 4px; padding-bottom: 4px;\"><div class=\"col-xs-6\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.movimiento_caja.tipo\" ng-change=\"ctrl.changeType()\" ng-value=\"10\"> <span>Ingreso</span></label></div><div class=\"col-xs-6\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.movimiento_caja.tipo\" ng-change=\"ctrl.changeType()\" ng-disabled=\"!ctrl.activar_egreso\" ng-value=\"20\"> <span>Egreso</span></label></div></div></div></div><div class=\"form-group\"><label>Tipo de documento:</label><div class=\"input-demo radio-demo\"><div class=\"col-xs-12\" style=\"margin-bottom: 8px;background-color: #FFF;border-radius: 4px;border: 1px solid #ccc; padding-top: 4px; padding-bottom: 4px;\"><div class=\"col-xs-6\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.movimiento_caja.tipo_documento\" ng-value=\"10\"> <span>Recibo</span></label></div><div class=\"col-xs-6\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-disabled=\"ctrl.movimiento_caja.tipo != 20\" ng-model=\"ctrl.movimiento_caja.tipo_documento\" ng-value=\"20\"> <span>Factura</span></label></div></div></div></div><div class=\"form-group\"><label>No. de documento:</label><div class=\"input-group\"><span class=\"input-group-addon addon-left input-group-addon-success\">#</span> <input ng-disabled=\"!ctrl.movimiento_caja.tipo_documento\" class=\"form-control with-success-addon\" type=\"text\" placeholder=\"No. de documento\" ng-model=\"ctrl.movimiento_caja.num_documento\"></div></div><div class=\"form-group\"><label>Concepto:</label> <span class=\"text-danger field-required\">*</span> <textarea class=\"form-control\" placeholder=\"Concepto del movimiento\" name=\"concepto\" ng-model=\"ctrl.movimiento_caja.concepto\">\\n                    </textarea></div><div class=\"text-center\"><button class=\"btn btn-danger\" type=\"button\" ng-click=\"closeThisDialog()\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Guardar</strong></button></div></form></div></div></div>');\n$templateCache.put('app/pages/caja/templates/movimientos_caja.dialog.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12\"><h2><strong>Detalles del movimiento</strong></h2></div><div class=\"col-xs-12\" style=\"font-size: 16px;\"><div class=\"area-info\" style=\"margin-bottom: 12px;\"><div style=\"margin-bottom: 6px;\"><strong>Cantidad:</strong></div><div class=\"mb2 ml8\" style=\"margin-bottom: 6px;\"><strong>{{ (movimiento_caja.cantidad | currency : \\'Q \\' : 2) || \"---\" }}</strong></div></div><div class=\"area-info\" style=\"margin-bottom: 12px;\"><div style=\"margin-bottom: 6px;\"><strong>Tipo de movimiento:</strong></div><div class=\"mb2 ml8\" style=\"margin-bottom: 6px;\"><div class=\"text-success\" ng-if=\"movimiento_caja.tipo == 10\"><span class=\"fa fa-fw fa-arrow-up fa-lg\"></span> <strong>INGRESO</strong></div><div class=\"text-danger\" ng-if=\"movimiento_caja.tipo == 20\"><span class=\"fa fa-fw fa-arrow-down fa-lg\"></span> <strong>EGRESO</strong></div></div></div><div class=\"area-info\" style=\"margin-bottom: 12px;\"><div style=\"margin-bottom: 6px;\"><strong>Tipo de documento:</strong></div><div class=\"mb2 ml8\" style=\"margin-bottom: 6px;\"><div ng-if=\"movimiento_caja.tipo_documento == 10\"><span>RECIBO</span></div><div ng-if=\"movimiento_caja.tipo_documento == 20\"><span>FACTURA</span></div><div ng-if=\"!movimiento_caja.tipo_documento\"><span>---</span></div></div></div><div class=\"area-info\" style=\"margin-bottom: 12px;\"><div style=\"margin-bottom: 6px;\"><strong>No. de documento:</strong></div><div class=\"mb2 ml8\" style=\"margin-bottom: 6px;\"><span>{{ movimiento_caja.num_documento || \"---\" }}</span></div></div><div class=\"area-info\" style=\"margin-bottom: 12px;\"><div style=\"margin-bottom: 6px;\"><strong>Concepto:</strong></div><div class=\"mb2 ml8\" style=\"margin-bottom: 6px;\"><span>{{ movimiento_caja.concepto || \"---\" }}</span></div></div></div></div></div>');\n$templateCache.put('app/pages/caja/templates/movimientos_caja.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"MovimientosCajaController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"rel\"><div class=\"alert bg-danger animated zoomIn\" ng-if=\"ctrl.apertura_cierre_caja.estado == ctrl.ESTADOS_CAJA[0].id && user.id != ctrl.apertura_cierre_caja.colaborador.id\"><h4>ESTA APERTURA DE CAJA PERTENECE A OTRO COLABORADOR</h4><strong>Por lo tanto, no es posible realizar cambios en la misma.</strong></div><div class=\"panel popular-app animated zoomIn\"><div class=\"popular-app-cost row\"><div class=\"col-xs-6 col-md-2\">Colaborador(a):</div><div class=\"col-xs-6 col-md-10\"><strong>{{ ctrl.apertura_cierre_caja.colaborador.persona.persona }}</strong></div></div><div class=\"popular-app-cost row\"><div class=\"col-xs-6 col-md-2\">Estado actual:</div><div class=\"col-xs-6 col-md-4\"><strong class=\"text-success\" ng-if=\"ctrl.apertura_cierre_caja.estado == ctrl.ESTADOS_CAJA[0].id\">Aperturada</strong> <strong class=\"text-danger\" ng-if=\"ctrl.apertura_cierre_caja.estado == ctrl.ESTADOS_CAJA[1].id\">Cerrada</strong> <strong ng-if=\"!ctrl.apertura_cierre_caja.estado\">---</strong></div><div class=\"col-xs-6 col-md-4 text-right\">Saldo actual:</div><div class=\"col-xs-6 col-md-2 text-right\"><strong>{{ (ctrl.apertura_cierre_caja.total_actual || 0) | currency: \"Q \" : 2 }}</strong></div></div><div class=\"popular-app-info row\"><div class=\"col-xs-3 text-center\"><div style=\"font-size: 14px;padding-bottom: 4px;\" class=\"info-label\">Fecha de apertura</div><div>{{ ctrl.apertura_cierre_caja.fecha_creacion | date : \"dd/MM/yyyy hh:mm a\" }}</div></div><div class=\"col-xs-3 text-center\"><div style=\"font-size: 14px;padding-bottom: 4px;\" class=\"info-label\">Total de apertura:</div><div>{{ (ctrl.apertura_cierre_caja.total_apertura | currency : \"Q \" : 2) || \"---\" }}</div></div><div class=\"col-xs-3 text-center\"><div style=\"font-size: 14px;padding-bottom: 4px;\" class=\"info-label\">Fecha de cierre</div><div>{{ (ctrl.apertura_cierre_caja.fecha_cierre | date : \"dd/MM/yyyy hh:mm a\") || \"---\" }}</div></div><div class=\"col-xs-3 text-center\"><div style=\"font-size: 14px;padding-bottom: 4px;\" class=\"info-label\">Total de cierre:</div><div>{{ (ctrl.apertura_cierre_caja.total_cierre | currency : \"Q \" : 2) || \"---\" }}</div></div></div></div></div></div></div><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ng-click=\"ctrl.registrarMovimiento()\" ng-disabled=\"ctrl.loading\" ng-if=\"ctrl.apertura_cierre_caja.estado == ctrl.ESTADOS_CAJA[0].id && user.id == ctrl.apertura_cierre_caja.colaborador.id\"><span class=\"fa fa-fw fa-archive\"></span> <strong>Registrar movimiento</strong></button> <button class=\"btn btn-danger\" ng-click=\"ctrl.cerrarCaja()\" ng-if=\"ctrl.apertura_cierre_caja.estado == ctrl.ESTADOS_CAJA[0].id && user.id == ctrl.apertura_cierre_caja.colaborador.id\" ng-disabled=\"ctrl.loading || ctrl.loadingIngEng\"><span class=\"fa fa-fw fa-clock-o\"></span> <strong>Cerrar caja</strong></button> <button class=\"btn btn-primary\" ng-click=\"ctrl.detallesCierreCaja()\" ng-if=\"ctrl.apertura_cierre_caja.estado == ctrl.ESTADOS_CAJA[1].id\" ng-disabled=\"ctrl.loading || ctrl.loadingIngEng\"><span class=\"fa fa-fw fa-file-text\"></span> <strong>Detalles del cierre de caja</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar por concepto\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Listado de movimientos de caja</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"width:175px;\">Fecha</th><th style=\"width:100px;\">Hora</th><th style=\"min-width:220px;\">Concepto</th><th style=\"width:120px;\">Tipo</th><th class=\"text-right\" style=\"width:120px;\">Cantidad</th><th class=\"text-right\">Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.fecha_creacion | date: \"dd/MMMM/yyyy\" }}</td><td>{{ item.fecha_creacion | date: \"hh:mm a\" }}</td><td>{{ item.concepto || \"---\" }}</td><td><span style=\"font-size: 18px;\" class=\"text-success fa fa-fw fa-arrow-up\" ng-if=\"item.tipo == 10\"></span> <strong class=\"text-success\" ng-if=\"item.tipo == 10\">INGRESO</strong> <span style=\"font-size: 18px;\" class=\"text-danger fa fa-fw fa-arrow-down\" ng-if=\"item.tipo == 20\"></span> <strong class=\"text-danger\" ng-if=\"item.tipo == 20\">EGRESO</strong></td><td class=\"text-right\"><strong>{{ item.cantidad | currency: \"Q \" : 2 }}</strong></td><td class=\"text-right\" style=\"width:80px;\"><div class=\"btn-group\"><button class=\"btn btn-primary\" title=\"Ver movimiento\" ng-click=\"ctrl.detallesMovimiento(item)\"><span class=\"fa fa-bars\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/caja/templates/reporte.mov.dialog.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12 text-center\"><h2><strong>Reporte de todos los movimientos caja</strong></h2></div><div class=\"col-xs-12\"><form autocomplete=\"off\" name=\"ctrl.form\" novalidate=\"\" ng-submit=\"ctrl.generate()\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"row\"><div class=\"col-md-6\"><div class=\"form-group\"><label>Fecha inicial:</label> <span class=\"text-danger field-required\">*</span><p class=\"input-group\"><input class=\"form-control\" type=\"text\" uib-datepicker-popup=\"{{ctrl.format}}\" ng-model=\"ctrl.reporte.desde\" is-open=\"ctrl.openedFechaDesde\" datepicker-options=\"ctrl.dateOptions\" close-text=\"Cerrar\" clear-text=\"Limpiar\" current-text=\"Hoy\"> <span class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default\" ng-click=\"ctrl.openFechaDesde($event)\"><span class=\"fa fa-calendar\"></span></button></span></p></div></div><div class=\"col-md-6\"><div class=\"form-group\"><label>Fecha final:</label> <span class=\"text-danger field-required\">*</span><p class=\"input-group\"><input class=\"form-control\" type=\"text\" uib-datepicker-popup=\"{{ctrl.format}}\" ng-model=\"ctrl.reporte.hasta\" is-open=\"ctrl.openedFechaHasta\" datepicker-options=\"ctrl.dateOptions\" close-text=\"Cerrar\" clear-text=\"Limpiar\" current-text=\"Hoy\"> <span class=\"input-group-btn\"><button type=\"button\" class=\"btn btn-default\" ng-click=\"ctrl.openFechaHasta($event)\"><span class=\"fa fa-calendar\"></span></button></span></p></div></div></div></div></div><div class=\"text-center\" style=\"padding-top: 16px;\"><button class=\"btn btn-danger\" type=\"button\" ng-click=\"closeThisDialog()\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Generar reporte</strong></button></div></form></div></div></div>');\n$templateCache.put('app/pages/casos/templates/casos.cerrar.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><form ng-submit=\"ctrl.save()\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Cierre del caso</strong></div><div class=\"panel-body\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>No. de sesiones:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.sesiones }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha de inicio:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.fecha_creacion | date: \\'dd/MMMM/yyyy\\' }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha de culminaci\\xF3n:</strong></div><div class=\"mb2 ml8\"><span ng-if=\"ctrl.caso.cerrado\">{{ ctrl.caso.fecha_cierre | date: \\'dd/MMMM/yyyy\\' }}</span> <span ng-if=\"!ctrl.caso.cerrado\">{{ ctrl.fecha | date: \\'dd/MMMM/yyyy\\' }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha de nacimiento:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.paciente.fecha_nacimiento | date : \\'dd/MMMM/yyyy\\' }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Edad:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.edad || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"area-info\"><div class=\"mb2\"><strong>Motivo de la consulta:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.motivo || \"---\" }}</span></div></div></div></div><div class=\"row\" ng-if=\"!ctrl.caso.cerrado\"><div class=\"col-xs-12\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Diagn\\xF3stico:</label> <textarea name=\"diagnostico\" ng-model=\"ctrl.caso.diagnostico\" class=\"form-control\" placeholder=\"Usar clasificaci\\xF3n del DSM-IV\">\\n                                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Plan terap\\xE9utico:</label> <textarea name=\"plan_terapeutico\" ng-model=\"ctrl.caso.plan_terapeutico\" class=\"form-control\" placeholder=\"Plan terap\\xE9utico.\">\\n                                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Instrumentos utilizados:</label> <textarea name=\"instrumentos\" ng-model=\"ctrl.caso.instrumentos\" class=\"form-control\" placeholder=\"Instrumentos utilizados.\">\\n                                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Resultados:</label> <textarea name=\"resultados\" ng-model=\"ctrl.caso.resultados\" class=\"form-control\" placeholder=\"Resultados.\">\\n                                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Pron\\xF3stico:</label> <textarea name=\"pronostico\" ng-model=\"ctrl.caso.pronostico\" class=\"form-control\" placeholder=\"Pron\\xF3stico.\">\\n                                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Observaciones:</label> <textarea name=\"observaciones\" ng-model=\"ctrl.caso.observaciones\" class=\"form-control\" placeholder=\"Observaciones.\">\\n                                        </textarea></div></div></div></div><div class=\"row\" ng-if=\"ctrl.caso.cerrado\"><div class=\"col-xs-12\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Diagn\\xF3stico:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.diagnostico || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Plan terap\\xE9utico:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.plan_terapeutico || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Instrumentos utilizados:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.instrumentos || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Resultados:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.resultados || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Pron\\xF3stico:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.pronostico || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Observaciones:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.observaciones || \"---\" }}</span></div></div></div></div></div></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ng-click=\"closeThisDialog(0)\" type=\"button\" ng-if=\"!ctrl.caso.cerrado\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\" ng-if=\"!ctrl.caso.cerrado\"><span class=\"fa fa-fw fa-folder\"></span> <strong>Cerrar caso</strong></button> <a href=\"/api/casos/pdf_cierre_caso/?id={{ ctrl.caso.id }}\" target=\"_blank\" class=\"btn btn-danger\" type=\"button\" ng-if=\"ctrl.caso.cerrado\"><span class=\"fa fa-fw fa-download\"></span> <strong>Descargar en PDF</strong></a> <button class=\"btn btn-success\" ng-click=\"ctrl.abrirCaso()\" type=\"button\" ng-if=\"ctrl.caso.cerrado\"><span class=\"fa fa-fw fa-folder-open\"></span> <strong>Abrir caso</strong></button></div></div></form></div></div>');\n$templateCache.put('app/pages/casos/templates/casos.create.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"CasoCreateController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\"><strong>1. Informaci\\xF3n personal del paciente</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-show=\"ctrl.panelPacienteOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPacienteOculto\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div><div ng-include=\"\\'app/pages/casos/templates/form.html\\'\"></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"casos()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/casos/templates/casos.edit.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"CasoEditController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"alert bg-primary animated zoomIn\" ng-if=\"ctrl.caso.id && ctrl.caso.cerrado\"><h4>EL CASO EST\\xC1 CERRADO</h4><strong>Por lo tanto, la edici\\xF3n de este formulario se encuentra desactivada.</strong></div><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPacienteOculto = !ctrl.panelPacienteOculto\"><strong>1. Informaci\\xF3n personal del paciente</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"ctrl.panelPacienteOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPacienteOculto\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPacienteOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div><div ng-include=\"\\'app/pages/casos/templates/form.html\\'\"></div></div><div class=\"panel-footer text-center\" ng-show=\"!ctrl.disabled\"><button class=\"btn btn-danger\" ui-sref=\"casos()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/casos/templates/casos.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"CasoController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ui-sref=\"casos_create()\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Registrar caso para un nuevo paciente</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"panel panel-default mb12\"><div class=\"panel-body\"><div class=\"input-demo radio-demo row\"><span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.cerrado\" ng-change=\"ctrl.search()\" ng-value=\"null\"> <span>Todos</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.cerrado\" ng-change=\"ctrl.search()\" ng-value=\"false\"> <span>Abiertos</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.cerrado\" ng-change=\"ctrl.search()\" ng-value=\"true\"> <span>Cerrados</span></label></span></div></div></div><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"background-color: #1D2531;\" class=\"text-center text-default2\" colspan=\"2\"><span>Paciente</span></th><th style=\"background-color: #202C3A;\" class=\"text-center text-default2\" colspan=\"4\"><span>Caso</span></th></tr><tr><th style=\"min-width:220px;\">Nombre</th><th>M\\xF3vil</th><th style=\"min-width:144px;\">Motivo</th><th style=\"min-width:144px;\">Fecha</th><th>Estado</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.paciente.persona.persona }}</td><td>{{ item.paciente.persona.celular || \"---\" }}</td><td>{{ item.motivo || \"---\" }}</td><td>{{ item.fecha_creacion | date: \\'dd/MMM/yyyy\\' }}</td><td><strong style=\"color:#2E7D32;\" ng-if=\"!item.cerrado\">Abierto</strong> <strong style=\"color:#FE0000;\" ng-if=\"item.cerrado\">Cerrado</strong></td><td style=\"width:220px;\"><div class=\"btn-group\"><button ng-click=\"ctrl.goToUrl(\\'/api/casos/pdf_cierre_caso/?id=\\' + item.id)\" ng-disabled=\"!item.cerrado\" class=\"btn btn-danger\" title=\"Descargar cierre de caso en PDF\"><span class=\"fa fa-download\"></span></button> <button class=\"btn btn-primary\" title=\"Cierre del caso\" ng-click=\"ctrl.status(item, true)\"><span class=\"fa fa-folder\"></span></button> <button class=\"btn btn-success\" ng-disabled=\"!item.genograma\" title=\"Ver genograma\" ng-click=\"ctrl.viewImg(item.genograma)\"><span class=\"fa ion-network rotate180 f16\"></span></button> <button class=\"btn btn-info\" title=\"Notas evolutivas\" ui-sref=\"casos_notas({ id: item.id })\"><span class=\"fa fa-list-ul\"></span></button> <button class=\"btn btn-warning\" title=\"Ver caso\" ui-sref=\"casos_edit({ id: item.id })\"><span class=\"fa fa-arrow-right\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/casos/templates/casos.notas.dialog.dt.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><form><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Nota evolutiva No. {{ ctrl.nota.id }}</strong></div><div class=\"panel-body\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.fecha_creacion | date: \\'dd/MMM/yyyy\\' }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.caso.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.caso.paciente.persona.celular || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"area-info\"><div class=\"mb2\"><strong>Motivo de la consulta:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.caso.motivo || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Vari\\xF3:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.vario || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Tarea anterior:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.tarea_anterior || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Avance terap\\xE9utico:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.avance_terapeutico || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Eventos relevantes de la semana:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.eventos_relevantes || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Comentario significativo del paciente:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.comentario_paciente || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Tarea para la pr\\xF3xima sesi\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.tarea_proxima || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Observaciones:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.observaciones || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><div class=\"area-info\"><div class=\"mb2\"><strong>Notas:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.notas || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"panel panel-default\"><div class=\"panel-heading text-center\"><strong>Evoluci\\xF3n de s\\xEDntomas.</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"text-align: center !important; width: 50%;\">Psicol\\xF3gicos</th><th style=\"text-align: center !important; width: 50%;\">F\\xEDsicos</th></tr></thead><tbody><tr><td><span>{{ ctrl.nota.evolucion_psicologica }}</span></td><td><span>{{ ctrl.nota.evolucion_fisica }}</span></td></tr></tbody></table></div></div></div></div></div></div></div></form></div></div>');\n$templateCache.put('app/pages/casos/templates/casos.notas.dialog.edit.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><form ng-submit=\"ctrl.save()\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Editar nota evolutiva. Sesi\\xF3n No. {{ ctrl.nota.num_sesion }}</strong></div><div class=\"panel-body\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>No. de sesi\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.num_sesion }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.fecha | date: \\'dd/MMM/yyyy\\' }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.paciente.persona.celular || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"area-info\"><div class=\"mb2\"><strong>Motivo de la consulta:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.motivo || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Vari\\xF3:</label> <textarea name=\"vario\" ng-model=\"ctrl.nota.vario\" class=\"form-control\" placeholder=\"Vari\\xF3.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Tarea anterior:</label> <textarea name=\"tarea_anterior\" ng-model=\"ctrl.nota.tarea_anterior\" class=\"form-control\" placeholder=\"Tarea anterior.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Avance terap\\xE9utico:</label> <textarea name=\"avance_terapeutico\" ng-model=\"ctrl.nota.avance_terapeutico\" class=\"form-control\" placeholder=\"Avance terap\\xE9utico.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Eventos relevantes de la semana:</label> <textarea name=\"eventos_relevantes\" ng-model=\"ctrl.nota.eventos_relevantes\" class=\"form-control\" placeholder=\"Eventos relevantes de la semana.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Comentario significativo del paciente:</label> <textarea name=\"comentario_paciente\" ng-model=\"ctrl.nota.comentario_paciente\" class=\"form-control\" placeholder=\"Comentario significativo del paciente.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Tarea para la pr\\xF3xima sesi\\xF3n:</label> <textarea name=\"tarea_proxima\" ng-model=\"ctrl.nota.tarea_proxima\" class=\"form-control\" placeholder=\"Tarea para la pr\\xF3xima sesi\\xF3n.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Observaciones:</label> <textarea name=\"observaciones\" ng-model=\"ctrl.nota.observaciones\" class=\"form-control\" placeholder=\"Observaciones.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Notas:</label> <textarea name=\"notas\" ng-model=\"ctrl.nota.notas\" class=\"form-control\" placeholder=\"Notas.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"panel panel-default\"><div class=\"panel-heading text-center\"><strong>Evoluci\\xF3n de s\\xEDntomas.</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"text-align: center !important; width: 50%;\">Psicol\\xF3gicos</th><th style=\"text-align: center !important; width: 50%;\">F\\xEDsicos</th></tr></thead><tbody><tr><td><textarea name=\"evolucion_psicologica\" ng-model=\"ctrl.nota.evolucion_psicologica\" class=\"form-control\" placeholder=\"Evoluci\\xF3n psicol\\xF3gica.\">\\n                                                            </textarea></td><td><textarea name=\"evolucion_fisica\" ng-model=\"ctrl.nota.evolucion_fisica\" class=\"form-control\" placeholder=\"Evoluci\\xF3n f\\xEDsica.\">\\n                                                            </textarea></td></tr></tbody></table></div></div></div></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ng-click=\"closeThisDialog(0)\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div>');\n$templateCache.put('app/pages/casos/templates/casos.notas.dialog.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><form ng-submit=\"ctrl.save()\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Agregar nueva nota evolutiva. Sesi\\xF3n No. {{ ctrl.nota.num_sesion }}</strong></div><div class=\"panel-body\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>No. de sesi\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.nota.num_sesion }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.fecha | date: \\'dd/MMM/yyyy\\' }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-3\"><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.paciente.persona.celular || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"area-info\"><div class=\"mb2\"><strong>Motivo de la consulta:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.caso.motivo || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Vari\\xF3:</label> <textarea name=\"vario\" ng-model=\"ctrl.nota.vario\" class=\"form-control\" placeholder=\"Vari\\xF3.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Tarea anterior:</label> <textarea name=\"tarea_anterior\" ng-model=\"ctrl.nota.tarea_anterior\" class=\"form-control\" placeholder=\"Tarea anterior.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Avance terap\\xE9utico:</label> <textarea name=\"avance_terapeutico\" ng-model=\"ctrl.nota.avance_terapeutico\" class=\"form-control\" placeholder=\"Avance terap\\xE9utico.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Eventos relevantes de la semana:</label> <textarea name=\"eventos_relevantes\" ng-model=\"ctrl.nota.eventos_relevantes\" class=\"form-control\" placeholder=\"Eventos relevantes de la semana.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Comentario significativo del paciente:</label> <textarea name=\"comentario_paciente\" ng-model=\"ctrl.nota.comentario_paciente\" class=\"form-control\" placeholder=\"Comentario significativo del paciente.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Tarea para la pr\\xF3xima sesi\\xF3n:</label> <textarea name=\"tarea_proxima\" ng-model=\"ctrl.nota.tarea_proxima\" class=\"form-control\" placeholder=\"Tarea para la pr\\xF3xima sesi\\xF3n.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Observaciones:</label> <textarea name=\"observaciones\" ng-model=\"ctrl.nota.observaciones\" class=\"form-control\" placeholder=\"Observaciones.\">\\n                                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Notas:</label> <textarea name=\"notas\" ng-model=\"ctrl.nota.notas\" class=\"form-control\" placeholder=\"Notas.\">\\n                                    </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"panel panel-default\"><div class=\"panel-heading text-center\"><strong>Evoluci\\xF3n de s\\xEDntomas.</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"text-align: center !important; width: 50%;\">Psicol\\xF3gicos</th><th style=\"text-align: center !important; width: 50%;\">F\\xEDsicos</th></tr></thead><tbody><tr><td><textarea name=\"evolucion_psicologica\" ng-model=\"ctrl.nota.evolucion_psicologica\" class=\"form-control\" placeholder=\"Evoluci\\xF3n psicol\\xF3gica.\">\\n                                                            </textarea></td><td><textarea name=\"evolucion_fisica\" ng-model=\"ctrl.nota.evolucion_fisica\" class=\"form-control\" placeholder=\"Evoluci\\xF3n f\\xEDsica.\">\\n                                                            </textarea></td></tr></tbody></table></div></div></div></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ng-click=\"closeThisDialog(0)\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div>');\n$templateCache.put('app/pages/casos/templates/casos.notas.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"CasoNotasController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"alert bg-primary animated zoomIn\" ng-if=\"ctrl.caso.cerrado\"><h4>EL CASO EST\\xC1 CERRADO</h4><strong>Por lo tanto, las tareas de agregar y editar notas evolutivas se encuentran desactivadas.</strong></div><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading_item\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Vista previa del caso</strong> <span class=\"rel pl16\"><button style=\"position: absolute; top: -3px; padding: 3px 10px;\" ng-click=\"ctrl.gotoCaso()\" class=\"btn btn-success btn-sm\" type=\"button\"><strong>Ver caso completo</strong> <span class=\"fa fa-fw fa-arrow-right\"></span></button></span></div><div class=\"panel-body\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.caso.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.caso.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.caso.paciente.persona.celular || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"area-info\"><div class=\"mb2\"><strong>Motivo de la consulta:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.caso.motivo || \"---\" }}</span></div></div></div></div></div></div></div></div></div><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ng-click=\"ctrl.create()\" ng-disabled=\"!ctrl.caso.id || ctrl.caso.cerrado\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Nueva nota evolutiva</strong></button> <button class=\"btn btn-danger\" ng-click=\"ctrl.createCita()\" ng-disabled=\"!ctrl.caso.id || ctrl.caso.cerrado\"><span class=\"fa fa-fw fa-clock-o\"></span> <strong>Reservar cita</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Listado de notas evolutivas</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"width: 50px;\">No.</th><th style=\"min-width:175px;\">Fecha</th><th>Observaciones</th><th>Notas</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.num_sesion }}</td><td style=\"width:175px;\">{{ item.fecha_creacion | date: \\'dd/MMM/yyyy\\' }}</td><td>{{ item.observaciones || \\'---\\' }}</td><td>{{ item.notas || \\'---\\' }}</td><td style=\"width:140px;\"><div class=\"btn-group\"><button class=\"btn btn-primary\" title=\"Ver detalles\" ng-click=\"ctrl.details(item)\"><span class=\"fa fa-bars\"></span></button> <button class=\"btn btn-warning\" title=\"Editar nota\" ng-disabled=\"ctrl.caso.cerrado\" ng-click=\"ctrl.edit(item)\"><span class=\"fa fa-pencil\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/casos/templates/form.html','<div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelMotivoOculto = !ctrl.panelMotivoOculto\"><strong>2. Motivo de la consulta</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelMotivoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelMotivoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelMotivoOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>a) Con las propias palabras del informante:</label><span class=\"text-danger field-required\">*</span> <textarea ng-disabled=\"ctrl.disabled\" id=\"motivo\" name=\"motivo\" ng-model=\"ctrl.caso.motivo\" class=\"form-control\" placeholder=\"Con las propias palabras del informante\" required=\"\">\\n                    </textarea> <span ng-show=\"ctrl.form.motivo.$dirty && ctrl.form.motivo.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelMotivoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelHistoriaActualOculto = !ctrl.panelHistoriaActualOculto\"><strong>3. Historia del problema actual</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelHistoriaActualOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelHistoriaActualOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelHistoriaActualOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>a) Fecha de inicio, duraci\\xF3n y evento desencadenante:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"fecha_inicio_duracion_evento\" ng-model=\"ctrl.caso.notas.historia_actual.fecha_inicio_duracion_evento\" class=\"form-control\" placeholder=\"Fecha de inicio, duraci\\xF3n y evento desencadenante\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>b) Factores Precipitantes (Estresores):</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"factores_precipitantes\" ng-model=\"ctrl.caso.notas.historia_actual.factores_precipitantes\" class=\"form-control\" placeholder=\"Factores Precipitantes (Estresores)\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>c) Impacto de la enfermedad en su ambiente familiar y social:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"impacto_enfermedad\" ng-model=\"ctrl.caso.notas.historia_actual.impacto_enfermedad\" class=\"form-control\" placeholder=\"Impacto de la enfermedad en su ambiente familiar y social\">\\n                    </textarea></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelHistoriaActualOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelHistoriaClinicaOculto = !ctrl.panelHistoriaClinicaOculto\"><strong>4. Historia cl\\xEDnica o antecedentes:</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelHistoriaClinicaOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelHistoriaClinicaOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelHistoriaClinicaOculto\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"panel panel-default\"><div class=\"panel-body ph0\"><div class=\"col-xs-12 mb12\"><strong>a) Personales no patol\\xF3gicos:</strong></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Historia prenatal:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"historia_prenatal\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.historia_prenatal\" class=\"form-control\" placeholder=\"Historia prenatal\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Desarrollo psicomotriz:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"desarrollo_psicomotriz\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.desarrollo_psicomotriz\" class=\"form-control\" placeholder=\"Desarrollo psicomotriz\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Desenvolvimiento escolar:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"desenvolvimiento_escolar\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.desenvolvimiento_escolar\" class=\"form-control\" placeholder=\"Desenvolvimiento escolar\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Adolescencia:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"adolescencia\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.adolescencia\" class=\"form-control\" placeholder=\"Adolescencia\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Historia Psico-Sexual:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"historia_psico_sexual\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.historia_psico_sexual\" class=\"form-control\" placeholder=\"Historia Psico-Sexual\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Adultez:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"vida_social\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.vida_social\" class=\"form-control\" placeholder=\"Amigos, deportes, etc.\"></div></div></div></div></div><div class=\"col-xs-12\"><div class=\"panel panel-default\"><div class=\"panel-body ph0\"><div class=\"col-xs-12 mb12\"><strong>b) Personales patol\\xF3gicos:</strong></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Historia M\\xE9dica:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"historia_medica\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.historia_medica\" class=\"form-control\" placeholder=\"Diagn\\xF3stico, fecha y tratamiento\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Trastornos mentales:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"trastornos_familiares\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.trastornos_familiares\" class=\"form-control\" placeholder=\"Antecedentes\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Otros:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"otros\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_clinica.otros\" class=\"form-control\" placeholder=\"Escriba\"></div></div></div></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelHistoriaClinicaOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelHistoriaFamiliarOculto = !ctrl.panelHistoriaFamiliarOculto\"><strong>5. Historia familiar</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelHistoriaFamiliarOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelHistoriaFamiliarOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelHistoriaFamiliarOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><textarea ng-disabled=\"ctrl.disabled\" name=\"historia_familiar\" ng-model=\"ctrl.paciente.notas_psicologicas.historia_familiar\" class=\"form-control\" placeholder=\"Involucra vida familiar durante la infancia y/o adolescencia. Constituci\\xF3n de la familia; relaci\\xF3n conyugal de los padres, situaci\\xF3n sociocultural familiar.\">\\n                    </textarea></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelHistoriaFamiliarOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelExamenMentalOculto = !ctrl.panelExamenMentalOculto\"><strong>6. Examen mental o evaluaci\\xF3n semiol\\xF3gica</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelExamenMentalOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelExamenMentalOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelExamenMentalOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Apariencia:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"apariencia\" ng-model=\"ctrl.caso.notas.examen_mental.apariencia\" class=\"form-control\" placeholder=\"Apariencia\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Actitud:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"actitud\" ng-model=\"ctrl.caso.notas.examen_mental.actitud\" class=\"form-control\" placeholder=\"Cooperaci\\xF3n, desconfianza, seducci\\xF3n, hostilidad.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Conducta:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"conducta\" ng-model=\"ctrl.caso.notas.examen_mental.conducta\" class=\"form-control\" placeholder=\"Coordinaci\\xF3n, manierismos, gesticulaci\\xF3n, agitaci\\xF3n.\">\\n                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Lenguaje:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"lenguaje\" ng-model=\"ctrl.caso.notas.examen_mental.lenguaje\" class=\"form-control\" placeholder=\"Monoton\\xEDa, verborrea, neologismos, volumen.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Curso y contenido del pensamiento:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"curso_contenido_pensamiento\" ng-model=\"ctrl.caso.notas.examen_mental.curso_contenido_pensamiento\" class=\"form-control\" placeholder=\"Bloqueo, desilusiones, obsesiones, compulsiones, producci\\xF3n, continuidad.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Percepci\\xF3n:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"percepcion\" ng-model=\"ctrl.caso.notas.examen_mental.percepcion\" class=\"form-control\" placeholder=\"Alucinaciones, despersonalizaci\\xF3n, sentido de la realidad.\">\\n                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Humor:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"humor\" ng-model=\"ctrl.caso.notas.examen_mental.humor\" class=\"form-control\" placeholder=\"Feliz, expansivo, euf\\xF3rico, deprimido, triste, congruente.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Afecto:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"afecto\" ng-model=\"ctrl.caso.notas.examen_mental.afecto\" class=\"form-control\" placeholder=\"L\\xE1bil, plano, adecuado, deprimido, triste, congruente.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Inteligencia o informaci\\xF3n CI:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"inteligencia\" ng-model=\"ctrl.caso.notas.examen_mental.inteligencia\" class=\"form-control\" placeholder=\"Inteligencia o informaci\\xF3n CI\">\\n                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Orientaci\\xF3n:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"orientacion\" ng-model=\"ctrl.caso.notas.examen_mental.orientacion\" class=\"form-control\" placeholder=\"Tiempo, lugar, persona.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Memoria:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"memoria\" ng-model=\"ctrl.caso.notas.examen_mental.memoria\" class=\"form-control\" placeholder=\"Remota, pasada, reciente.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Control de impulsos:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"control_impulsos\" ng-model=\"ctrl.caso.notas.examen_mental.control_impulsos\" class=\"form-control\" placeholder=\"Control de impulsos.\">\\n                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Capacidad de juicio cr\\xEDtico y toma de decisiones:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"capacidad_juicio_critico\" ng-model=\"ctrl.caso.notas.examen_mental.capacidad_juicio_critico\" class=\"form-control\" placeholder=\"Capacidad de juicio cr\\xEDtico y toma de decisiones.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Capacidad de \"Insight\":</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"capacidad_insight\" ng-model=\"ctrl.caso.notas.examen_mental.capacidad_insight\" class=\"form-control\" placeholder=\"Introvisi\\xF3n.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Confiabilidad:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"confiabilidad\" ng-model=\"ctrl.caso.notas.examen_mental.confiabilidad\" class=\"form-control\" placeholder=\"Confiabilidad.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelExamenMentalOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelFuentesSecundariasOculto = !ctrl.panelFuentesSecundariasOculto\"><strong>7. Fuentes secundarias de informaci\\xF3n</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelFuentesSecundariasOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelFuentesSecundariasOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelFuentesSecundariasOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Informes m\\xE9dicos:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"informes_medicos\" ng-model=\"ctrl.caso.notas.fuentes_secundarias.informes_medicos\" class=\"form-control\" placeholder=\"Informes m\\xE9dicos.\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Test psicom\\xE9tricos e informe de resultados:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"test_psicometricos_informe_resultados\" ng-model=\"ctrl.caso.notas.fuentes_secundarias.test_psicometricos_informe_resultados\" class=\"form-control\" placeholder=\"Test psicom\\xE9tricos e informe de resultados.\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Test proyectivos interpretaci\\xF3n de resultados:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"test_proyectivos_interpretacion_resultados\" ng-model=\"ctrl.caso.notas.fuentes_secundarias.test_proyectivos_interpretacion_resultados\" class=\"form-control\" placeholder=\"Test proyectivos interpretaci\\xF3n de resultados.\">\\n                    </textarea></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelFuentesSecundariasOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelDiscernimientoDiagnosticoOculto = !ctrl.panelDiscernimientoDiagnosticoOculto\"><strong>8. Discernimiento para el diagn\\xF3stico</strong> <span class=\"f14 ml8\">(Criterios, diagn\\xF3sticos; semi\\xF3logico y psicodin\\xE1mico)</span> <span title=\"Contraer\" ng-if=\"!ctrl.panelDiscernimientoDiagnosticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelDiscernimientoDiagnosticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelDiscernimientoDiagnosticoOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Criterios para el diagn\\xF3stico:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"criterios_diagnostico\" ng-model=\"ctrl.caso.notas.discernimiento_diag.criterios_diagnostico\" class=\"form-control\" placeholder=\"Criterios para el diagn\\xF3stico.\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Diagn\\xF3stico semiol\\xF3gico:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"diagnostico_semiologico\" ng-model=\"ctrl.caso.notas.discernimiento_diag.diagnostico_semiologico\" class=\"form-control\" placeholder=\"Signos, gestos, actitudes.\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Diagn\\xF3stico psicodin\\xE1mico:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"diagnostico_psicodinamico\" ng-model=\"ctrl.caso.notas.discernimiento_diag.diagnostico_psicodinamico\" class=\"form-control\" placeholder=\"Distinguir lo hereditario y lo ambiental.\">\\n                    </textarea></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelDiscernimientoDiagnosticoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelObjetivoTerapeuticoOculto = !ctrl.panelObjetivoTerapeuticoOculto\"><strong>9. Objetivo terap\\xE9utico</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelObjetivoTerapeuticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelObjetivoTerapeuticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelObjetivoTerapeuticoOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>A corto plazo:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"corto_plazo\" ng-model=\"ctrl.caso.notas.objetivo_terapeutico.corto_plazo\" class=\"form-control\" placeholder=\"A corto plazo.\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>A mediano plazo:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"mediano_plazo\" ng-model=\"ctrl.caso.notas.objetivo_terapeutico.mediano_plazo\" class=\"form-control\" placeholder=\"A mediano plazo.\">\\n                    </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>A largo plazo:</label> <textarea ng-disabled=\"ctrl.disabled\" name=\"largo_plazo\" ng-model=\"ctrl.caso.notas.objetivo_terapeutico.largo_plazo\" class=\"form-control\" placeholder=\"A largo plazo.\">\\n                    </textarea></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelObjetivoTerapeuticoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelEvaluacionPronosticaOculto = !ctrl.panelEvaluacionPronosticaOculto\"><strong>10. Evaluaci\\xF3n pron\\xF3stica</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelEvaluacionPronosticaOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelEvaluacionPronosticaOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelEvaluacionPronosticaOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Bueno:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"bueno\" ng-model=\"ctrl.caso.notas.evaluacion_pronostica.bueno\" class=\"form-control\" placeholder=\"Bueno.\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Reservado:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"reservado\" ng-model=\"ctrl.caso.notas.evaluacion_pronostica.reservado\" class=\"form-control\" placeholder=\"Reservado.\"></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelEvaluacionPronosticaOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelGenogramaOculto = ctrl.showPanel(ctrl.panelGenogramaOculto)\"><strong>12. Genograma</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelGenogramaOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelGenogramaOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelGenogramaOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12\"><div class=\"text-center img-container\"><div ng-if=\"!ctrl.genograma\"><span class=\"fa fa-picture-o fa-5x\" style=\"font-size: 175px;\"></span></div><a href=\"\" ng-if=\"ctrl.genograma\" ng-click=\"ctrl.viewImg(ctrl.genograma)\"><img style=\"height: 250px; border-radius: 1%;\" ngf-src=\"ctrl.genograma\"></a></div><div class=\"text-center\"><label class=\"btn btn-default\" for=\"genogramInput\" style=\"cursor: pointer;\" ng-show=\"!ctrl.disabled\"><span class=\"fa fa-upload fa-fw\"></span> <strong>Subir genograma</strong></label> <input id=\"genogramInput\" style=\"opacity: 0; position: absolute; z-index: -1;\" class=\"form-control\" filestyle=\"\" type=\"file\" accept=\"image/*\" data-class-button=\"btn btn-default\" data-class-input=\"form-control\" data-button-text=\"Subir imagen\"></div></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelGenogramaOculto = ctrl.showPanel(ctrl.panelGenogramaOculto)\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.colaboradores.html','<div class=\"col-xs-12 col-sm-6 col-md-7 col-lg-7\" style=\"padding-bottom: 17px\"></div><div class=\"col-xs-12 col-sm-6 col-md-5 col-lg-5\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary\"><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th>Nombre</th><th>Tel\\xE9fono</th><th>M\\xF3vil</th><th>Profesi\\xF3n</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.colaboradores\"><td>{{ item.persona.persona || \"---\" }}</td><td>{{ item.persona.telefono || \"---\" }}</td><td>{{ item.persona.celular || \"---\" }}</td><td>{{ item.profesion.profesion || \"---\" }}</td><td><div class=\"btn-group\"><button wz-next=\"\" ng-click=\"ctrl.seleccionarColaborador(item)\" class=\"btn btn-primary\" title=\"Seleccionar\"><span class=\"fa fa-check\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.details.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Cita</strong></div><div class=\"panel-body\"><div class=\"row mt4\"><div class=\"col-xs-12\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Colaborador:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.colaborador.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Profesi\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.colaborador.profesion.profesion || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.colaborador.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"row mt4\"><div class=\"col-xs-12\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Paciente:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"row mt4\"><div class=\"col-xs-12\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.fecha_cita | date: \\'dd/MMMM/yyyy HH:mm\\' }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Estado:</strong></div><div class=\"mb2 ml8\"><strong style=\"color:#2E7D32;\" ng-if=\"!ctrl.cita.anulada\">Activa</strong> <strong style=\"color:#FE0000;\" ng-if=\"ctrl.cita.anulada\">Anulada</strong></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Descripci\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.cita.descripcion || \"---\" }}</span></div></div></div></div></div></div></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.fecha.html','<div class=\"row mt4\"><div class=\"col-xs-12\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Colaborador:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.colaborador.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Profesi\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.colaborador.profesion.profesion || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.colaborador.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"row mt4\"><div class=\"col-xs-12\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Paciente:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"row mh0 mt8 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Fecha (d\\xEDa, mes, a\\xF1o):</label><div class=\"row\"><div class=\"col-xs-3\"><select class=\"form-control\" name=\"dias\" ng-model=\"ctrl.fecha.dias\" ng-options=\"option.value for option in ctrl.dias track by option.id\"></select></div><div class=\"col-xs-5\"><select class=\"form-control\" name=\"meses\" ng-model=\"ctrl.fecha.meses\" ng-options=\"option.value for option in ctrl.meses track by option.id\"></select></div><div class=\"col-xs-4\"><select class=\"form-control\" name=\"anios\" ng-model=\"ctrl.fecha.anios\" ng-options=\"option.value for option in ctrl.anios track by option.id\"></select></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-offset-2 col-md-4\"><label>Horas y minutos:</label><div class=\"row\"><div class=\"col-xs-6\"><select class=\"form-control\" name=\"hora\" ng-model=\"ctrl.fecha.hora\" ng-options=\"option.value for option in ctrl.horas track by option.id\"></select></div><div class=\"col-xs-6\"><select class=\"form-control\" name=\"minuto\" ng-model=\"ctrl.fecha.minuto\" ng-options=\"option.value for option in ctrl.minutos track by option.id\"></select></div></div></div></div><div class=\"row mh0 mt8 form-group\"><div class=\"col-xs-12\"><label>Descripci\\xF3n:</label> <textarea rows=\"3\" ng-model=\"ctrl.descripcion\" class=\"form-control\" placeholder=\"Escriba una descripci\\xF3n\"></textarea></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.grid.pacientes.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Reservar cita</strong></div><div class=\"panel-body\" style=\"padding: 0;\"><wizard indicators-position=\"top\" name=\"wizard\"><wz-step wz-title=\"COLABORADOR\" wz-order=\"1\"><div class=\"div-wizard\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.colaboradores.html\\'\"></div></div></wz-step><wz-step wz-title=\"FECHA\" wz-order=\"3\"><div class=\"div-wizard\"><div class=\"col-xs-12\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.fecha.html\\'\"></div><div class=\"col-xs-6 text-left mb16 mt8\"><button wz-previous=\"\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-arrow-left\"></span> <strong>Volver</strong></button></div><div class=\"col-xs-6 text-right mb16 mt8\"><button ng-click=\"ctrl.save()\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-check\"></span> <strong>Reservar cita</strong></button></div></div></div></wz-step></wizard></div></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.grid.pacientes.users.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Reservar cita</strong></div><div class=\"panel-body\" style=\"padding: 0;\"><div class=\"div-wizard\"><div class=\"col-xs-12\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.fecha.html\\'\"></div><div class=\"col-xs-6 text-left mb16 mt8\"></div><div class=\"col-xs-6 text-right mb16 mt8\"><button ng-click=\"ctrl.save()\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-check\"></span> <strong>Reservar cita</strong></button></div></div></div></div></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Reservar cita</strong></div><div class=\"panel-body\" style=\"padding: 0;\"><wizard indicators-position=\"top\" name=\"wizard\"><wz-step wz-title=\"COLABORADOR\" wz-order=\"1\"><div class=\"div-wizard\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.colaboradores.html\\'\"></div></div></wz-step><wz-step wz-title=\"PACIENTE\" wz-order=\"2\"><div class=\"div-wizard col-xs-12\"><uib-tabset active=\"active\"><uib-tab index=\"0\" heading=\"Buscar paciente\"><div class=\"row\" ng-include=\"\\'app/pages/citas/templates/citas.dialog.pacientes.html\\'\"></div></uib-tab><uib-tab ng-click=\"ctrl.resetPaciente()\" index=\"1\" heading=\"Nuevo paciente\"><div class=\"row\"><div class=\"col-xs-12\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.pac.form.html\\'\"></div><div class=\"col-xs-6 text-left mt8\"><button wz-previous=\"\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-arrow-left\"></span> <strong>Volver</strong></button></div><div class=\"col-xs-6 text-right mt8\"><button ng-disabled=\"!ctrl.paciente.persona.persona\" wz-next=\"\" ng-click=\"ctrl.seleccionarPaciente()\" class=\"btn btn-primary\"><strong>Siguiente</strong> <span class=\"fa fa-fw fa-arrow-right\"></span></button></div></div></div></uib-tab></uib-tabset></div></wz-step><wz-step wz-title=\"FECHA\" wz-order=\"3\"><div class=\"div-wizard\"><div class=\"col-xs-12\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.fecha.html\\'\"></div><div class=\"col-xs-6 text-left mb16 mt8\"><button wz-previous=\"\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-arrow-left\"></span> <strong>Volver</strong></button></div><div class=\"col-xs-6 text-right mb16 mt8\"><button ng-click=\"ctrl.save()\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-check\"></span> <strong>Reservar cita</strong></button></div></div></div></wz-step></wizard></div></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.pac.form.html','<div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Nombre completo:</label><span class=\"text-danger field-required\">*</span> <input type=\"text\" autofocus=\"\" name=\"persona\" ng-model=\"ctrl.paciente.persona.persona\" class=\"form-control\" placeholder=\"Nombre completo\" required=\"\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>No. de DPI (CUI):</label> <input type=\"text\" name=\"cui\" ng-model=\"ctrl.paciente.persona.cui\" class=\"form-control\" ui-mask=\"9999-99999-9999\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Tel\\xE9fono:</label> <input type=\"text\" name=\"telefono\" ng-model=\"ctrl.paciente.persona.telefono\" class=\"form-control\" ui-mask=\"9999-9999\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>M\\xF3vil:</label> <input type=\"text\" name=\"celular\" ng-model=\"ctrl.paciente.persona.celular\" class=\"form-control\" ui-mask=\"9999-9999\"></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.pacientes.html','<div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-7\" style=\"padding-bottom: 17px\"></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-5\"><form autocomplete=\"off\" ng-submit=\"ctrl.searchPac()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.paginationPac.search\" ng-change=\"ctrl.searchPac()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div><div class=\"col-xs-12\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loadingPac\"></mi-loader><div class=\"panel panel-primary\"><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th>Nombre</th><th>CUI</th><th>Tel\\xE9fono</th><th>M\\xF3vil</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.pacientes\"><td>{{ item.persona.persona }}</td><td>{{ item.persona.cui }}</td><td>{{ item.persona.telefono || \"---\" }}</td><td>{{ item.persona.celular || \"---\" }}</td><td><div class=\"btn-group\"><button wz-next=\"\" ng-click=\"ctrl.seleccionarPaciente(item)\" class=\"btn btn-primary\" title=\"Seleccionar\"><span class=\"fa fa-check\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.paginationPac.total_items\" ng-model=\"ctrl.paginationPac.current_page\" max-size=\"ctrl.paginationPac.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed_pac()\"></div></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.dialog.users.html','<div class=\"row\" style=\"font-size: 14px; margin-top: 24px;\"><div class=\"col-md-12\"><div class=\"panel panel-primary\"><div class=\"panel-heading\"><strong>Reservar cita</strong></div><div class=\"panel-body\" style=\"padding: 0;\"><wizard indicators-position=\"top\" name=\"wizard\"><wz-step wz-title=\"PACIENTE\" wz-order=\"1\"><div class=\"div-wizard col-xs-12\"><uib-tabset active=\"active\"><uib-tab index=\"0\" heading=\"Buscar paciente\"><div class=\"row\" ng-include=\"\\'app/pages/citas/templates/citas.dialog.pacientes.html\\'\"></div></uib-tab><uib-tab ng-click=\"ctrl.resetPaciente()\" index=\"1\" heading=\"Nuevo paciente\"><div class=\"row\"><div class=\"col-xs-12\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.pac.form.html\\'\"></div><div class=\"col-xs-6 text-left mt8\"></div><div class=\"col-xs-6 text-right mt8\"><button ng-disabled=\"!ctrl.paciente.persona.persona\" wz-next=\"\" ng-click=\"ctrl.seleccionarPaciente()\" class=\"btn btn-primary\"><strong>Siguiente</strong> <span class=\"fa fa-fw fa-arrow-right\"></span></button></div></div></div></uib-tab></uib-tabset></div></wz-step><wz-step wz-title=\"FECHA\" wz-order=\"2\"><div class=\"div-wizard\"><div class=\"col-xs-12\"><div ng-include=\"\\'app/pages/citas/templates/citas.dialog.fecha.html\\'\"></div><div class=\"col-xs-6 text-left mb16 mt8\"><button wz-previous=\"\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-arrow-left\"></span> <strong>Volver</strong></button></div><div class=\"col-xs-6 text-right mb16 mt8\"><button ng-click=\"ctrl.save()\" class=\"btn btn-primary\"><span class=\"fa fa-fw fa-check\"></span> <strong>Reservar cita</strong></button></div></div></div></wz-step></wizard></div></div></div></div>');\n$templateCache.put('app/pages/citas/templates/citas.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"CitasController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ng-click=\"ctrl.create()\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Reservar cita</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"panel panel-default mb12\"><div class=\"panel-body\"><div class=\"input-demo radio-demo row\"><span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.anulada\" ng-change=\"ctrl.search()\" ng-value=\"null\"> <span>Todas</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.anulada\" ng-change=\"ctrl.search()\" ng-value=\"false\"> <span>Activas</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.anulada\" ng-change=\"ctrl.search()\" ng-value=\"true\"> <span>Anuladas</span></label></span></div></div></div><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"background-color: #202C3A;\" class=\"text-center text-default2\" colspan=\"3\"><span>Colaborador</span></th><th style=\"background-color: #1D2531;\" class=\"text-center text-default2\" colspan=\"2\"><span>Paciente</span></th><th style=\"background-color: #202C3A;\" class=\"text-center text-default2\" colspan=\"4\"><span>Cita</span></th></tr><tr><th style=\"min-width:220px;\">Nombre</th><th>M\\xF3vil</th><th>Profesi\\xF3n</th><th style=\"min-width:220px;\">Nombre</th><th>M\\xF3vil</th><th style=\"min-width:144px;\">Fecha y hora</th><th>Estado</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.colaborador.persona.persona }}</td><td>{{ item.colaborador.persona.celular || \"---\" }}</td><td>{{ item.colaborador.profesion.profesion || \"---\" }}</td><td>{{ item.paciente.persona.persona }}</td><td>{{ item.paciente.persona.celular || \"---\" }}</td><td>{{ item.fecha_cita | date: \\'dd/MMM/yyyy HH:mm\\' }}</td><td><span style=\"color:#2E7D32;\" title=\"Activa\" ng-if=\"!item.anulada\" class=\"icon-grid fa fa-fw fa-lg fa-check-circle\"></span> <span style=\"color:#FE0000;\" title=\"Anulada\" ng-if=\"item.anulada\" class=\"icon-grid fa fa-fw fa-lg fa-times-circle\"></span></td><td style=\"width:141px;\"><div class=\"btn-group\"><button class=\"btn btn-primary\" title=\"Detalles\" ng-click=\"ctrl.details(item)\"><span class=\"fa fa-bars\"></span></button> <button ng-if=\"!item.anulada\" class=\"btn btn-danger\" title=\"Anular\" ng-click=\"ctrl.delete(item)\"><span class=\"fa fa-ban\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/consultas/templates/archivos.consulta.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ArchivosConsultaController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><label class=\"btn btn-primary\" style=\"background-color: #125587;\" for=\"fileInput\"><span class=\"fa fa-upload fa-fw\"></span> <strong>Adjuntar archivo</strong></label> <input id=\"fileInput\" style=\"opacity: 0; position: absolute; z-index: -1;\" class=\"form-control\" filestyle=\"\" type=\"file\" data-class-button=\"btn btn-default\" data-class-input=\"form-control\" data-button-text=\"Adjuntar archivo\"></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body rel\" style=\"min-height: 400px;\"><div class=\"text-center\" style=\"margin-top: 36px;\" ng-if=\"!ctrl.loading && !ctrl.array.length\"><i class=\"mdi mdi-file-multiple icon-empty\"></i><h2>No hay archivos</h2><h5>Puedes adjuntar cualquier tipo de archivo para esta consulta.</h5><label class=\"btn btn-primary\" style=\"background-color: #125587;\" for=\"fileInput\"><span class=\"mdi mdi-cloud-upload mdi-18px\" style=\"padding: 0 4px;\"></span> <strong>Adjunta un archivo ahora</strong></label></div><div class=\"row\" ng-if=\"ctrl.array.length >= 0\"><div class=\"col-xs-12 col-sm-6 col-md-2\" ng-repeat=\"item in ctrl.array track by $index\"><div title=\"{{ item.name }}\" ng-click=\"ctrl.viewFile(item)\" class=\"rel div-file panel-file text-center\"><div class=\"button-close-file\" title=\"Eliminar\" ng-click=\"ctrl.delete(item);$event.stopPropagation()\"><span class=\"fa fa-trash fa-fw fa-lg\"></span></div><i ng-if=\"item.type != \\'image\\'\" class=\"{{ item.icon }} custom-icon-file\"></i> <img class=\"image-file\" ng-if=\"item.type == \\'image\\'\" ngf-src=\"item.archivo\"> <span class=\"text-file\">{{ item.name }}</span></div></div></div></div></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/consultas/templates/consultas.create.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ConsultaCreateController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\"><strong>1. Informaci\\xF3n personal del paciente</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-show=\"ctrl.panelPacienteOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPacienteOculto\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div><div ng-include=\"\\'app/pages/consultas/templates/form.html\\'\"></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"consultas()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/consultas/templates/consultas.edit.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ConsultaEditController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\"><strong>1. Informaci\\xF3n personal del paciente</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-show=\"ctrl.panelPacienteOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPacienteOculto\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div><div ng-include=\"\\'app/pages/consultas/templates/form.html\\'\"></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"consultas()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/consultas/templates/consultas.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ConsultaController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ui-sref=\"consultas_create()\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Registrar consulta para un nuevo paciente</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"background-color: #1D2531;\" class=\"text-center text-default2\" colspan=\"3\"><span>Paciente</span></th><th style=\"background-color: #202C3A;\" class=\"text-center text-default2\" colspan=\"2\"><span>Consulta</span></th></tr><tr><th style=\"min-width:144px;\">Fecha</th><th style=\"min-width:220px;\">Nombre</th><th>M\\xF3vil</th><th>Motivo</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.fecha_creacion | date: \\'dd/MMM/yyyy\\' }}</td><td>{{ item.paciente.persona.persona }}</td><td>{{ item.paciente.persona.celular || \"---\" }}</td><td>{{ item.motivo || \"---\" }}</td><td style=\"width:220px;\"><div class=\"btn-group\"><a href=\"/api/consultas/pdf_expediente/?id={{ item.id }}\" target=\"_blank\" class=\"btn btn-danger\" title=\"Descargar expediente en PDF\"><span class=\"fa fa-download\"></span></a> <a href=\"/api/consultas/pdf_tratamiento/?id={{ item.id }}\" target=\"_blank\" class=\"btn btn-info\" title=\"Imprimir tratamiento\"><span class=\"fa fa-print\"></span></a> <button class=\"btn btn-success\" title=\"Ver reconsultas\" ui-sref=\"reconsultas({ id: item.id })\"><span class=\"fa fa-list-ul\"></span></button> <button class=\"btn btn-primary\" title=\"Ver archivos adjuntos\" ui-sref=\"archivos_consulta({ id: item.id })\"><span class=\"mdi mdi-file-multiple\"></span></button> <button class=\"btn btn-warning\" title=\"Ver consulta\" ui-sref=\"consultas_edit({ id: item.id })\"><span class=\"fa fa-arrow-right\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/consultas/templates/form.html','<div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelMotivoOculto = !ctrl.panelMotivoOculto\"><strong>2. Motivo de la consulta</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelMotivoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelMotivoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelMotivoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>a) Con las propias palabras del informante:</label><span class=\"text-danger field-required\">*</span> <textarea id=\"motivo\" name=\"motivo\" ng-model=\"ctrl.consulta.motivo\" class=\"form-control\" placeholder=\"Con las propias palabras del informante\" required=\"\">\\n                        </textarea> <span ng-show=\"ctrl.form.motivo.$dirty && ctrl.form.motivo.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>b) Historia de la enfermedad actual:</label> <textarea id=\"historia\" name=\"historia\" ng-model=\"ctrl.consulta.notas.historia\" class=\"form-control\" placeholder=\"Historia de la enfermedad actual.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelMotivoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelAntecedentesOculto = !ctrl.panelAntecedentesOculto\"><strong>3. Antecedentes</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelAntecedentesOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelAntecedentesOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelAntecedentesOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>M\\xE9dicos:</label> <textarea id=\"medicos\" name=\"medicos\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.medicos\" class=\"form-control\" placeholder=\"Antecedentes m\\xE9dicos.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Quir\\xFArgicos:</label> <textarea id=\"quirurgicos\" name=\"quirurgicos\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.quirurgicos\" class=\"form-control\" placeholder=\"Antecedentes quir\\xFArgicos.\">\\n                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Traum\\xE1ticos:</label> <textarea id=\"traumaticos\" name=\"traumaticos\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.traumaticos\" class=\"form-control\" placeholder=\"Antecedentes traum\\xE1ticos.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Al\\xE9rgicos:</label> <textarea id=\"alergicos\" name=\"alergicos\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.alergicos\" class=\"form-control\" placeholder=\"Antecedentes al\\xE9rgicos.\">\\n                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Vicios y man\\xEDas:</label> <textarea id=\"vicios\" name=\"vicios\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.vicios\" class=\"form-control\" placeholder=\"Vicios y man\\xEDas.\">\\n                        </textarea></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Pedi\\xE1tricos:</label> <textarea id=\"pediatricos\" name=\"pediatricos\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.pediatricos\" class=\"form-control\" placeholder=\"Antecedentes pedi\\xE1tricos.\">\\n                        </textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>Familiares:</label> <textarea id=\"familiares\" name=\"familiares\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.familiares\" class=\"form-control\" placeholder=\"Antecedentes familiares.\">\\n                        </textarea></div></div><div class=\"col-xs-12\"><div class=\"panel panel-default\"><div class=\"panel-heading\"><strong>Antecedentes ginecol\\xF3gicos</strong></div><div class=\"panel-body row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>FUR:</label> <input type=\"text\" id=\"fur\" name=\"fur\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.ginecologicos.fur\" class=\"form-control\" placeholder=\"FUR.\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Gestas:</label> <input type=\"number\" id=\"gestas\" name=\"gestas\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.ginecologicos.gestas\" class=\"form-control\" placeholder=\"Gestas.\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Partos:</label> <input type=\"number\" id=\"partos\" name=\"partos\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.ginecologicos.partos\" class=\"form-control\" placeholder=\"Partos.\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Abortos:</label> <input type=\"number\" id=\"abortos\" name=\"abortos\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.ginecologicos.abortos\" class=\"form-control\" placeholder=\"Abortos.\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>PF:</label> <input type=\"text\" id=\"pf\" name=\"pf\" ng-model=\"ctrl.paciente.notas_medicas.notas.antecedentes.ginecologicos.pf\" class=\"form-control\" placeholder=\"PF.\"></div></div></div></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelAntecedentesOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelExamenFisicoOculto = !ctrl.panelExamenFisicoOculto\"><strong>4. Examen f\\xEDsico</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelExamenFisicoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelExamenFisicoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelExamenFisicoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>Examen f\\xEDsico:</label> <textarea id=\"examen_fisico\" name=\"examen_fisico\" ng-model=\"ctrl.consulta.notas.examen_fisico\" class=\"form-control\" placeholder=\"Examen f\\xEDsico.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelExamenFisicoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPlanDiagnosticoOculto = !ctrl.panelPlanDiagnosticoOculto\"><strong>5. Plan diagn\\xF3stico</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPlanDiagnosticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPlanDiagnosticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPlanDiagnosticoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>Plan diagn\\xF3stico:</label> <textarea id=\"plan_diagnostico\" name=\"plan_diagnostico\" ng-model=\"ctrl.consulta.notas.plan_diagnostico\" class=\"form-control\" placeholder=\"Plan diagn\\xF3stico.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPlanDiagnosticoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelImpresionClinicaOculto = !ctrl.panelImpresionClinicaOculto\"><strong>6. Impresi\\xF3n cl\\xEDnica</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelImpresionClinicaOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelImpresionClinicaOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelImpresionClinicaOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>Impresi\\xF3n cl\\xEDnica:</label> <textarea id=\"impresion_clinica\" name=\"impresion_clinica\" ng-model=\"ctrl.consulta.notas.impresion_clinica\" class=\"form-control\" placeholder=\"Impresi\\xF3n cl\\xEDnica.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelImpresionClinicaOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelTratamientoOculto = !ctrl.panelTratamientoOculto\"><strong>7. Tratamiento</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelTratamientoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelTratamientoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelTratamientoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><text-angular id=\"tratamiento\" name=\"tratamiento\" ng-model=\"ctrl.consulta.notas.tratamiento\"></text-angular></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelTratamientoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div>');\n$templateCache.put('app/pages/consultas/templates/form.reconsultas.html','<div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelMotivoOculto = !ctrl.panelMotivoOculto\"><strong>2. Motivo de la reconsulta</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelMotivoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelMotivoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelMotivoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>a) Con las propias palabras del informante:</label><span class=\"text-danger field-required\">*</span> <textarea id=\"motivo\" name=\"motivo\" ng-model=\"ctrl.reconsulta.motivo\" class=\"form-control\" placeholder=\"Con las propias palabras del informante\" required=\"\">\\n                        </textarea> <span ng-show=\"ctrl.form.motivo.$dirty && ctrl.form.motivo.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>b) Historia de la enfermedad actual:</label> <textarea id=\"historia\" name=\"historia\" ng-model=\"ctrl.reconsulta.notas.historia\" class=\"form-control\" placeholder=\"Historia de la enfermedad actual.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelMotivoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelExamenFisicoOculto = !ctrl.panelExamenFisicoOculto\"><strong>2. Examen f\\xEDsico</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelExamenFisicoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelExamenFisicoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelExamenFisicoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>Examen f\\xEDsico:</label> <textarea id=\"examen_fisico\" name=\"examen_fisico\" ng-model=\"ctrl.reconsulta.notas.examen_fisico\" class=\"form-control\" placeholder=\"Examen f\\xEDsico.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelExamenFisicoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPlanDiagnosticoOculto = !ctrl.panelPlanDiagnosticoOculto\"><strong>3. Plan diagn\\xF3stico</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPlanDiagnosticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPlanDiagnosticoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPlanDiagnosticoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>Plan diagn\\xF3stico:</label> <textarea id=\"plan_diagnostico\" name=\"plan_diagnostico\" ng-model=\"ctrl.reconsulta.notas.plan_diagnostico\" class=\"form-control\" placeholder=\"Plan diagn\\xF3stico.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPlanDiagnosticoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelImpresionClinicaOculto = !ctrl.panelImpresionClinicaOculto\"><strong>4. Impresi\\xF3n cl\\xEDnica</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelImpresionClinicaOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelImpresionClinicaOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelImpresionClinicaOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><label>Impresi\\xF3n cl\\xEDnica:</label> <textarea id=\"impresion_clinica\" name=\"impresion_clinica\" ng-model=\"ctrl.reconsulta.notas.impresion_clinica\" class=\"form-control\" placeholder=\"Impresi\\xF3n cl\\xEDnica.\">\\n                        </textarea></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelImpresionClinicaOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelTratamientoOculto = !ctrl.panelTratamientoOculto\"><strong>5. Tratamiento</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelTratamientoOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelTratamientoOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-if=\"!ctrl.panelTratamientoOculto\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><text-angular id=\"tratamiento\" name=\"tratamiento\" ng-model=\"ctrl.reconsulta.notas.tratamiento\"></text-angular></div></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelTratamientoOculto = true\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div></div>');\n$templateCache.put('app/pages/consultas/templates/reconsultas.create.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ReconsultaCreateController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\"><strong>1. Informaci\\xF3n personal del paciente</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-show=\"ctrl.panelPacienteOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPacienteOculto\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div><div ng-include=\"\\'app/pages/consultas/templates/form.reconsultas.html\\'\"></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"consultas()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/consultas/templates/reconsultas.edit.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ReconsultaEditController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body\"><div class=\"panel panel-primary\"><div class=\"panel-heading secondary-btn\" ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\"><strong>1. Informaci\\xF3n personal del paciente</strong> <span title=\"Contraer\" ng-if=\"!ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-up\"></span> <span title=\"Expandir\" ng-if=\"ctrl.panelPacienteOculto\" class=\"right fa fa-fw fa-lg fa-angle-down\"></span></div><div class=\"panel-body\" ng-show=\"ctrl.panelPacienteOculto\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div></div></div></div><div class=\"panel-body\" ng-if=\"!ctrl.panelPacienteOculto\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div><div class=\"col-xs-12 text-center\"><span ng-click=\"ctrl.panelPacienteOculto = ctrl.showPanel(ctrl.panelPacienteOculto)\" class=\"secondary-btn fa fa-fw fa-3x fa-angle-up\" title=\"Contraer\"></span></div></div></div></div><div ng-include=\"\\'app/pages/consultas/templates/form.reconsultas.html\\'\"></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"consultas()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Guardar</strong></button></div></div></form></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/consultas/templates/reconsultas.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ReconsultaController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading_item\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Vista previa de la consulta</strong> <span class=\"rel pl16\"><button style=\"position: absolute; top: -3px; padding: 3px 10px;\" ui-sref=\"consultas_edit({ id: ctrl.consulta.id })\" class=\"btn btn-success btn-sm\" type=\"button\"><strong>Ver consulta completa</strong> <span class=\"fa fa-fw fa-arrow-right\"></span></button></span></div><div class=\"panel-body\"><div class=\"row\"><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.consulta.paciente.persona.persona || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.consulta.paciente.persona.cui || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Movil:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.consulta.paciente.persona.celular || \"---\" }}</span></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-12\"><div class=\"area-info\"><div class=\"mb2\"><strong>Motivo de la consulta:</strong></div><div class=\"mb6 mt10 ml8\"><span>{{ ctrl.consulta.motivo || \"---\" }}</span></div></div></div></div></div></div></div></div></div><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ng-disabled=\"!ctrl.consulta.id\" ui-sref=\"reconsultas_create({ id: ctrl.consulta.id })\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Nueva reconsulta</strong></button> <button class=\"btn btn-danger\" ng-click=\"ctrl.createCita()\" ng-disabled=\"!ctrl.consulta.id\"><span class=\"fa fa-fw fa-clock-o\"></span> <strong>Reservar cita</strong></button> <button class=\"btn btn-primary\" ui-sref=\"archivos_consulta({ id: ctrl.consulta.id })\" ng-disabled=\"!ctrl.consulta.id\"><span class=\"mdi mdi-file-multiple\"></span> <strong>Archivos adjuntos</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"background-color: #1D2531;\" class=\"text-center text-default2\" colspan=\"3\"><span>Paciente</span></th><th style=\"background-color: #202C3A;\" class=\"text-center text-default2\" colspan=\"2\"><span>Consulta</span></th></tr><tr><th style=\"min-width:144px;\">Fecha</th><th style=\"min-width:220px;\">Nombre</th><th>M\\xF3vil</th><th>Motivo</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.fecha_creacion | date: \\'dd/MMM/yyyy\\' }}</td><td>{{ item.consulta.paciente.persona.persona }}</td><td>{{ item.consulta.paciente.persona.celular || \"---\" }}</td><td>{{ item.motivo || \"---\" }}</td><td style=\"width:140px;\"><div class=\"btn-group\"><a href=\"/api/reconsultas/pdf_expediente/?id={{ item.id }}\" target=\"_blank\" class=\"btn btn-danger\" title=\"Descargar reconsulta en PDF\"><span class=\"fa fa-download\"></span></a> <a href=\"/api/reconsultas/pdf_tratamiento/?id={{ item.id }}\" target=\"_blank\" class=\"btn btn-info\" title=\"Imprimir tratamiento\"><span class=\"fa fa-print\"></span></a> <button class=\"btn btn-warning\" title=\"Ver reconsulta\" ui-sref=\"reconsultas_edit({ id: item.id })\"><span class=\"fa fa-arrow-right\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/pacientes/templates/cobros.create.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12 text-center\"><h2><strong>Registrar cobro</strong></h2></div><div class=\"col-xs-12\"><form autocomplete=\"off\" name=\"ctrl.form\" novalidate=\"\" ng-submit=\"ctrl.save()\"><div class=\"form-group\"><label>Monto:</label> <span class=\"text-danger field-required\">*</span><div class=\"input-group\"><span class=\"input-group-addon addon-left input-group-addon-success\">Q</span> <input class=\"form-control with-success-addon\" type=\"number\" placeholder=\"0.00\" autofocus=\"\" step=\"1\" min=\"0\" ng-model=\"ctrl.cobro.monto\"></div></div><div class=\"form-group\"><label>Motivo:</label> <span class=\"text-danger field-required\">*</span> <textarea class=\"form-control\" placeholder=\"Motivo del cobro\" name=\"motivo\" ng-model=\"ctrl.cobro.motivo\">\\n                    </textarea></div><div class=\"text-center\"><button class=\"btn btn-danger\" type=\"button\" ng-click=\"closeThisDialog()\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Guardar</strong></button></div></form></div></div></div>');\n$templateCache.put('app/pages/pacientes/templates/cobros.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"CobrosPacienteController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"rel\"><div class=\"panel popular-app animated zoomIn\"><div class=\"popular-app-cost row\"><div class=\"col-xs-6 col-md-2\">Paciente:</div><div class=\"col-xs-6 col-md-4\"><a ui-sref=\"pacientes_edit({ id: ctrl.paciente.id })\" ng-if=\"ctrl.paciente.id\"><strong class=\"text-info\">{{ ctrl.paciente.persona.persona || \"---\" }}</strong></a> <strong ng-if=\"!ctrl.paciente.id\">---</strong></div><div class=\"col-xs-6 col-md-4 text-right\" ng-if=\"esAdmin || esSecretaria\">Saldo actual:</div><div class=\"col-xs-6 col-md-2 text-right\" ng-if=\"esAdmin || esSecretaria\"><strong>{{ (ctrl.paciente.saldo || 0) | currency: \"Q \" : 2 }}</strong></div></div></div></div></div></div><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-money\" ng-click=\"ctrl.registrarAbono()\" ng-disabled=\"ctrl.loading\" ng-if=\"esAdmin || esSecretaria\"><span class=\"fa fa-fw fa-money\"></span> <strong>Registrar abono</strong></button> <button class=\"btn btn-danger\" ng-click=\"ctrl.registrarCobro()\" ng-disabled=\"ctrl.loading\"><span class=\"fa fa-fw fa-money\"></span> <strong>Registrar cobro</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"panel panel-default mb12\"><div class=\"panel-body\"><div class=\"input-demo radio-demo row\"><span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.filterby\" ng-change=\"ctrl.search()\" ng-value=\"ctrl.query.pendientes\"> <span>Pendientes</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.filterby\" ng-change=\"ctrl.search()\" ng-value=\"ctrl.query.pagados\"> <span>Pagados</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.filterby\" ng-change=\"ctrl.search()\" ng-value=\"ctrl.query.anulados\"> <span>Anulados</span></label></span> <span style=\"margin-right: 16px;\"><label class=\"radio-inline custom-radio nowrap\"><input type=\"radio\" ng-model=\"ctrl.query.filterby\" ng-change=\"ctrl.search()\" ng-value=\"ctrl.query.todas\"> <span>Todos</span></label></span></div></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Listado de abonos y cobros asociados al paciente</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th style=\"width:150px;\">Fecha y hora</th><th>Colaborador</th><th style=\"min-width:220px;\">Motivo</th><th style=\"width:120px;\">Tipo</th><th class=\"text-left\" style=\"width:120px;\">Monto</th><th style=\"width:120px;\">Estado</th><th class=\"text-right\">Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.fecha_creacion | date: \"dd/MMMM/yyyy HH:mm\" }}</td><td>{{ item.colaborador.persona.persona || \"---\" }}</td><td>{{ item.motivo || \"---\" }}</td><td><strong class=\"text-danger\" ng-if=\"item.tipo == 10\">COBRO</strong> <strong class=\"text-success\" ng-if=\"item.tipo == 20\">ABONO</strong></td><td class=\"text-left\"><strong>{{ item.monto | currency: \"Q \" : 2 }}</strong></td><td><strong class=\"text-success\" ng-if=\"item.pagado\">PAGADO</strong><strong class=\"text-warning\" ng-if=\"!item.pagado && !item.anulado\">PENDIENTE DE PAGO</strong> <strong class=\"text-danger\" ng-if=\"item.anulado\">ANULADO</strong></td><td class=\"text-right\" style=\"width:140px; text-align: right !important;\"><div class=\"btn-group\"><button class=\"btn btn-money\" ng-click=\"ctrl.realizarCobro(item)\" title=\"Realizar cobro\" ng-if=\"(esAdmin || esSecretaria) && (item.tipo == 10)\" ng-disabled=\"item.anulado || item.pagado || !user.id\"><span class=\"fa fa-money\"></span></button> <button class=\"btn btn-danger\" ng-click=\"ctrl.anularCobro(item)\" title=\"Anular\" ng-disabled=\"item.anulado || item.pagado\"><span class=\"fa fa-ban\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/pacientes/templates/form.html','<div class=\"row mh0 form-group\"><div class=\"col-xs-12\"><label>Foto:</label><div class=\"text-center img-container\"><div ng-if=\"!ctrl.paciente.persona.foto\"><span class=\"fa fa-user-circle-o fa-5x\" style=\"font-size: 100px;\"></span></div><a href=\"\" ng-if=\"ctrl.paciente.persona.foto\" ng-click=\"ctrl.viewImg()\"><img style=\"height: 150px; border-radius: 4%;\" ngf-src=\"ctrl.paciente.persona.foto\"></a></div><div class=\"text-center\"><label class=\"btn btn-default\" for=\"imageInput\" style=\"cursor: pointer;\" ng-show=\"!ctrl.disabled\"><span class=\"fa fa-upload fa-fw\"></span> <strong>Subir foto</strong></label> <input id=\"imageInput\" style=\"opacity: 0; position: absolute; z-index: -1;\" class=\"form-control\" filestyle=\"\" type=\"file\" accept=\"image/*\" data-class-button=\"btn btn-default\" data-class-input=\"form-control\" data-button-text=\"Subir imagen\"></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Nombre completo:</label><span class=\"text-danger field-required\">*</span> <input ng-disabled=\"ctrl.disabled\" type=\"text\" autofocus=\"\" id=\"persona\" name=\"persona\" ng-model=\"ctrl.paciente.persona.persona\" class=\"form-control\" placeholder=\"Nombre completo\" required=\"\"> <span ng-show=\"ctrl.form.persona.$dirty && ctrl.form.persona.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Apellido de casada:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"apellido_casada\" ng-model=\"ctrl.paciente.persona.apellido_casada\" class=\"form-control\" placeholder=\"Apellido de casada\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>No. de DPI (CUI):</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"cui\" ng-model=\"ctrl.paciente.persona.cui\" class=\"form-control\" ui-mask=\"9999-99999-9999\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Tel\\xE9fono:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"telefono\" ng-model=\"ctrl.paciente.persona.telefono\" class=\"form-control\" ui-mask=\"9999-9999\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>M\\xF3vil:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"celular\" ng-model=\"ctrl.paciente.persona.celular\" class=\"form-control\" ui-mask=\"9999-9999\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Correo electr\\xF3nico:</label> <input ng-disabled=\"ctrl.disabled\" type=\"email\" name=\"email\" ng-model=\"ctrl.paciente.persona.correo\" class=\"form-control\" placeholder=\"mail@ejemplo.com\"> <span class=\"text-danger\" ng-show=\"ctrl.form.email.$dirty && ctrl.form.email.$error.email\">Debes ingresar un email v\\xE1lido</span></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Nacionalidad:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"nacionalidad\" ng-model=\"ctrl.paciente.persona.nacionalidad\" class=\"form-control\" placeholder=\"Nacionalidad\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Departamento:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"departamento\" ng-model=\"ctrl.paciente.persona.departamento\" class=\"form-control\" placeholder=\"Escribe el departamento\" uib-typeahead=\"departamentos as departamentos.name for departamentos in ctrl.getDepartamentos($viewValue, item) | limitTo : 10\" typeahead-min-length=\"1\" typeahead-no-results=\"noResults\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Direcci\\xF3n:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"direccion\" ng-model=\"ctrl.paciente.persona.direccion\" class=\"form-control\" placeholder=\"Direcci\\xF3n\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Lugar de nacimiento:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"lugar_nacimiento\" ng-model=\"ctrl.paciente.lugar_nacimiento\" class=\"form-control\" placeholder=\"Lugar de nacimiento\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Fecha de nacimiento:</label><div class=\"row\"><div class=\"col-xs-3\"><select ng-disabled=\"ctrl.disabled\" class=\"form-control\" name=\"dias\" ng-model=\"ctrl.nacimiento.dias\" ng-options=\"option.value for option in ctrl.dias track by option.id\"></select></div><div class=\"col-xs-5\"><select ng-disabled=\"ctrl.disabled\" class=\"form-control\" name=\"meses\" ng-model=\"ctrl.nacimiento.meses\" ng-options=\"option.value for option in ctrl.meses track by option.id\"></select></div><div class=\"col-xs-4\"><select ng-disabled=\"ctrl.disabled\" class=\"form-control\" name=\"anios\" ng-model=\"ctrl.nacimiento.anios\" ng-options=\"option.value for option in ctrl.anios track by option.id\"></select></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>G\\xE9nero:</label><div class=\"input-demo radio-demo row\"><div class=\"col-md-6\"><label class=\"radio-inline custom-radio nowrap\"><input ng-disabled=\"ctrl.disabled\" type=\"radio\" ng-model=\"ctrl.paciente.genero\" ng-value=\"\\'Femenino\\'\"> <span>Femenino</span></label></div><div class=\"col-md-6\"><label class=\"radio-inline custom-radio nowrap\"><input ng-disabled=\"ctrl.disabled\" type=\"radio\" ng-model=\"ctrl.paciente.genero\" ng-value=\"\\'Masculino\\'\"> <span>Masculino</span></label></div></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Nombres y edades de los padres:</label> <textarea ng-disabled=\"ctrl.disabled\" rows=\"3\" type=\"text\" name=\"nombres_padres\" ng-model=\"ctrl.paciente.nombres_padres\" class=\"form-control\" placeholder=\"Nombres y edades de los padres\"></textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Ocupaci\\xF3n de los padres:</label> <textarea ng-disabled=\"ctrl.disabled\" rows=\"3\" type=\"text\" name=\"ocupacion_padres\" ng-model=\"ctrl.paciente.ocupacion_padres\" class=\"form-control\" placeholder=\"Ocupaci\\xF3n de los padres\"></textarea></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Informaci\\xF3n relevante de los padres:</label> <textarea ng-disabled=\"ctrl.disabled\" rows=\"3\" type=\"text\" name=\"info_padres\" ng-model=\"ctrl.paciente.info_padres\" class=\"form-control\" placeholder=\"Salud, estado civil, residencia, etc.\"></textarea></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>N\\xFAmero de hermanos:</label> <input ng-disabled=\"ctrl.disabled\" type=\"number\" min=\"0\" step=\"1\" name=\"num_hermanos\" ng-model=\"ctrl.paciente.num_hermanos\" class=\"form-control\" placeholder=\"0\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Religi\\xF3n:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"religion\" ng-model=\"ctrl.paciente.religion\" class=\"form-control\" placeholder=\"Escribe la religi\\xF3n\" uib-typeahead=\"religiones as religiones for religiones in ctrl.getReligiones($viewValue, item) | limitTo : 10\" typeahead-min-length=\"1\" typeahead-no-results=\"noResults\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Tipo de sangre:</label><select ng-disabled=\"ctrl.disabled\" class=\"form-control\" name=\"tipo_de_sangre\" ng-model=\"ctrl.paciente.tipo_de_sangre\" ng-options=\"option.value for option in ctrl.tiposDeSangre track by option.value\"></select></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Nivel acad\\xE9mico:</label><select ng-disabled=\"ctrl.disabled\" class=\"form-control\" name=\"nivel_academico\" ng-model=\"ctrl.paciente.nivel_academico\" ng-options=\"option.value for option in ctrl.grados track by option.value\"></select></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Ocupaci\\xF3n:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"ocupacion\" ng-model=\"ctrl.paciente.ocupacion\" class=\"form-control\" placeholder=\"Ocupaci\\xF3n\"></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Contacto de referencia:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"contacto_referencia\" ng-model=\"ctrl.paciente.contacto_referencia\" class=\"form-control\" placeholder=\"Contacto de referencia\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><label>Tel\\xE9fono de referencia:</label> <input ng-disabled=\"ctrl.disabled\" type=\"text\" name=\"telefono_referencia\" ng-model=\"ctrl.paciente.telefono_referencia\" class=\"form-control\" placeholder=\"Tel\\xE9fono de referencia\"></div></div>');\n$templateCache.put('app/pages/pacientes/templates/pacientes.create.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"PacientesCreateController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Informaci\\xF3n personal</strong></div><div class=\"panel-body\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"pacientes()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-user-plus\"></span> <strong>Agregar</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/pacientes/templates/pacientes.dialog.html','<div class=\"row\" style=\"font-size: 14px;\"><div class=\"col-xs-12 col-sm-12 col-md-4\"><div><span>Foto:</span><div class=\"text-center img-container img-dialog\"><div ng-if=\"!ctrl.paciente.persona.foto\"><span class=\"fa fa-user-circle-o fa-5x\" style=\"font-size: 120px;\"></span></div><a href=\"\" ng-if=\"ctrl.paciente.persona.foto\" ng-click=\"ctrl.viewImg()\"><img style=\"height: 100%; border-radius: 4%;\" ngf-src=\"ctrl.paciente.persona.foto\"></a></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Nombre completo:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.persona || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Apellido de casada:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.apellido_casada || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Tel\\xE9fono:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.telefono || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>M\\xF3vil:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.celular || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Nombres y edades de los padres:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.nombres_padres || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Correo electr\\xF3nico:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.correo || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>CUI:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.cui || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Nacionalidad:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.nacionalidad || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Departamento:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.departamento || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Direcci\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.persona.direccion || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Fecha de nacimiento:</strong></div><div class=\"mb2 ml8\"><span ng-if=\"ctrl.paciente.fecha_nacimiento\">{{ ctrl.paciente.fecha_nacimiento | date: \\'dd/MMMM/yyyy\\' }}</span> <span ng-if=\"!ctrl.paciente.fecha_nacimiento\">---</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>G\\xE9nero:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.genero || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Ocupaci\\xF3n de los padres:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.ocupacion_padres || \"---\" }}</span></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"area-info\"><div class=\"mb2\"><strong>Tipo de sangre:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.tipo_de_sangre || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Religi\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.religion || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>N\\xFAmero de hermanos:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.num_hermanos || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Nivel acad\\xE9mico:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.nivel_academico || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Ocupaci\\xF3n:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.ocupacion || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Contacto de referencia:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.contacto_referencia || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Tel\\xE9fono de referencia:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.telefono_referencia || \"---\" }}</span></div></div><div class=\"area-info\"><div class=\"mb2\"><strong>Informaci\\xF3n relevante de los padres:</strong></div><div class=\"mb2 ml8\"><span>{{ ctrl.paciente.info_padres || \"---\" }}</span></div></div></div></div><div class=\"row\"><div class=\"col-xs-12 text-center\" style=\"margin-top: 16px;\"><button class=\"btn btn-success\" ng-click=\"ctrl.create()\"><span class=\"fa fa-fw fa-clock-o\"></span> <strong>Reservar cita</strong></button></div></div>');\n$templateCache.put('app/pages/pacientes/templates/pacientes.edit.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"PacientesEditController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Informaci\\xF3n personal</strong></div><div class=\"panel-body\"><div class=\"row\"><div ng-include=\"\\'app/pages/pacientes/templates/form.html\\'\"></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"pacientes()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-pencil\"></span> <strong>Editar</strong></button></div></div></form></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/pacientes/templates/pacientes.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"PacientesController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ui-sref=\"pacientes_create()\"><span class=\"fa fa-fw fa-user-plus\"></span> <strong>Agregar paciente</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Listado de pacientes</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th>Nombre</th><th>CUI</th><th>Tel\\xE9fono</th><th>M\\xF3vil</th><th>Fecha de nacimiento</th><th>Edad</th><th style=\"width: 290px;\">Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.persona.persona }}</td><td>{{ item.persona.cui || \"---\" }}</td><td>{{ item.persona.telefono || \"---\" }}</td><td>{{ item.persona.celular || \"---\" }}</td><td><span ng-if=\"item.fecha_nacimiento\">{{ item.fecha_nacimiento | date: \\'dd/MMMM/yyyy\\' }}</span> <span ng-if=\"!item.fecha_nacimiento\">---</span></td><td><span ng-if=\"item.edad\">{{ item.edad }} a\\xF1os</span> <span ng-if=\"!item.edad\">---</span></td><td><div class=\"btn-group\"><button class=\"btn btn-money\" title=\"Cobro\" ui-sref=\"cobros_paciente({ id: item.id })\"><span class=\"fa fa-money\"></span></button> <button class=\"btn btn-info\" title=\"Nueva consulta\" ng-if=\"ctrl.esMedico\" ui-sref=\"consultas_create({ id: item.id })\"><span class=\"fa fa-user-md\"></span></button> <button class=\"btn btn-info\" title=\"Nuevo caso\" ng-if=\"ctrl.esPsicologo\" ui-sref=\"casos_create({ id: item.id })\"><span class=\"fa fa-file-text\"></span></button> <button class=\"btn btn-success\" title=\"Reservar cita\" ng-click=\"ctrl.create(item)\"><span class=\"fa fa-clock-o\"></span></button> <button class=\"btn btn-primary\" title=\"Ver detalles\" ng-click=\"ctrl.details(item)\"><span class=\"fa fa-bars\"></span></button> <button class=\"btn btn-warning\" title=\"Editar\" ui-sref=\"pacientes_edit({ id: item.id })\"><span class=\"fa fa-pencil\"></span></button> <button class=\"btn btn-danger\" title=\"Eliminar\" ng-click=\"ctrl.delete(item)\"><span class=\"fa fa-trash\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/profesiones/templates/profesiones.dialog.html','<div class=\"m16\"><div class=\"row\"><div class=\"col-xs-12\"><form autocomplete=\"off\" name=\"ctrl.form\" novalidate=\"\" ng-submit=\"ctrl.save()\"><div class=\"form-group\"><label>Profesi\\xF3n:</label> <span class=\"text-danger field-required\">*</span> <input class=\"form-control\" placeholder=\"Nombre de la profesi\\xF3n\" autofocus=\"\" type=\"text\" name=\"profesion\" required=\"\" ng-model=\"ctrl.profesion.profesion\"> <span ng-show=\"ctrl.form.profesion.$dirty && ctrl.form.profesion.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div><div class=\"text-center\"><button class=\"btn btn-danger\" type=\"button\" ng-click=\"closeThisDialog()\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\" ng-click=\"ctrl.save()\"><span class=\"fa fa-fw fa-check\"></span> <strong>Guardar</strong></button></div></form></div></div></div>');\n$templateCache.put('app/pages/profesiones/templates/profesiones.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"ProfesionController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ng-click=\"ctrl.create()\"><span class=\"fa fa-fw fa-plus\"></span> <strong>Nueva profesi\\xF3n</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Listado de profesiones</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th>ID</th><th>Profesi\\xF3n</th><th>Fecha de creaci\\xF3n</th><th>Fecha de modificaci\\xF3n</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.id }}</td><td>{{ item.profesion }}</td><td>{{ item.fecha_creacion | date: \\'dd/MMMM/yyyy\\' }}</td><td>{{ item.fecha_modificacion | date: \\'dd/MMMM/yyyy\\' }}</td><td><div class=\"btn-group\"><button class=\"btn btn-warning\" title=\"Editar\" ng-click=\"ctrl.update(item)\"><span class=\"fa fa-pencil\"></span></button> <button class=\"btn btn-danger\" title=\"Eliminar\" ng-click=\"ctrl.delete(item)\"><span class=\"fa fa-trash\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/users/templates/form.html','<div class=\"row mh0 form-group\"><div class=\"col-xs-12\"><label>Foto de perfil:</label><div class=\"text-center img-container\"><div ng-if=\"!ctrl.perfil.persona.foto\"><span class=\"fa fa-user-circle-o fa-5x\" style=\"font-size: 100px;\"></span></div><a href=\"\" ng-if=\"ctrl.perfil.persona.foto\" ng-click=\"ctrl.viewImg()\"><img style=\"height: 150px; border-radius: 4%;\" ngf-src=\"ctrl.perfil.persona.foto\"></a></div><div class=\"text-center\"><label class=\"btn btn-default\" for=\"imageInput\" style=\"cursor: pointer;\"><span class=\"fa fa-upload fa-fw\"></span> <strong>Subir foto</strong></label> <input id=\"imageInput\" style=\"opacity: 0; position: absolute; z-index: -1;\" class=\"form-control\" filestyle=\"\" type=\"file\" accept=\"image/*\" data-class-button=\"btn btn-default\" data-class-input=\"form-control\" data-button-text=\"Subir imagen\"></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Nombre completo:</label><span class=\"text-danger field-required\">*</span> <input type=\"text\" autofocus=\"\" name=\"persona\" ng-model=\"ctrl.perfil.persona.persona\" class=\"form-control\" placeholder=\"Nombre completo\" required=\"\"> <span ng-show=\"ctrl.form.persona.$dirty && ctrl.form.persona.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Tel\\xE9fono:</label> <input type=\"text\" name=\"telefono\" ng-model=\"ctrl.perfil.persona.telefono\" class=\"form-control\" ui-mask=\"9999-9999\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>M\\xF3vil:</label> <input type=\"text\" name=\"celular\" ng-model=\"ctrl.perfil.persona.celular\" class=\"form-control\" ui-mask=\"9999-9999\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Nacionalidad:</label> <input type=\"text\" name=\"nacionalidad\" ng-model=\"ctrl.perfil.persona.nacionalidad\" class=\"form-control\" placeholder=\"Nacionalidad\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Departamento:</label> <input type=\"text\" name=\"departamento\" ng-model=\"ctrl.departamento\" class=\"form-control\" placeholder=\"Escribe el departamento\" uib-typeahead=\"departamentos as departamentos.name for departamentos in ctrl.getDepartamentos($viewValue, item) | limitTo : 10\" typeahead-min-length=\"1\" typeahead-no-results=\"noResults\" value=\"{{ item.pasajero.id }}\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Direcci\\xF3n:</label> <input type=\"text\" name=\"direccion\" ng-model=\"ctrl.perfil.persona.direccion\" class=\"form-control\" placeholder=\"Direcci\\xF3n\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Acceso:</label><span class=\"text-danger field-required\">*</span><ui-select name=\"roles\" multiple=\"\" ng-model=\"ctrl.perfil.roles\" search-enabled=\"true\" append-to-body=\"true\" class=\"form-control\" required=\"\"><ui-select-match placeholder=\"Nivel de acceso\">{{ $item.name }}</ui-select-match><ui-select-choices repeat=\"item in ctrl.roles | filter: $select.search\">{{ item.name }}</ui-select-choices></ui-select><span ng-show=\"ctrl.form.roles.$dirty && ctrl.form.roles.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Profesi\\xF3n:</label> <input type=\"text\" name=\"profesion\" ng-model=\"ctrl.perfil.profesion\" class=\"form-control\" placeholder=\"Seleccione la profesi\\xF3n\" uib-typeahead=\"profesiones as profesiones.profesion for profesiones in ctrl.getProfesiones($viewValue, item)\" typeahead-min-length=\"1\" typeahead-no-results=\"noResults\" value=\"{{ item.pasajero.id }}\"></div></div><div class=\"mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>No. Colegiado:</label> <input type=\"number\" min=\"0\" name=\"celular\" ng-model=\"ctrl.perfil.colegiado\" class=\"form-control\" placeholder=\"No. Colegiado\"></div></div>');\n$templateCache.put('app/pages/users/templates/form.profile.html','<div class=\"row mh0 form-group\"><div class=\"col-xs-12\"><label>Foto de perfil:</label><div class=\"text-center img-container\"><div ng-if=\"!ctrl.perfil.persona.foto\"><span class=\"fa fa-user-circle-o fa-5x\" style=\"font-size: 100px;\"></span></div><a href=\"\" ng-if=\"ctrl.perfil.persona.foto\" ng-click=\"ctrl.viewImg()\"><img style=\"height: 150px; border-radius: 4%;\" ngf-src=\"ctrl.perfil.persona.foto\"></a></div><div class=\"text-center\"><label class=\"btn btn-default\" for=\"imageInput\" style=\"cursor: pointer;\"><span class=\"fa fa-upload fa-fw\"></span> <strong>Subir foto</strong></label> <input id=\"imageInput\" style=\"opacity: 0; position: absolute; z-index: -1;\" class=\"form-control\" filestyle=\"\" type=\"file\" accept=\"image/*\" data-class-button=\"btn btn-default\" data-class-input=\"form-control\" data-button-text=\"Subir imagen\"></div></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Nombre completo:</label><span class=\"text-danger field-required\">*</span> <input type=\"text\" autofocus=\"\" name=\"persona\" ng-model=\"ctrl.perfil.persona.persona\" class=\"form-control\" placeholder=\"Nombre completo\" required=\"\"> <span ng-show=\"ctrl.form.persona.$dirty && ctrl.form.persona.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Tel\\xE9fono:</label> <input type=\"text\" name=\"telefono\" ng-model=\"ctrl.perfil.persona.telefono\" class=\"form-control\" ui-mask=\"9999-9999\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>M\\xF3vil:</label> <input type=\"text\" name=\"celular\" ng-model=\"ctrl.perfil.persona.celular\" class=\"form-control\" ui-mask=\"9999-9999\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Nacionalidad:</label> <input type=\"text\" name=\"nacionalidad\" ng-model=\"ctrl.perfil.persona.nacionalidad\" class=\"form-control\" placeholder=\"Nacionalidad\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Departamento:</label> <input type=\"text\" name=\"departamento\" ng-model=\"ctrl.departamento\" class=\"form-control\" placeholder=\"Escribe el departamento\" uib-typeahead=\"departamentos as departamentos.name for departamentos in ctrl.getDepartamentos($viewValue, item) | limitTo : 10\" typeahead-min-length=\"1\" typeahead-no-results=\"noResults\" value=\"{{ item.pasajero.id }}\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Direcci\\xF3n:</label> <input type=\"text\" name=\"direccion\" ng-model=\"ctrl.perfil.persona.direccion\" class=\"form-control\" placeholder=\"Direcci\\xF3n\"></div></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>No. Colegiado:</label> <input type=\"number\" name=\"celular\" min=\"0\" ng-model=\"ctrl.perfil.colegiado\" class=\"form-control\" placeholder=\"No. Colegiado\"></div><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Correo electr\\xF3nico:</label> <span class=\"text-danger field-required\">*</span> <input type=\"email\" name=\"email\" ng-model=\"ctrl.perfil.persona.correo\" class=\"form-control\" placeholder=\"mail@ejemplo.com\" required=\"\"> <span class=\"text-danger\" ng-show=\"ctrl.form.email.$dirty && ctrl.form.email.$error.email\">Debes ingresar un email v\\xE1lido</span> <span ng-show=\"ctrl.form.email.$dirty && ctrl.form.email.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div></div>');\n$templateCache.put('app/pages/users/templates/img.dialog.html','<div class=\"row\" style=\"margin: 16px 0;\"><div class=\"col-xs-12\"><div class=\"text-center img-container\"><img style=\"max-height: 750px; max-width: 100%;\" ngf-src=\"actual_user_foto\"></div></div></div>');\n$templateCache.put('app/pages/users/templates/users.create.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"UserCreateController as ctrl\"><div class=\"row\"><div class=\"col-xs-12\"><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-body\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-8\"><div class=\"panel panel-primary\" style=\"margin-bottom:16px;\"><div class=\"panel-heading\"><strong>Informaci\\xF3n personal</strong></div><div class=\"panel-body\"><div class=\"row\"><div ng-include=\"\\'app/pages/users/templates/form.html\\'\"></div></div></div></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><div class=\"panel panel-primary m0\"><div class=\"panel-heading\"><strong>Credenciales</strong></div><div class=\"panel-body\"><div class=\"row\"><div class=\"col-xs-12 form-group mh0\"><label>Correo electr\\xF3nico:</label> <span class=\"text-danger field-required\">*</span> <input type=\"email\" name=\"email\" ng-model=\"ctrl.perfil.persona.correo\" class=\"form-control\" placeholder=\"mail@ejemplo.com\" required=\"\"> <span class=\"text-danger\" ng-show=\"ctrl.form.email.$dirty && ctrl.form.email.$error.email\">Debes ingresar un email v\\xE1lido</span> <span ng-show=\"ctrl.form.email.$dirty && ctrl.form.email.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div><div class=\"col-xs-12 form-group mh0\"><label>Contrase\\xF1a:</label> <span class=\"text-danger field-required\">*</span> <input type=\"password\" name=\"password\" ng-model=\"ctrl.perfil.password\" class=\"form-control\" placeholder=\"Contrase\\xF1a\" required=\"\" ng-pattern=\"/^[a-zA-Z0-9]{8,32}$/\" ng-change=\"ctrl.validate_password()\"> <span ng-show=\"ctrl.form.password.$dirty && ctrl.form.password.$error.required\" class=\"text-danger\">Este campo es requerido.</span> <span ng-show=\"ctrl.form.password.$error.pattern\" class=\"text-danger\">La contrase\\xF1a debe contener entre 8 a 32 caracteres.</span></div><div class=\"col-xs-12 form-group mh0\"><label>Repetir Contrase\\xF1a:</label> <span class=\"text-danger field-required\">*</span> <input type=\"password\" name=\"password_confirm\" ng-model=\"ctrl.perfil.password_confirm\" class=\"form-control\" placeholder=\"Repetir contrase\\xF1a\" required=\"\" ng-change=\"ctrl.validate_password()\"> <span ng-show=\"ctrl.form.password_confirm.$dirty && ctrl.form.password_confirm.$error.required\" class=\"text-danger\">Este campo es requerido.</span> <span class=\"text-danger\" ng-show=\"!ctrl.password_confirm && ctrl.perfil.password_confirm\">Las contrase\\xF1as no coinciden.</span></div></div></div></div></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"users()\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-user-plus\"></span> <strong>Agregar</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/users/templates/users.edit.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"UserEditController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-8\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\" style=\"margin-bottom:16px;\"><div class=\"panel-heading\"><strong>Informaci\\xF3n personal</strong></div><div class=\"panel-body\"><div class=\"row\"><div ng-include=\"\\'app/pages/users/templates/form.html\\'\"></div><div class=\"row mh0 form-group\"><div class=\"col-xs-12 col-sm-12 col-md-6\"><label>Correo electr\\xF3nico:</label> <span class=\"text-danger field-required\">*</span> <input type=\"email\" name=\"email\" ng-model=\"ctrl.perfil.persona.correo\" class=\"form-control\" placeholder=\"mail@ejemplo.com\" required=\"\"> <span class=\"text-danger\" ng-show=\"ctrl.form.email.$dirty && ctrl.form.email.$error.email\">Debes ingresar un email v\\xE1lido</span> <span ng-show=\"ctrl.form.email.$dirty && ctrl.form.email.$error.required\" class=\"text-danger\">Este campo es requerido.</span></div></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"users\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Guardar</strong></button></div></div></form></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><form name=\"ctrl.form_password\" ng-submit=\"ctrl.restore_password()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn m0\"><div class=\"panel-heading\"><strong>Restablecer contrase\\xF1a</strong></div><div class=\"panel-body\"><div class=\"row\"><div class=\"col-xs-12 form-group mh0\"><label>Contrase\\xF1a:</label> <span class=\"text-danger field-required\">*</span> <input type=\"password\" name=\"password\" ng-model=\"ctrl.perfil.password\" class=\"form-control\" placeholder=\"Contrase\\xF1a\" required=\"\" ng-pattern=\"/^[a-zA-Z0-9]{8,32}$/\" ng-change=\"ctrl.validate_password()\"> <span ng-show=\"ctrl.form_password.password.$dirty && ctrl.form_password.password.$error.required\" class=\"text-danger\">Este campo es requerido.</span> <span ng-show=\"ctrl.form_password.password.$error.pattern\" class=\"text-danger\">La contrase\\xF1a debe contener entre 8 a 32 caracteres.</span></div><div class=\"col-xs-12 form-group mh0\"><label>Repetir Contrase\\xF1a:</label> <span class=\"text-danger field-required\">*</span> <input type=\"password\" name=\"password_confirm\" ng-model=\"ctrl.perfil.password_confirm\" class=\"form-control\" placeholder=\"Repetir contrase\\xF1a\" required=\"\" ng-change=\"ctrl.validate_password()\"> <span ng-show=\"ctrl.form_password.password_confirm.$dirty && ctrl.form_password.password_confirm.$error.required\" class=\"text-danger\">Este campo es requerido.</span> <span class=\"text-danger\" ng-show=\"!ctrl.password_confirm && ctrl.perfil.password_confirm\">Las contrase\\xF1as no coinciden.</span></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Restablecer</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/users/templates/users.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"UserController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-6 col-md-8 col-lg-8\" style=\"padding-bottom: 17px\"><button class=\"btn btn-success\" ui-sref=\"users_create()\"><span class=\"fa fa-fw fa-user-plus\"></span> <strong>Agregar colaborador</strong></button></div><div class=\"col-xs-12 col-sm-6 col-md-4 col-lg-4\"><form autocomplete=\"off\" ng-submit=\"ctrl.search()\"><div class=\"form-group\"><div class=\"input-group\"><input type=\"text\" name=\"find\" class=\"form-control ng-pristine ng-valid ng-touched\" placeholder=\"Buscar\" ng-model=\"ctrl.pagination.search\" ng-change=\"ctrl.search()\"> <span class=\"input-group-btn\"><button class=\"btn btn-default\" type=\"submit\"><span class=\"fa fa-fw fa-search\"></span> <strong>Buscar</strong></button></span></div></div></form></div></div><div class=\"row\"><div class=\"col-xs-12\"><div class=\"mb16 rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><div class=\"panel panel-primary animated zoomIn\"><div class=\"panel-heading\"><strong>Listado de colaboradores</strong></div><div class=\"table-responsive\"><table class=\"table table-striped\"><thead><tr><th>Nombre</th><th>Correo electr\\xF3nico</th><th>Tel\\xE9fono</th><th>M\\xF3vil</th><th>Profesi\\xF3n</th><th>Acceso</th><th>Acciones</th></tr></thead><tbody><tr ng-repeat=\"item in ctrl.array\"><td>{{ item.persona.persona }}</td><td>{{ item.persona.correo }}</td><td>{{ item.persona.telefono || \"---\" }}</td><td>{{ item.persona.celular || \"---\" }}</td><td>{{ item.profesion.profesion || \"---\" }}</td><td>{{ item.roles }}</td><td><div class=\"btn-group\"><button class=\"btn btn-warning\" title=\"Editar\" ui-sref=\"users_edit({ id: item.id })\"><span class=\"fa fa-pencil\"></span></button> <button class=\"btn btn-danger\" title=\"Eliminar\" ng-click=\"ctrl.delete(item)\"><span class=\"fa fa-trash\"></span></button></div></td></tr></tbody></table></div></div><div class=\"custom-pagination pagination-sm\" uib-pagination=\"\" previous-text=\"Anterior\" next-text=\"Siguiente\" first-text=\"Primero\" last-text=\"\\xDAltimo\" total-items=\"ctrl.pagination.total_items\" ng-model=\"ctrl.pagination.current_page\" max-size=\"ctrl.pagination.max_size\" boundary-links=\"true\" rotate=\"false\" ng-change=\"ctrl.page_changed()\"></div></div></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/pages/users/templates/users.profile.html','<div><ba-sidebar></ba-sidebar><page-top></page-top><div class=\"al-main\"><div class=\"al-content\"><content-top></content-top><div ng-controller=\"UserEditController as ctrl\"><div class=\"row\"><div class=\"col-xs-12 col-sm-12 col-md-8\"><div class=\"rel\"><mi-loader ng-show=\"ctrl.loading\"></mi-loader><form name=\"ctrl.form\" autocomplete=\"off\" ng-submit=\"ctrl.save()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn\" style=\"margin-bottom:16px;\"><div class=\"panel-heading\"><strong>Informaci\\xF3n personal</strong></div><div class=\"panel-body\"><div class=\"row\"><div ng-include=\"\\'app/pages/users/templates/form.profile.html\\'\"></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-danger\" ui-sref=\"citas\" type=\"button\"><span class=\"fa fa-fw fa-times-circle\"></span> <strong>Cancelar</strong></button> <button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Guardar</strong></button></div></div></form></div></div><div class=\"col-xs-12 col-sm-12 col-md-4\"><form name=\"ctrl.form_password\" ng-submit=\"ctrl.restore_password()\" novalidate=\"\"><div class=\"panel panel-primary animated zoomIn m0\"><div class=\"panel-heading\"><strong>Restablecer contrase\\xF1a</strong></div><div class=\"panel-body\"><div class=\"row\"><div class=\"col-xs-12 form-group mh0\"><label>Contrase\\xF1a:</label> <span class=\"text-danger field-required\">*</span> <input type=\"password\" name=\"password\" ng-model=\"ctrl.perfil.password\" class=\"form-control\" placeholder=\"Contrase\\xF1a\" required=\"\" ng-pattern=\"/^[a-zA-Z0-9]{8,32}$/\" ng-change=\"ctrl.validate_password()\"> <span ng-show=\"ctrl.form_password.password.$dirty && ctrl.form_password.password.$error.required\" class=\"text-danger\">Este campo es requerido.</span> <span ng-show=\"ctrl.form_password.password.$error.pattern\" class=\"text-danger\">La contrase\\xF1a debe contener entre 8 a 32 caracteres.</span></div><div class=\"col-xs-12 form-group mh0\"><label>Repetir Contrase\\xF1a:</label> <span class=\"text-danger field-required\">*</span> <input type=\"password\" name=\"password_confirm\" ng-model=\"ctrl.perfil.password_confirm\" class=\"form-control\" placeholder=\"Repetir contrase\\xF1a\" required=\"\" ng-change=\"ctrl.validate_password()\"> <span ng-show=\"ctrl.form_password.password_confirm.$dirty && ctrl.form_password.password_confirm.$error.required\" class=\"text-danger\">Este campo es requerido.</span> <span class=\"text-danger\" ng-show=\"!ctrl.password_confirm && ctrl.perfil.password_confirm\">Las contrase\\xF1as no coinciden.</span></div></div></div><div class=\"panel-footer text-center\"><button class=\"btn btn-success\" type=\"submit\"><span class=\"fa fa-fw fa-check\"></span> <strong>Restablecer</strong></button></div></div></form></div></div></div></div></div><footer class=\"al-footer clearfix\"><div class=\"al-footer-main clearfix\"><div class=\"al-copy\"><span style=\"font-size:14px;\">La Fundaci\\xF3n Talita Kum</span></div><ul class=\"al-share clearfix\"></ul></div></footer></div>');\n$templateCache.put('app/theme/components/baSidebar/ba-sidebar.html','<aside class=\"al-sidebar\" ng-swipe-right=\"$baSidebarService.setMenuCollapsed(false)\" ng-swipe-left=\"$baSidebarService.setMenuCollapsed(true)\" ng-mouseleave=\"hoverElemTop=selectElemTop\"><ul class=\"al-sidebar-list\" slimscroll=\"{height: \\'{{menuHeight}}px\\'}\" slimscroll-watch=\"menuHeight\"><li ng-repeat=\"item in menuItems\" class=\"al-sidebar-list-item\" ng-class=\"::{\\'with-sub-menu\\': item.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"item\"><a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"item.stateRef || \\'\\'\" ng-href=\"{{::(item.fixedHref ? item.fixedHref: \\'\\')}}\" ng-if=\"::!item.subMenu\" class=\"al-sidebar-list-link\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::item.subMenu\" class=\"al-sidebar-list-link\" ba-ui-sref-toggler=\"\"><i class=\"{{ ::item.icon }}\"></i><span>{{ ::item.title }}</span> <b class=\"fa fa-angle-down\" ui-sref-active=\"fa-angle-up\" ng-if=\"::item.subMenu\"></b></a><ul ng-if=\"::item.subMenu\" class=\"al-sidebar-sublist\" ng-class=\"{\\'slide-right\\': item.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-repeat=\"subitem in ::item.subMenu\" ng-class=\"::{\\'with-sub-menu\\': subitem.subMenu}\" ui-sref-active=\"selected\" ba-sidebar-toggling-item=\"subitem\" class=\"ba-sidebar-sublist-item\"><a ng-mouseenter=\"hoverItem($event, item)\" ng-if=\"::subitem.subMenu\" ba-ui-sref-toggler=\"\" class=\"al-sidebar-list-link subitem-submenu-link\"><span>{{ ::subitem.title }}</span> <b class=\"fa\" ng-class=\"{\\'fa-angle-up\\': subitem.expanded, \\'fa-angle-down\\': !subitem.expanded}\" ng-if=\"::subitem.subMenu\"></b></a><ul ng-if=\"::subitem.subMenu\" class=\"al-sidebar-sublist subitem-submenu-list\" ng-class=\"{expanded: subitem.expanded, \\'slide-right\\': subitem.slideRight}\" ba-ui-sref-toggling-submenu=\"\"><li ng-mouseenter=\"hoverItem($event, item)\" ng-repeat=\"subSubitem in ::subitem.subMenu\" ui-sref-active=\"selected\"><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::subSubitem.disabled\" class=\"al-sidebar-list-link\">{{ ::subSubitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" ui-state=\"subSubitem.stateRef || \\'\\'\" ng-if=\"::!subSubitem.disabled\" ng-href=\"{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \\'\\')}}\">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter=\"hoverItem($event, item)\" href=\"\" ng-if=\"::(!subitem.subMenu && subitem.disabled)\" class=\"al-sidebar-list-link\">{{ ::subitem.title }}</a> <a ng-mouseenter=\"hoverItem($event, item)\" target=\"{{::(subitem.blank ? \\'_blank\\' : \\'_self\\')}}\" ng-if=\"::(!subitem.subMenu && !subitem.disabled)\" ui-state=\"subitem.stateRef || \\'\\'\" ng-href=\"{{::(subitem.fixedHref ? subitem.fixedHref: \\'\\')}}\">{{ ::subitem.title}}</a></li></ul></li></ul><div class=\"sidebar-hover-elem\" ng-style=\"{top: hoverElemTop + \\'px\\', height: hoverElemHeight + \\'px\\'}\" ng-class=\"{\\'show-hover-elem\\': showHoverElem }\"></div></aside>');\n$templateCache.put('app/theme/components/baWizard/baWizard.html','<div class=\"ba-wizard\"><div class=\"ba-wizard-navigation-container\"><div ng-repeat=\"t in $baWizardController.tabs\" class=\"ba-wizard-navigation {{$baWizardController.tabNum == $index ? \\'active\\' : \\'\\'}}\" ng-click=\"$baWizardController.selectTab($index)\">{{t.title}}</div></div><div class=\"progress ba-wizard-progress\"><div class=\"progress-bar progress-bar-danger active\" role=\"progressbar\" aria-valuemin=\"0\" aria-valuemax=\"100\" ng-style=\"{width: $baWizardController.progress + \\'%\\'}\"></div></div><div class=\"steps\" ng-transclude=\"\"></div><nav><ul class=\"pager ba-wizard-pager\"><li class=\"Anterior\"><button ng-disabled=\"$baWizardController.isFirstTab()\" ng-click=\"$baWizardController.previousTab()\" type=\"button\" class=\"btn btn-primary\"><span aria-hidden=\"true\">&larr;</span> previous</button></li><li class=\"Siguiente\"><button ng-disabled=\"$baWizardController.isLastTab()\" ng-click=\"$baWizardController.nextTab()\" type=\"button\" class=\"btn btn-primary\">next <span aria-hidden=\"true\">&rarr;</span></button></li></ul></nav></div>');\n$templateCache.put('app/theme/components/baWizard/baWizardStep.html','<section ng-show=\"selected\" class=\"step\" ng-transclude=\"\"></section>');\n$templateCache.put('app/theme/components/backTop/backTop.html','<i class=\"fa fa-angle-up back-top\" id=\"backTop\" title=\"Back to Top\"></i>');\n$templateCache.put('app/theme/components/contentTop/contentTop.html','<div class=\"content-top clearfix\"><h1 class=\"al-title\">{{ activePageTitle }}</h1><ul class=\"breadcrumb al-breadcrumb\"><li><a href=\"#/citas\">Home</a></li><li>{{ activePageTitle }}</li></ul></div>');\n$templateCache.put('app/theme/components/msgCenter/msgCenter.html','<ul class=\"al-msg-center clearfix\"><li uib-dropdown=\"\"><a href=\"\" uib-dropdown-toggle=\"\"><i class=\"fa fa-bell-o\"></i><span>5</span><div class=\"notification-ring\"></div></a><div uib-dropdown-menu=\"\" class=\"top-dropdown-menu\"><i class=\"dropdown-arr\"></i><div class=\"header clearfix\"><strong>Notifications</strong> <a href=\"\">Mark All as Read</a> <a href=\"\">Settings</a></div><div class=\"msg-list\"><a href=\"\" class=\"clearfix\" ng-repeat=\"msg in notifications\"><div class=\"img-area\"><img ng-class=\"{\\'photo-msg-item\\' : !msg.image}\" ng-src=\"{{::( msg.image || (users[msg.userId].name | profilePicture) )}}\"></div><div class=\"msg-area\"><div ng-bind-html=\"getMessage(msg)\"></div><span>{{ msg.time }}</span></div></a></div><a href=\"\">See all notifications</a></div></li><li uib-dropdown=\"\"><a href=\"\" class=\"msg\" uib-dropdown-toggle=\"\"><i class=\"fa fa-envelope-o\"></i><span>5</span><div class=\"notification-ring\"></div></a><div uib-dropdown-menu=\"\" class=\"top-dropdown-menu\"><i class=\"dropdown-arr\"></i><div class=\"header clearfix\"><strong>Messages</strong> <a href=\"\">Mark All as Read</a> <a href=\"\">Settings</a></div><div class=\"msg-list\"><a href=\"\" class=\"clearfix\" ng-repeat=\"msg in messages\"><div class=\"img-area\"><img class=\"photo-msg-item\" ng-src=\"{{::( users[msg.userId].name | profilePicture )}}\"></div><div class=\"msg-area\"><div>{{ msg.text }}</div><span>{{ msg.time }}</span></div></a></div><a href=\"\">See all messages</a></div></li></ul>');\n$templateCache.put('app/theme/components/pageTop/pageTop.html','<div class=\"page-top clearfix\" scroll-position=\"scrolled\" max-height=\"50\" ng-class=\"{\\'scrolled\\': scrolled}\"><a style=\"position:relative;\" href=\"#/dashboard\" class=\"al-logo clearfix\"><img style=\"max-height: 54px; margin-top: 3px; padding: 0 24px;\" src=\"assets/img/fundacion/logo_blanco_small.png\"></a> <a href=\"\" class=\"collapse-menu-link ion-navicon\" ba-sidebar-toggle-menu=\"\"></a><div class=\"user-profile clearfix\"><div class=\"al-user-profile\" uib-dropdown=\"\" ng-controller=\"MeController as me\"><a style=\"color:#F5F5F5;\" uib-dropdown-toggle=\"\" class=\"profile-toggle-link\"><div class=\"rel\"><strong class=\"user-profile-name text-default\">{{ user.persona.name || \"\" }}</strong></div><img ng-if=\"user_img\" ngf-src=\"user_img\"> <span ng-if=\"!user_img\" class=\"fa fa-user-circle-o fa-3x\"></span></a><ul class=\"top-dropdown-menu profile-dropdown\" uib-dropdown-menu=\"\"><li><i class=\"dropdown-arr\"></i></li><li ng-controller=\"LogoutController as ctrl\"><a href=\"\" ui-sref=\"users_profile({ id: user.id })\" class=\"signout\"><i class=\"fa fa-user\"></i>Perfil</a> <a href=\"\" ng-click=\"ctrl.logout()\" class=\"signout\"><i class=\"fa fa-sign-out\"></i>Cerrar sesi\\xF3n</a></li></ul></div></div></div>');\n$templateCache.put('app/theme/components/progressBarRound/progressBarRound.html','<svg class=\"center-block progress-bar-round\" width=\"200\" height=\"200\"><circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" stroke=\"#F8F8FF\" stroke-width=\"8\"></circle><circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" id=\"loader\" class=\"\" stroke=\"#209e91\" stroke-width=\"8\" stroke-dasharray=\"0,20000\" transform=\"rotate(-90,100,100)\" stroke-linecap=\"round\"></circle><text text-anchor=\"middle\" class=\"loading\" x=\"100\" y=\"90\">Loading...</text><text class=\"percentage\" text-anchor=\"middle\" x=\"100\" y=\"130\">{{progress}}%</text></svg>');\n$templateCache.put('app/theme/components/widgets/widgets.html','<div class=\"widgets\"><div ng-repeat=\"widgetBlock in ngModel\" ng-class=\"{\\'row\\': widgetBlock.widgets.length > 1}\"><div ng-repeat=\"widgetCol in widgetBlock.widgets\" ng-class=\"{\\'col-md-6\\': widgetBlock.widgets.length === 2}\" ng-model=\"widgetCol\" class=\"widgets-block\"><div ba-panel=\"\" ba-panel-title=\"{{::widget.title}}\" ng-repeat=\"widget in widgetCol\" ba-panel-class=\"with-scroll {{widget.panelClass}}\"><div ng-include=\"widget.url\"></div></div></div></div></div>');\n$templateCache.put('app/theme/inputs/baSwitcher/baSwitcher.html','<label class=\"switcher-container\"><input type=\"checkbox\" ng-model=\"switcherValue\"><div class=\"switcher\" ng-class=\"::switcherStyle\"><div class=\"handle-container\"><span class=\"handle handle-on\">ON</span> <span class=\"handle\"></span> <span class=\"handle handle-off\">OFF</span></div></div></label>');}]);"],"sourceRoot":"/source/"}